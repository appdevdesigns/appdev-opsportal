/*[global-shim-start]*/
!function(exports,global){var origDefine=global.define,get=function(e){var o,l=e.split("."),n=global;for(o=0;o<l.length&&n;o++)n=n[l[o]];return n},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,o,l){var n;"function"==typeof o&&(l=o,o=[]);var r,t=[];for(r=0;r<o.length;r++)t.push(exports[o[r]]?get(exports[o[r]]):modules[o[r]]||get(o[r]));if(!o.length&&l.length){n={exports:{}};var i=function(e){return exports[e]?get(exports[e]):modules[e]};t.push(i,n.exports,n)}else t[0]||"exports"!==o[0]?t[0]||"module"!==o[0]||(t[0]={id:e}):(n={exports:{}},t[0]=n.exports,"module"===o[1]&&(t[1]=n));global.define=origDefine;var a=l?l.apply(null,t):void 0;global.define=ourDefine,modules[e]=n&&n.exports?n.exports:a};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}})}({},window);
/*opstools/RBAC/models/base/PermissionRole*/
define("opstools/RBAC/models/base/PermissionRole",["appdev/appdev"],function(){AD.Model.Base.extend("opstools.RBAC.PermissionRole",{findAll:"GET /appdev-core/permissionrole",findOne:"GET /appdev-core/permissionrole/{id}",create:"POST /appdev-core/permissionrole",update:"PUT /appdev-core/permissionrole/{id}",destroy:"DELETE /appdev-core/permissionrole/{id}",describe:function(){return{role_label:"string",role_description:"text"}},associations:["actions","permissions"],multilingualFields:["role_label","role_description"],validations:{role_label:["notEmpty"],role_description:["notEmpty"]},fieldId:"id",fieldLabel:"role_label"},{})});
/*opstools/RBAC/models/PermissionRole*/
define("opstools/RBAC/models/PermissionRole",["appdev/appdev","opstools/RBAC/models/base/PermissionRole"],function(){AD.Model.extend("opstools.RBAC.PermissionRole",{},{})});
/*opstools/RBAC/models/base/PermissionScope*/
define("opstools/RBAC/models/base/PermissionScope",["appdev/appdev"],function(){AD.Model.Base.extend("opstools.RBAC.PermissionScope",{findAll:"GET /appdev-core/permissionscope",findOne:"GET /appdev-core/permissionscope/{id}",create:"POST /appdev-core/permissionscope",update:"PUT /appdev-core/permissionscope/{id}",destroy:"DELETE /permissionscope/{id}",describe:function(){return{label:"string"}},fieldId:"id",fieldLabel:"label"},{})});
/*opstools/RBAC/models/PermissionScope*/
define("opstools/RBAC/models/PermissionScope",["appdev/appdev","opstools/RBAC/models/base/PermissionScope"],function(){AD.Model.extend("opstools.RBAC.PermissionScope",{},{})});
/*opstools/RBAC/models/base/Permission*/
define("opstools/RBAC/models/base/Permission",["appdev/appdev","opstools/RBAC/models/PermissionRole","opstools/RBAC/models/PermissionScope"],function(){var e=AD.Model.get("opstools.RBAC.PermissionRole"),o=AD.Model.get("opstools.RBAC.PermissionScope");AD.Model.Base.extend("opstools.RBAC.Permission",{findAll:"GET /appdev-core/permission",findOne:"GET /appdev-core/permission/{id}",create:"POST /appdev-core/permission",update:"PUT /appdev-core/permission/{id}",destroy:"DELETE /appdev-core/permission/{id}",define:{role:{Type:e},scope:{Type:o}},describe:function(){return{user:"string",role:"string",scope:"string",enabled:"bool"}},fieldId:"id",fieldLabel:"user"},{})});
/*opstools/RBAC/models/Permission*/
define("opstools/RBAC/models/Permission",["appdev/appdev","opstools/RBAC/models/base/Permission"],function(){AD.Model.extend("opstools.RBAC.Permission",{},{})});
/*opstools/RBAC/models/base/SiteUser*/
define("opstools/RBAC/models/base/SiteUser",["appdev/appdev","opstools/RBAC/models/Permission"],function(){var e=AD.Model.get("opstools.RBAC.Permission");AD.Model.Base.extend("opstools.RBAC.SiteUser",{findAll:"GET /appdev-core/siteuser",findOne:"GET /appdev-core/siteuser/{id}",create:"POST /appdev-core/siteuser",update:"PUT /appdev-core/siteuser/{id}",destroy:"DELETE /appdev-core/siteuser/{id}",define:{permissions:{Type:e}},describe:function(){return{}},fieldId:"id",fieldLabel:"username"},{})});
/*opstools/RBAC/models/SiteUser*/
define("opstools/RBAC/models/SiteUser",["appdev/appdev","opstools/RBAC/models/base/SiteUser"],function(){AD.Model.extend("opstools.RBAC.SiteUser",{},{numAssignments:function(){return this.permission?this.permission.length:"?"}})});
/*opstools/RBAC/models/base/PermissionAction*/
define("opstools/RBAC/models/base/PermissionAction",["appdev/appdev"],function(){AD.Model.Base.extend("opstools.RBAC.PermissionAction",{findAll:"GET /appdev-core/permissionaction",findOne:"GET /appdev-core/permissionaction/{id}",create:"POST /appdev-core/permissionaction",update:"PUT /appdev-core/permissionaction/{id}",destroy:"DELETE /appdev-core/permissionaction/{id}",describe:function(){return{action_key:"string",action_description:"text"}},multilingualFields:["action_description"],validations:{action_key:["notEmpty"],action_description:["notEmpty"]},fieldId:"id",fieldLabel:"action_key"},{})});
/*opstools/RBAC/models/PermissionAction*/
define("opstools/RBAC/models/PermissionAction",["appdev/appdev","opstools/RBAC/models/base/PermissionAction"],function(){AD.Model.extend("opstools.RBAC.PermissionAction",{},{})});
/*opstools/RBAC/controllers/Users*/
define("opstools/RBAC/controllers/Users",["appdev/appdev","opstools/RBAC/models/SiteUser","opstools/RBAC/models/Permission","opstools/RBAC/models/PermissionRole","opstools/RBAC/models/PermissionScope"],function(){AD.Control.extend("opstools.RBAC.Users",{init:function(s,t){t=AD.defaults({eventAssignmentAdd:"assign.add",eventPermissionList:"perm.list"},t),this.options=t,this._super(s,t),this.dom={},this.data={},this.data.permissions=[],this.data.roles=[],this.data.scopes=[],this.initDOM(),this.loadData()},initDOM:function(){var s=this,t=this.domToTemplate(this.element.find("#userList>tbody"));can.view.ejs("RBAC_User_UserList",t),this.dom.listUsers=this.element.find("#userList"),this.dom.listUsersTbody=this.dom.listUsers.find("tbody"),this.dom.listAssignments=this.element.find(".rbac-user-table-assignments"),this.dom.listAssignmentsTbody=this.dom.listAssignments.find("tbody");var e=this.domToTemplate(this.dom.listAssignmentsTbody);can.view.ejs("RBAC_User_AssignmentList",e),this.quickviewClear();var i=AD.Control.get("OpsPortal.FilteredBootstrapTable");this.Filter=new i(this.element,{tagFilter:".autocomplete-filter",tagBootstrapTable:"#userList",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"# Assignments",formatter:".numAssignments"},{title:"Username",field:"username"},{title:"Options",formatter:".options"},{title:"Status",formatter:".status"}]},rowClicked:function(s){s&&console.log("... clicked user:",s)},rowDblClicked:function(t){s.element.trigger(s.options.eventPermissionList,t)},termSelected:function(t){s.element.trigger(s.options.eventPermissionList,t)},dataToTerm:function(s){return s?s.username:""}})},loadData:function(s){},loadPermissions:function(s){this.data.permissions=s},loadRoles:function(s){this.data.roles=s},loadScopes:function(s){this.data.scopes=s},loadUsers:function(s){this.data.users=s,this.refresh()},refresh:function(){this.Filter.ready(),this.Filter.load(this.data.users)},resize:function(){this.Filter.resetView()},show:function(){this._super(),this.Filter.resetView()},quickviewClear:function(){this.dom.listAssignmentsTbody.html("")},quickviewShow:function(s){this.quickviewClear(),this.dom.listAssignmentsTbody.append(can.view("RBAC_User_AssignmentList",{list:s,listPermissions:this.data.permissions,listRoles:this.data.roles,listScopes:this.data.scopes}))},userForID:function(s){for(var t=0;t<this.data.users.length;t++)if(this.data.users[t].id==s)return this.data.users[t];return null},".rbac-user-perm-quickview click":function(s,t){var e=parseInt(s.attr("user-id")),i=this.userForID(e);this.quickviewShow(i.permission)},".rbac-user-perm-add click":function(s,t){var e=parseInt(s.attr("user-id")),i=this.userForID(e);this.element.trigger(this.options.eventAssignmentAdd,i),t.preventDefault()},".ad-item-add click":function(s,t){t.preventDefault()}})});
/*opstools/RBAC/controllers/UserAssignmentAdd*/
define("opstools/RBAC/controllers/UserAssignmentAdd",["appdev/appdev","opstools/RBAC/models/Permission"],function(){AD.Control.extend("opstools.RBAC.UserAssignmentAdd",{init:function(s,t){t=AD.defaults({eventDone:"added"},t),this.options=t,this._super(s,t),this.dom={},this.data={},this.data.user=null,this.data.roles=[],this.data.scopes=[],this.data.hashPermissions={},this.data.availableRoles=[],this.initDOM()},initDOM:function(){this.dom.userID=this.element.find(".rbac-addassignments-userID"),this.dom.roleList=this.element.find(".rbac-addassignments-roleList");var s=this.domToTemplate(this.dom.roleList);can.view.ejs("RBAC_UserAssignmentAdd_RoleList",s),this.dom.roleList.html(" "),this.dom.scopeList=this.element.find(".rbac-addassignments-scopeList");var t=this.domToTemplate(this.dom.scopeList);can.view.ejs("RBAC_UserAssignmentAdd_ScopeList",t),this.dom.scopeList.html(" "),this.dom.buttonSave=this.element.find(".rbac-addassignments-save"),this.buttonSaveDisable(),this.form=new AD.op.Form(this.element.find(".rbac-addassignments-form")),this.form.addField("role","integer",{notEmpty:{}}),this.form.addField("scope","array",{notEmpty:{}}),this.buttonSave=new AD.op.ButtonBusy(this.element.find(".rbac-addassignments-save"))},buttonSaveEnable:function(){this.dom.buttonSave.removeAttr("disabled"),this.dom.buttonSave.removeClass("disabled")},buttonSaveDisable:function(){this.dom.buttonSave.attr("disabled","disabled"),this.dom.buttonSave.addClass("disabled")},buttonSaveValidate:function(){this.data.availableRoles.length>0&&(this.form.isValid()?this.buttonSaveEnable():this.buttonSaveDisable())},loadUser:function(s){var t=this;this.dom.userID.text(s.username),this.data.user=s,this.data.hashPermissions={},this.data.user.permission&&this.data.user.permission.forEach(function(s){t.data.hashPermissions[s.role.id||s.role]=s}),this.loadRoles(this.data.roles),this.scopesClear(),this.form.reset(),this.buttonSaveDisable()},loadRoles:function(s){var t=this;this.data.roles=s,this.dom.roleList.html(" ");var e=[];s.forEach(function(s){t.data.hashPermissions[s.id]||e.push(s)}),this.data.availableRoles=e,this.dom.roleList.append(can.view("RBAC_UserAssignmentAdd_RoleList",{roles:e}))},loadScopes:function(s){this.data.scopes=s,this.dom.scopeList.html(" "),this.dom.scopeList.append(can.view("RBAC_UserAssignmentAdd_ScopeList",{scopes:s})),this.form.attach()},scopesClear:function(){this.element.find(":checkbox").prop("checked",!1)},'[name="role"] click':function(s,t){this.buttonSaveValidate()},'[name="scope"] click':function(s,t){this.buttonSaveValidate()},".rbac-addassignments-cancel click":function(s,t){this.element.trigger(this.options.eventDone),t.preventDefault()},".rbac-addassignments-save click":function(s,t){var e=this,i=this.form.values();i.user=this.data.user.id,i.enabled=!0,this.buttonSave.busy();var o=AD.Model.get("opstools.RBAC.Permission"),a=new o(i);a.save().fail(function(s){e.form.errorHandle(s)||console.error("... unknown error! :",s)}).then(function(s){for(var t=0;t<s.scope.length;t++)s.scope[t]=parseInt(s.scope[t]);e.data.user.permission.push(s),e.buttonSave.ready(),e.element.trigger(e.options.eventDone,s)}),t.preventDefault()}})});
/*opstools/RBAC/controllers/UserPermissionList*/
define("opstools/RBAC/controllers/UserPermissionList",["appdev/appdev"],function(){AD.Control.extend("opstools.RBAC.UserPermissionList",{init:function(i,s){s=AD.defaults({eventAssignmentAdd:"assignment.add",eventDone:"im.done"},s),this.options=s,this._super(i,s),this.data={},this.data.user=null,this.data.roles=null,this.data.scopes=null,this.hashRoles=null,this.hashScopes=null,this.currentlyEditing=null,this.dom={},this.dom.username=null,this.dom.scopeList=null,this.dom.selectOption=null,this.dom.buttonApply=null,this.initDOM(),this.validateApply()},initDOM:function(){var i=this;this.dom.username=this.element.find(".rbac-permissionlist-username"),this.dom.scopeList=this.element.find(".rbac-permissionlist-scopes");var s=this.domToTemplate(this.dom.scopeList);can.view.ejs("RBAC_PermissionList_ScopeList",s),this.dom.scopeList.html(" ");var e=AD.Control.get("OpsPortal.FilteredBootstrapTable");this.Filter=new e(this.element,{tagFilter:".autocomplete-filter",tagBootstrapTable:"#permissionlist",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"",checkbox:!0},{title:"Role",field:"role_name"},{title:"Scope",field:"scope_list"},{title:"Action",formatter:".actions"},{title:"Status",formatter:".status"}]},rowChecked:function(s){i.validateApply()},rowUnChecked:function(s){i.validateApply()},rowDblClicked:function(s){var e=i.element.find('.rbac-permissionlist-edit[perm-id="'+s.id+'"]');e.length&&e.click()},dataToTerm:function(i){return i?i.role_name:""}}),this.dom.modalEditor=this.element.find(".rbac-permission-edit"),this.form=new AD.op.Form(this.dom.modalEditor),this.form.addField("scope","array",{notEmpty:{}}),this.buttonSave=new AD.op.ButtonBusy(this.element.find(".rbac-permission-save")),this.dom.selectOption=this.element.find(".rbac-permission-selectOption"),this.dom.buttonApply=new AD.op.ButtonBusy(this.element.find(".rbac-permission-apply"))},iconBusy:function(i){i.addClass(" fa-spinner fa-pulse")},iconReady:function(i){i.removeClass(" fa-spinner fa-pulse")},loadUser:function(i){this.data.user=i},loadRoles:function(i){var s=this;this.data.roles=i,this.hashRoles={},i.forEach(function(i){s.hashRoles[i.id]=i}),this.refresh(),this.data.roles.bind("change",function(){s.hashRoles={},s.data.roles.forEach(function(i){s.hashRoles[i.id]=i}),s.refresh()})},loadScopes:function(i){var s=this;this.data.scopes=i,this.hashScopes={},i.forEach(function(i){s.hashScopes[i.id]=i}),this.refresh(),this.dom.scopeList.html(can.view("RBAC_PermissionList_ScopeList",{scopes:this.data.scopes})),this.form.attach()},loadPermissions:function(i){var s=this;this.data.permissions=i,this.hashPermissions={},i.forEach(function(i){s.hashPermissions[i.id]=i}),this.refresh(),this.data.permissions.bind("change",function(){s.hashPermissions={},s.data.permissions.forEach(function(i){s.hashPermissions[i.id]=i}),s.refresh()})},refresh:function(){var i=this;if(this.data.user&&this.data.roles&&this.data.scopes){this.dom.username.html(this.data.user.attr("username"));var s=[];this.data.user.permission.forEach(function(e){var t=i.hashPermissions[e.id];if(t){var o={};o.id=t.id;var n=t.role.id||t.role;i.hashRoles[n]?o.role_name=i.hashRoles[n].role_label:o.role_name=" *** role not found ***";var r=[];t.scope.forEach(function(s){var e=s.id||s;i.hashScopes[e]&&r.push(i.hashScopes[e].getLabel())}),o.scope_list=r.join(" | "),o.enabled=t.enabled,s.push(o)}}),this.Filter.load(s)}},resize:function(){this.Filter.resetView()},show:function(){this._super(),this.refresh(),this.Filter.resetView()},validateApply:function(){var i=this.Filter.values();if(i.length){var s=this.dom.selectOption.val();if("choose"!=s)return void this.dom.buttonApply.enable()}this.dom.buttonApply.disable()},".rbac-permissionlist-add click":function(i,s){this.element.trigger(this.options.eventAssignmentAdd,this.data.user),s.preventDefault()},".rbac-permissionlist-edit click":function(i,s){var e=this,t=i.attr("perm-id"),o=this.entryForID(this.data.permissions,t);this.currentlyEditing=o,this.form.clear(),o.scope.forEach(function(i){e.dom.scopeList.find('input[value="'+i.id+'"]').prop("checked",!0)})},".rbac-permissionlist-delete click":function(i,s){var e=this,t=i.attr("perm-id"),o=this.entryForID(this.data.permissions,t),n=this.data.permissions.indexOf(o),r=this.indexForID(this.data.user.permission,t);this.iconBusy(i),AD.op.Dialog.Confirm({fnYes:function(){o.destroy().fail(function(i){console.error(" *** error deleting permission:",o,i)}).then(function(){e.data.permissions.splice(n,1),e.data.user.permission.splice(r,1),e.iconReady(i),e.refresh()})},fnNo:function(){e.iconReady(i)}}),s.preventDefault()},".rbac-permission-cancel click":function(i,s){this.dom.modalEditor.modal("hide"),s.preventDefault()},".rbac-permission-save click":function(i,s){var e=this;if(this.currentlyEditing){if(this.form.isValid()){var t=this.form.values(),o=this.currentlyEditing,n=[];o.scope.forEach(function(i){i&&-1==t.scope.indexOf(i.id)&&n.push(i)}),n.forEach(function(i){var s=o.scope.indexOf(i);o.scope.splice(s,1)}),t.scope.forEach(function(i){var s=e.entryForID(o.scope,i);s||o.scope.push(i)}),this.buttonSave.busy(),o.save().fail(function(i){e.form.errorHandle(i)||console.error("... unknown error! :",i)}).then(function(i){e.buttonSave.ready(),e.dom.modalEditor.modal("hide")})}}else this.dom.modalEditor.modal("hide"),console.warn("??? how did we show this modal with no currentlyEditing permission being set?")},".rbac-permission-selectOption change":function(i,s){this.validateApply()},".rbac-permission-apply click":function(i,s){var e=this,t=this.Filter.values();if(t.length){var o=!1,n=this.dom.selectOption.val();"enable"==n&&(o=!0),this.dom.buttonApply.busy();var r=[];t.forEach(function(i){var s=e.entryForID(e.data.permissions,i.id);s.attr("enabled",o),r.push(s.save())}),$.when.apply($,r).fail(function(i){console.error("*** error saving permission:",i)}).then(function(i){e.dom.buttonApply.ready(),e.Filter.checkEntries([]),e.dom.selectOption.val("choose"),e.validateApply()})}},".rbac-permission-users click":function(i,s){this.element.trigger(this.options.eventDone)}})});
/*opstools/RBAC/controllers/Roles*/
define("opstools/RBAC/controllers/Roles",["appdev/appdev","opstools/RBAC/models/PermissionRole"],function(){AD.Control.extend("opstools.RBAC.Roles",{init:function(e,t){t=AD.defaults({eventRoleAdd:"role.add.clicked",eventRoleEdit:"role.edit.clicked",eventRoleDeleted:"role.deleted"},t),this.options=t,this._super(e,t),this.data={},this.data.roles=[],this.initDOM()},initDOM:function(){var e=this,t=AD.Control.get("OpsPortal.FilteredBootstrapTable");this.Filter=new t(this.element,{tagFilter:".autocomplete-filter",tagBootstrapTable:"#rolelist",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"Role Name",field:"role_label",sortable:!0},{title:"Role Description",field:"role_description"},{title:"Action",formatter:".actions"}]},rowClicked:function(e){e&&console.log("... clicked role:",e)},rowDblClicked:function(t){var o=e.element.find('.rbac-role-list-edit[role-id="'+t.id+'"]');o.length&&o.click()},termSelected:function(e){e&&console.log("... search selected role:",e)},dataToTerm:function(e){return e?e.role_label:""}})},iconBusy:function(e){e.addClass(" fa-spinner fa-pulse")},iconReady:function(e){e.removeClass(" fa-spinner fa-pulse")},listRoleNames:function(){for(var e=[],t=this.data.roles.length-1;t>=0;t--)e.push(this.data.roles[t].role_label);return e},loadRoles:function(e){this.data.roles=e,this.refresh()},refresh:function(){this.Filter.load(this.data.roles),this.Filter.ready()},resize:function(){this.Filter.resetView()},roleForID:function(e){var t=null;return this.data.roles.forEach(function(o){o.id==e&&(t=o)}),t},show:function(){this._super(),this.refresh(),this.Filter.resetView()},".rbac-role-addButton click":function(e,t){this.element.trigger(this.options.eventRoleAdd),t.preventDefault()},".rbac-role-list-edit click":function(e,t){var o=e.attr("role-id"),l=this.roleForID(o);this.element.trigger(this.options.eventRoleEdit,l),t.preventDefault()},".rbac-role-list-clone click":function(e,t){var o=this;this.iconBusy(e);var l=e.attr("role-id"),i=this.roleForID(l),n=this.data.roles.indexOf(i),r=this.listRoleNames(),s=AD.Model.clone(i);for(s.role_label+=" (cloned) ";-1!=r.indexOf(s.role_label);)s.role_label+=".";console.log("... cloned role data: ",s);var a=AD.Model.get("opstools.RBAC.PermissionRole");a.create(s).fail(function(t){console.error("... error creating cloned entry:",t),o.iconReady(e)}).then(function(t){a.findOne({id:t.id}).fail(function(t){console.error("... error looking up full cloned entry:",t),o.iconReady(e)}).then(function(t){console.log("... new cloned Role:",t),t.translate(),o.data.roles.splice(n,1,i,t),o.Filter.selectRow(t),o.iconReady(e)})})},".rbac-role-list-delete click":function(e,t){var o=this,l=e.attr("role-id"),i=this.entryForID(this.data.roles,l),n=this.data.roles.indexOf(i);this.iconBusy(e),AD.op.Dialog.Confirm({fnYes:function(){i.destroy().fail(function(t){console.error("*** error deleting role:",t),o.iconReady(e)}).then(function(){o.data.roles.splice(n,1),o.iconReady(e),o.element.trigger(o.options.eventRoleDeleted,i)})},fnNo:function(){o.iconReady(e)}}),t.preventDefault()},".ad-item-add click":function(e,t){t.preventDefault()}})});
/*opstools/RBAC/controllers/RoleAdd*/
define("opstools/RBAC/controllers/RoleAdd",["appdev/appdev"],function(){AD.Control.extend("opstools.RBAC.RoleAdd",{init:function(e,t){t=AD.defaults({eventCancel:"cancel",eventRoleAdded:"role.added"},t),this.options=t,this._super(e,t),this.data={},this.data.actions=[],this.dataSource=this.options.dataSource,this.initDOM()},initDOM:function(){var e=AD.Control.get("OpsPortal.FilteredBootstrapTable");this.Filter=new e(this.element,{tagFilter:".rbac-role-add-actionsearch",tagBootstrapTable:"#permissionlist",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"",checkbox:!0},{title:"Key",field:"action_key"},{title:"Description",field:"action_description"},{title:"Action",formatter:".action"}]},rowClicked:function(e){e&&console.log("... clicked action:",e)},rowDblClicked:function(e){e&&console.log("... dbl.clicked action:",e)},termSelected:function(e){e&&console.log("... search selected action:",e)},dataToTerm:function(e){return e?e.action_key:""}}),this.form=new AD.op.Form(this.element),this.form.bind(AD.Model.get("opstools.RBAC.PermissionRole")),this.form.addField("actions","array",{}),this.form.attach(),this.buttonSave=new AD.op.ButtonBusy(this.element.find(".rbac-roles-addrole-create"))},loadActions:function(e){this.data.actions=e,this.Filter.load(e)},show:function(){this._super(),this.form.clear(!0),this.Filter.resetView(),this.buttonSave.ready(),this.Filter.checkEntries([])},".rbac-roles-addrole-cancel click":function(e,t){this.element.trigger(this.options.eventCancel),t.preventDefault()},".rbac-roles-addrole-create click":function(e,t){var o=this;if(this.form.isValid()){this.buttonSave.busy();var i=this.form.values(),n=this.Filter.values(),l={};l.translations=[{language_code:AD.lang.currentLanguage,role_label:i.role_label,role_description:i.role_description}],l.actions=[],n.forEach(function(e){l.actions.push(e.id)});var a=AD.Model.get("opstools.RBAC.PermissionRole");a.create(l).fail(function(e){!o.form.errorHandle(e),o.buttonSave.ready()}).then(function(e){a.findOne({id:e.id}).then(function(e){e.translate(),console.log("*** new Role:",e),o.buttonSave.ready(),o.element.trigger(o.options.eventRoleAdded,e)})})}t.preventDefault()}})});
/*opstools/RBAC/controllers/RoleEdit*/
define("opstools/RBAC/controllers/RoleEdit",["appdev/appdev"],function(){AD.Control.extend("opstools.RBAC.RoleEdit",{init:function(t,e){e=AD.defaults({eventDone:"no.done.given",eventCancel:"no.cancel.given"},e),this.options=e,this._super(t,e),this.data={},this.data.role=null,this.initDOM()},initDOM:function(){var t=this,e=AD.Control.get("OpsPortal.FilteredBootstrapTable");this.Filter=new e(this.element,{tagFilter:".rbac-role-edit-actionsearch",tagBootstrapTable:"#roleEditPermissionlist",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"",checkbox:!0},{title:"Key",field:"action_key"},{title:"Description",field:"action_description","class":"rbac-role-edit-action-description"},{title:"Action",formatter:".action"}]},rowDblClicked:function(e){var i=t.element.find('.rbac-roles-editrole-action-edit[assignment-id="'+e.id+'"]');i.length&&i.click()},dataToTerm:function(t){return t?t.action_key:""}}),this.form=new AD.op.Form(this.element),this.form.bind(AD.Model.get("opstools.RBAC.PermissionRole")),this.form.attach(),this.buttonSave=new AD.op.ButtonBusy(this.element.find(".rbac-roles-editrole-save"))},actionForID:function(t){var e=null;return this.data.actions.forEach(function(i){i.id==t&&(e=i)}),e},iconBusy:function(t){t.addClass(" fa-spinner fa-pulse")},iconReady:function(t){t.removeClass(" fa-spinner fa-pulse")},loadActions:function(t){this.data.actions=t,this.Filter.load(t)},loadRole:function(t){this.data.role=t,this.form.values(t.attr()),this.Filter.checkEntries(t.actions)},show:function(){this._super(),this.Filter.resetView()},".rbac-roles-editrole-action-edit click":function(t,e){var i=t.closest("tr"),o=i.find(".rbac-role-edit-action-description");o.attr("contentEditable",!0),i.find(".toEdit").hide(),i.find(".toSave").show().removeClass("hidden"),e.preventDefault()},".rbac-roles-editrole-action-cancel click":function(t,e){var i=parseInt(t.attr("assignment-id")),o=this.actionForID(i),n=t.closest("tr"),a=n.find(".rbac-role-edit-action-description");a.attr("contentEditable",!1),a.html(o.attr("action_description")),n.find(".toSave").hide(),n.find(".toEdit").show(),e.preventDefault()},".rbac-roles-editrole-action-save click":function(t,e){var i=this,o=parseInt(t.attr("assignment-id")),n=this.actionForID(o);this.iconBusy(t);var a=t.closest("tr"),s=a.find(".rbac-role-edit-action-description");n.attr("action_description",s.html()),n.save().fail(function(e){i.iconReady(t)}).then(function(e){s.attr("contentEditable",!1),i.iconReady(t),a.find(".toSave").hide(),a.find(".toEdit").show()})},".rbac-roles-editrole-cancel click":function(t,e){this.element.trigger(this.options.eventCancel),e.preventDefault()},".rbac-roles-editrole-save click":function(t,e){var i=this;if(this.form.isValid()){this.buttonSave.busy();var o=this.form.values(),n=this.Filter.values(),a=this.data.role;a.attr(o),a.attr("actions",n),a.permissions&&delete a.permissions,a._data.permissions&&delete a._data.permissions,a.save().fail(function(t){!i.form.errorHandle(t)}).then(function(t){console.log("... edit role: newRole:",t),i.buttonSave.ready(),i.element.trigger(i.options.eventDone,t)})}e.preventDefault()}})});
/*opstools/RBAC/views/RBAC/RBAC.ejs!can/view/ejs/system*/
define("opstools/RBAC/views/RBAC/RBAC.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("opstools/RBAC/views/RBAC/RBAC.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('\n				<!--LEFT SIDE BAR-->\n                <div id="opsportal-left-bar">\n                  <div id="leftbar-container">\n                    <div id="opsportal-left-title">\n                          <h4>Permission</h4>\n                    </div>\n                    <div id="menu_wrapper">\n                      <ul class="art-hmenu">  \n                        <li><a href="" class="rbac-menu" portal="users" rbac-show="rbac-users" ><i class="fa fa-users" ></i> Users</a></li>\n                        <li><a href="" class="rbac-menu" portal="roles" rbac-show="rbac-roles"><i class="fa fa-graduation-cap"></i> Roles</a></li>\n                        <li><a href="" class="rbac-menu" portal="scopes" rbac-show="rbac-scopes"><i class="fa fa-sitemap"></i>Scopes</a></li>   \n                      </ul>\n                    </div>                    \n                  </div>\n                </div>\n                <!--/LEFT SIDE BAR-->\n                <div id="opsportal-content-area">\n                  <div id="opsportal-widgets-area">\n                      <!--  ================= Users ================  -->\n                      <div class="rbac-display rbac-users" >\n                        <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                              <li><a href="#" class="disabled">Users</a></li>\n                            </ul>\n                            <div class="opsportal-panel-heading container">\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-left">\n                                    <!--Search and Filter-->\n                                    <div class="">\n                                      <!--Filter-->\n                                      <!--\n                                      <div class="col-xs-6 col-sm-6 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="">\n                                              <select class="form-control">\n                                                  <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                                  <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                                  <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                                  <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                                  <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                  	  -->\n                                      <!--/Filter-->\n                                      <!--Search-->\n                                      <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                         \n                                              <div class="input-group">\n                                                <input type="text" class="form-control autocomplete-filter" placeholder="Search for User">\n                                                <span class="input-group-addon"><i class="fa fa-search"></i></span>\n                                             </div> \n                               \n                                      </div>\n                                      <!--/Search-->\n                                    </div>\n                                    <!--/Search and Filter-->  \n                                </div>\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-right">\n                                </div>          \n                            </div>\n                            <div class="col-md-12">  \n                              <table id="userList" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                  <thead>\n                                    <tr class="tbhead">\n                                      <th data-field="username" class="align-center"># Assignment</th>\n                                      <th data-field="username" >User ID</th>\n                                      <th class="align-center">Option</th>\n                                      <th class="align-center">Status</th>\n                                    </tr>\n                                  </thead> \n                                  <tbody> \n                                      <tr class="template">\n                                        <td class="numAssignments" >[[= row.numAssignments() ]]</td>\n                                        <td><a href="" rbac-show="rbac-permissionlist" '),___v1ew.push(can.view.txt(2,"a","style",this,function(){var a=[];return a.push('style="'),a.push('display:block;"'),a.join("")})),___v1ew.push('>[[= user.attr(\'username\') ]]</a></td>\n                                        <td class="options" >\n                                          <span data-toggle="tooltip" data-placement="left" title="Quick View"><a href="" class="rbac-user-perm-quickview fa fa-eye fa-2 offset-9" data-toggle="modal" data-target=".view-assignment"  user-id="[[= row.id ]]" ></a></span>\n                                          <span data-toggle="tooltip" data-placement="left" title="Add Assignment to this user"><a href="" rbac-show="rbac-addassignments" class="fa fa-plus fa-2 rbac-user-perm-add" user-id="[[= row.id ]]" ></a></span>\n                                        </td>\n                                        <td class="status" ><!-- \n                                            var user = row;\n                                            var status = \'stats-red\';\n                                            if (user.permission.length > 0) {\n                                              status = \'stats-green\';\n                                            }\n                                          -->\n                                          <div class="img-thumbnail [[= status ]]"></div></td>\n                                      </tr>\n                                      <tr class="mockup" >\n                                        <td>2</td>\n                                        <td><a href="#permission-list" rbac-show="rbac-permissionlist" '),___v1ew.push(can.view.txt(2,"a","style",this,function(){var a=[];return a.push('style="'),a.push('display:block;"'),a.join("")})),___v1ew.push('>Rammel Olasiman</a></td>\n                                        <td>\n                                          <span data-toggle="tooltip" data-placement="left" title="Quick View"><a href="" class="fa fa-eye fa-2 offset-9" data-toggle="modal" data-target=".view-assignment"></a></span>\n                                          <span data-toggle="tooltip" data-placement="left" title="Add Assignment to this user"><a href="#add-assignment" rbac-show="rbac-addassignments" class="fa fa-plus fa-2"></a></span>\n                                        </td>\n                                        <td><div class="img-thumbnail stats-green"></div></td>\n                                      </tr>\n                                      <tr class="mockup" >\n                                        <td>3</td>\n                                        <td><a href="#permission-list" rbac-show="rbac-permissionlist" '),___v1ew.push(can.view.txt(2,"a","style",this,function(){var a=[];return a.push('style="'),a.push('display:block;"'),a.join("")})),___v1ew.push('>Lucci Baldez</a></td>\n                                        <td>\n                                          <span data-toggle="tooltip" data-placement="left" title="Quick View"><a href="" class="fa fa-eye fa-2 offset-9" data-toggle="modal" data-target=".view-assignment"></a></span>\n                                          <span data-toggle="tooltip" data-placement="left" title="Add Assignment to this user"><a href="#add-assignment" rbac-show="rbac-addassignments" class="fa fa-plus fa-2"></a></span>\n                                        </td>\n                                        <td><div class="img-thumbnail stats-green"></div></td>\n                                      </tr>\n                                      </tbody>\n                              </table>\n                            </div>\n                             <!--Pagination-->\n                             <!-- \n                            <div class="col-md-12 padtop10">\n                              <div class="row">\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                    <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                      <span class="caret"></span>\n                                    </button>\n                                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                              <div class="row">\n                                <div class="col-md-12 align-center off-botm20 off-top10">\n                                    <ul class="pagination nav" '),___v1ew.push(can.view.txt(2,"ul","style",this,function(){var a=[];return a.push('style="'),a.push('vertical-align:bottom"'),a.join("")})),___v1ew.push('>\n                                      <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                      <li><a href="#">1</a></li>\n                                      <li><a href="#">2</a></li>\n                                      <li><a href="#">3</a></li>\n                                      <li><a href="#">4</a></li>\n                                      <li><a href="#">5</a></li>\n                                      <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                            </div>\n                            -->\n                            <!--/Pagination-->                         \n                        </div>\n                        <!--Modal for view assignment in user-->\n                        <div class="modalcenter modal fade view-assignment" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                          <div class="modal-dialog modal-lg">\n                            <div class="modal-content">\n	                            <table class="rbac-user-table-assignments table table-bordered table-hover box-shadow">\n	                                <thead>\n	                                  <tr class="tbhead">\n	                                    <th>Role</th>\n	                                    <th>Scope</a></th>\n	                                    <th>Status</th>\n	                                  </tr>\n	                                </thead>\n	                                <tbody>\n                                    <!-- if (list.length > 0) {\n                                      list.forEach(function(perm){ \n                                        var currRole = "no role found";\n                                        var listScopeIDs = [];\n                                        listRoles.forEach(function(role){\n                                            if ((role.id == perm.role)\n                                                || (role.id == perm.role.id)) {\n                                                currRole = role.role_label;\n                                            }\n                                        })\n                                        // now use the proper permission entry to gather all the scopes.\n                                        listPermissions.forEach(function(p){\n                                            if (p.id == perm.id) {\n                                                p.scope.forEach(function(scope){\n                                                    listScopeIDs.push(scope.id);\n                                                })\n                                            }\n                                        })\n                                        var listScopeNames = [];\n                                        listScopes.forEach(function(scope){\n                                            if (listScopeIDs.indexOf(scope.id) != -1) {\n                                                listScopeNames.push(scope.label)\n                                            }\n                                        })\n                                    -->\n		                                <tr>\n		                                  <td>[[= currRole ]]</td>\n		                                  <td>[[= listScopeNames.join(\' | \') ]]</td>\n		                                  <td>Enabled</td>\n		                                </tr>\n                                    <!--  })\n                                    } else {\n                                    -->\n                                    <tr>\n                                      <td colspan="3"> No Assignments </td>\n                                    </tr>\n                                    <!-- }  -->\n		                                <tr class="mockup" >\n		                                  <td>System Admin</td>\n		                                  <td>I.T Dept. | M.I.Ss Dept.</td>\n		                                  <td>Disabled</td>\n		                                </tr>\n	                                </tbody>\n	                            </table>\n                              	<div class="modal-footer">\n	                              <button type="button" class="btn" data-dismiss="modal">Close</button>\n	                            </div>  \n                            </div>\n                          \n                          </div>\n                        </div>    \n                        <!--/Modal for view assignment in user-->\n                      </div>  \n                      <!--  ================= /End Users ================  -->\n                      <!--  ================= Add Assignments ================  -->\n                      <div class="rbac-display rbac-addassignments"  '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('display:none;"'),a.join("")})),___v1ew.push('>\n                          <h5 id="user" class="align-left"><i class="fa fa-user offset-5 user-icon"></i><span class="rbac-addassignments-userID">Linel Sedillo</span></h5>\n                          <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                                <li><a href="#" rbac-show="rbac-users">Users</a></li>\n                                <li><a href="#" rbac-show="rbac-permissionlist">Permission List</a></li>\n                                <li><a href="#" class="disabled">Add Assignment</a></li>\n                            </ul>                                                      \n                            <div class="row off-botm10 padtop20">\n                              <div class="col-md-12 rbac-addassignments-form">  \n                                    <!--Role-->\n                                    <div class="col-sm-6 col-md-6">\n                                      <h3>Role</h3>\n                                      <p>Select Role from the list</p>\n                                      <div class="form-group">\n                                        <select class="rslist rbac-addassignments-roleList" name="role" multiple="multiple">\n                                          <!-- roles.forEach(function(role){ --> \n                                          <option value="[[= role.id ]]"',can.view.pending({scope:this}),">"),___v1ew.push('[[= role.role_label ]]</option>\n                                          <!-- }) -->\n                                          <option class="mockup" value="2"',can.view.pending({scope:this}),">"),___v1ew.push('System Admin</option>\n                                          <option class="mockup" value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Crisis Manager</option>\n                                          <option class="mockup" value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Marketing Manager</option>\n                                          <option class="mockup" value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Crisis Manager</option>\n                                          <option class="mockup" value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Sales Manager</option>\n                                          <option class="mockup" value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Lorem Manager</option>\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <!--Scope-->\n                                    <div class="col-sm-6 col-md-6 form-group">\n                                      <h3>Scope</h3>\n                                      <p>To Edit Scope to this user, select Scope from the list</p>\n                                      <div class="form-group rbac-addassignments-scopeList">\n                                        <!-- scopes.forEach(function(scope){ -->\n                                        <div class="checkbox">\n                                          <label><input type="checkbox" name="scope" value="[[= scope.id ]]"> [[= scope.attr(\'label\') ]]</input></label>\n                                        </div>\n                                        <!-- }) -->\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region NE</span></input><br class="mockup">\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region SR</span></input><br class="mockup">\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region 10</span></input><br class="mockup">\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region 10</span></input><br class="mockup">\n                                      </div>        \n                                    </div>\n                              </div>      \n                            </div> \n                            <div '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('clear:both;"'),a.join("")})),___v1ew.push('></div>\n                            \n                            <div class="col-sm-4 col-md-4 pull-right">\n                                  <div class="input-group-btn">\n                                      <button class="off-botm20 btn float-right btn-primary rbac-addassignments-save" ><i class="fa fa-save offset-5"></i>Save</button>\n                                      <button class="off-botm20 btn btn-default float-right rbac-addassignments-cancel" ><i class="fa fa-save offset-5"></i>Cancel</button>\n                                  </div>    \n                            </div>\n                          </div>\n                      </div>\n                      <!--  ================= /End Add Assignments ================  -->\n                      <!--  ================= Permission List ================  -->\n                      <div class="rbac-display rbac-permissionlist"  '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('display:none;"'),a.join("")})),___v1ew.push('>\n                        <h5 id="user" class="align-left"><i class="fa fa-user offset-5 user-icon"></i><span class="rbac-permissionlist-username">userName here</span></h5>\n                        <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                                <li><a class="rbac-permission-users" rbac-show="rbac-users">Users</a></li>\n                                <li><a class="disabled">Permission List</a></li>\n                            </ul>                          \n                            <div class="opsportal-panel-heading container">\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-left">\n                                    <!--Container of Search and Filter-->\n                                    <div class="">\n                                      <!--Filter-->\n                                      <!--\n                                      <div class="col-xs-12 col-sm-6 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="">\n                                              <select class="form-control">\n                                                  <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                                  <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                                  <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                                  <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                                  <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                      -->\n                                      <!--/Filter-->\n                                      <!--Search-->\n                                      <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                                          <div class="form-group">\n                                              <div class="input-group">\n                                                <input type="text" class="form-control autocomplete-filter typeahead" placeholder="Search for role">\n                                                <span class="input-group-addon"><i class="fa fa-search"></i></span>\n                                             </div> \n                                          </div>\n                                      </div>\n                                      <!--/Search-->\n                                    </div>\n                                    <!--/Container of Search and Filter-->\n                                </div>\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-right">\n                                    <!--Add Button-->\n                                    <div class="col-xs-12 col-sm-3 col-md-2 addbtn">\n                                          <div class="input-group-btn">\n                                            <a class="col-xs-12 col-sm-12 btn btn-primary  rbac-permissionlist-add" ><i class="fa fa-plus"></i> Add</a>\n                                          </div>\n                                    </div> \n                                    <!--/Add Button-->\n                                </div>          \n                            </div>\n                            <div class="col-md-12">\n                              <table id="permissionlist" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                  <thead>\n                                    <tr class="tbhead">\n                                      <th></th>\n                                      <th>Role</th>\n                                      <th>Scope</td>\n                                      <th class="align-center">Action</th>\n                                      <th class="align-center">Status</th>\n                                    </tr>\n                                  </thead>\n                   \n                                  <tbody> \n                                    <tr>\n                                      <td><input type="checkbox"></td>\n                                      <td>HR Admin</td>\n                                      <td>Region 10 | Marketing Dept</td>\n                                      <td class="actions">\n                                        <span data-toggle="tooltip" data-placement="left" title="Edit"><a class="fa fa-edit fa-2 offset-9 rbac-permissionlist-edit" perm-id="[[= row.id ]]" data-toggle="modal" data-target=".rbac-permission-edit" ></a></span>\n                                        <span data-toggle="tooltip" data-placement="left" title="Delete"><a perm-id="[[= row.id ]]" class="fa fa-close fa-2 rbac-permissionlist-delete"></a></span>\n                                      </td>\n                                      <td class="status"><!-- \n                                        var status = \'enabled\';\n                                        if (!row.enabled) {\n                                          status = \'disabled\';\n                                        }  \n                                      --> [[= status ]] </td>\n                                    </tr>\n                                    <tr>\n                                      <td><input type="checkbox"></td>\n                                      <td>System Admin</td>\n                                      <td>I.T Dept | M.I.S Dept</td>\n                                      <td>\n                                        <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="#edit-assignment" class="fa fa-edit fa-2 offset-9"  data-toggle="modal" data-target=".add-assignment"></a></span>\n                                        <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                      </td>\n                                      <td>Disabled</td>\n                                    </tr>\n                                  </tbody>\n                              </table>\n                            </div>\n                             <!--Pagination-->\n                             <!--\n                            <div class="col-md-12 padtop10">\n                              <div class="row">\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                    <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                      <span class="caret"></span>\n                                    </button>\n                                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                              <div class="row">\n                                <div class="col-md-12 align-center off-botm20 off-top10">\n                                    <ul class="pagination nav" '),___v1ew.push(can.view.txt(2,"ul","style",this,function(){var a=[];return a.push('style="'),a.push('vertical-align:bottom"'),a.join("")})),___v1ew.push('>\n                                      <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                      <li><a href="#">1</a></li>\n                                      <li><a href="#">2</a></li>\n                                      <li><a href="#">3</a></li>\n                                      <li><a href="#">4</a></li>\n                                      <li><a href="#">5</a></li>\n                                      <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                            </div>\n                            -->\n                            <!--/Pagination-->\n                            <div class="opsportal-divider"></div>\n                            <!--Enable and Disable Action-->\n                            <div class="col-md-12 off-botm10">\n                                <div class="col-sm-7 col-md-7 pull-left">\n                                    <form class="navbar-form">\n                                      <div class="input-group col-md-12">\n                                      <div class="row">  \n                                        <div class="col-xs-6 col-md-4 col-sm-6">\n                                        <select class="form-control rbac-permission-selectOption">\n                                          <option value="choose"',can.view.pending({scope:this}),">"),___v1ew.push('-- Enable or Disable --</option>\n                                          <option value="enable"',can.view.pending({scope:this}),">"),
___v1ew.push('Enable</option>\n                                          <option value="disable"',can.view.pending({scope:this}),">"),___v1ew.push('Disable</option>\n                                        </select>\n                                        </div>\n                                        <div class="col-xs-6 col-sm-6 col-md-6">\n                                            <div class="input-group-btn">\n                                              <button class="btn btn-primary rbac-permission-apply" ><i class="fa fa-edit"></i>Apply</button>\n                                            </div>\n                                        </div>\n                                      </div>\n                                      </div>\n                                    </form>\n                                \n                                    </div>\n                            </div>                            \n                            <!--/Enable and Disable Action-->\n                        </div> \n                        <!--Modal Edit for Assignment-->\n                        <div class="modal fade rbac-permission-edit" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                          <div class="modal-dialog modal-lg">\n                            <div class="modal-content">\n                              <div class="row">\n                                <!--Scope-->\n                                <div class="col-sm-12 col-md-12 off-botm20">\n                                <h3>Scope</h3>\n                                <p>Select Scope from the list</p>\n                                <div class="form-group rbac-permissionlist-scopes">\n                                  <!-- scopes.forEach(function(scope) { --> \n                                  <div class="checkbox">\n                                    <label><input type="checkbox" name="scope" value="[[= scope.id ]]"> [[= scope.attr(\'label\') ]]</input></label>\n                                  </div>\n                                  <!-- }) -->\n                                  <span class="mockup"><input type="checkbox" checked>Region NE</input><br></span>\n                                  <span class="mockup"><input type="checkbox" checked>Region SR</input><br></span>\n                                  <span class="mockup"><input type="checkbox" checked>Region 10</input><br></span>\n                                  <span class="mockup"><input type="checkbox" checked>Region 11</input><br></span>\n                                  \n                                </div>        \n                              </div>\n                              \n                              <div class="col-sm-4 col-md-4 pull-right">\n                                <div class="input-group-btn">\n                                  <button class="off-botm20 btn float-right btn-primary rbac-permission-save" ><i class="fa fa-save offset-5"></i>Save</button>\n                                  <button class="off-botm20 btn btn-default float-right rbac-permission-cancel" ><i class="fa fa-save offset-5"></i>Cancel</button>\n                                </div>\n                              </div>\n                            </div>\n                            </div>  \n                          </div>\n                        </div>    \n                        <!--/Modal Add/Edit for Assignment-->            \n                      </div>\n                      \n                      <!--  ================= /End Permission List ================  -->\n                      <!--  ================= Roles  ================  -->\n                      <div class="rbac-display rbac-roles" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('display:none"'),a.join("")})),___v1ew.push('>\n                          <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                              <li><a href="#" class="disabled">Roles</a></li>\n                            </ul>  \n                            <div class="opsportal-panel-heading container">                            \n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-left">\n                                    <!--Container of Search and Filter-->\n                                    <div class="">\n                                      <!--Filter-->\n                                      <!-- \n                                      <div class="col-xs-6 col-sm-6 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="offset-10">\n                                              <select class="form-control">\n                                                  <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                                  <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                                  <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                                  <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                                  <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                      -->\n                                      <!--/Filter-->\n                                      <!--Search-->\n                                      <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                               \n                                            <div class="input-group">\n                                                <input type="text" class="form-control autocomplete-filter" placeholder="Search" name="q">\n                                                <div class="input-group-btn">\n                                                    <button class="btn" type="submit"><i class="fa fa-search"></i></button>\n                                                </div>\n                                            </div>\n                                \n                                      </div>\n                                      <!--/Search-->\n                                    </div>\n                                    <!--/Container of Search and Filter-->\n                                </div>\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-right">\n                                    <!--Add Button-->\n                                    <div class="col-xs-12 col-sm-3 col-md-2 addbtn">\n                                          <div class="input-group-btn">\n                                            <a class="col-xs-12 col-sm-12 btn rbac-role-addButton" rbac-show="rbac-role-addroles" href=""><i class="fa fa-plus"></i> Add</a>\n                                          </div>\n                                    </div> \n                                    <!--/Add Button-->\n                                </div>          \n                            </div>\n                                 \n                            <div class="col-md-12">                                \n                              <table id="rolelist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                  <thead>\n                                    <tr class="tbhead">\n                                      <th>Role Name</th>\n                                      <th>Role Description</th>\n                                      <th class="align-center">Action</th> \n                                    </tr>\n                                  </thead>                              \n                                  <tbody>  \n                                  <tr>\n                                    <td>HR Admin</td>\n                                    <td>Edit Information | Add Employee | Approve Edit Info</td>\n                                    <td class="actions" >\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" rbac-show="rbac-editroles" class="fa fa-edit fa-2 offset-9 rbac-role-list-edit" role-id="[[= row.id ]]"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9 rbac-role-list-clone" role-id="[[= row.id ]]"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2 rbac-role-list-delete" role-id="[[= row.id ]]"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>System Admin</td>\n                                    <td>Manage Servers | Manage Database</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="#edit-roles" rbac-show="rbac-editroles" class="fa fa-edit fa-2 offset-9" ></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>Crisis Manager</td>\n                                    <td>View Accident Reports | View Statistic Report</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="#edit-roles" rbac-show="rbac-editroles" class="fa fa-edit fa-2 offset-9" ></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>    \n                                  </tbody>\n                              </table>\n                            </div>     \n                          \n                            <!--Pagination-->   \n                            <!--\n                              <div class="col-md-12 padtop10">\n                                <div class="row">\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                      <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                        <span class="caret"></span>\n                                      </button>\n                                      <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                                <div class="row">\n                                  <div class="col-md-12 align-center off-botm20 off-top10">\n                                      <ul class="pagination nav" '),___v1ew.push(can.view.txt(2,"ul","style",this,function(){var a=[];return a.push('style="'),a.push('vertical-align:bottom"'),a.join("")})),___v1ew.push('>\n                                        <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                        <li><a href="#">1</a></li>\n                                        <li><a href="#">2</a></li>\n                                        <li><a href="#">3</a></li>\n                                        <li><a href="#">4</a></li>\n                                        <li><a href="#">5</a></li>\n                                        <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                              </div>\n                            -->\n                            <!--/Pagination-->  \n                          </div>\n                      </div>\n                      <!--  ================= /END Roles  ================  -->\n                      \n                      <!--  ================= /Add Roles  ================  -->\n                      <div class="rbac-display rbac-role-addroles" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('display:none"'),a.join("")})),___v1ew.push('>\n                        <div class="opsportal-panel container">\n                        <ul id="crumbs">\n                            <li><a href="#" rbac-show="rbac-roles">Roles</a></li>\n                            <li><a href="#" class="disabled">Add Role</a></li>\n                        </ul>\n                          <div class="col-md-12 padtop20 off-top10">\n                              <form>\n                                <div class="form-group">\n                                <label for="role_label">Role Name</label>\n                                <input type="text" class="form-control" name="role_label" placeholder="Enter Role Name">\n                                </div>\n                                <div class="form-group">\n                                <label for="role_description">Description</label>\n                                <textarea class="form-control" rows="3" name="role_description"',can.view.pending({scope:this}),">"),___v1ew.push('</textarea>\n                                </div>\n                              </form> \n                              <!--Tab-->  \n                              <div class="clear"></div> \n                              <ul class="nav nav-tabs" role="tablist" id="myTab">\n                                <li role="presentation" class="active">\n                                  <a data-target="#ap" aria-controls="home" role="tab" data-toggle="tab">Action Permission</a>\n                                </li>\n                                <li role="presentation">\n                                  <a data-target="#dfp" aria-controls="profile" role="tab" data-toggle="tab">Data Field Permission</a>\n                                </li>\n                              </ul>\n                              <div class="tab-content">\n                                <!--Action Permission-->\n                                <div role="tabpanel" class="tab-pane active" id="ap">\n                                  <!-- \n                                  <div class="col-sm-6 col-md-6 pull-right">\n                                    <form class="navbar-form" role="search" '),___v1ew.push(can.view.txt(2,"form","style",this,function(){var a=[];return a.push('style="'),a.push('text-align:right"'),a.join("")})),___v1ew.push('>\n                                      <div class="input-group col-md-6">\n                                      <select class="form-control">\n                                        <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                        <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                        <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                        <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                        <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                      </select>\n                                      </div>\n                                    </form>    \n                                  </div>\n                                  -->\n                                  <!--Container of Search and Filter-->\n                                  <div class="">\n                                    <!--Search-->\n                                    <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                                          <div class="input-group">\n                                              <input type="text" class="form-control autocomplete-filter rbac-role-add-actionsearch" placeholder="Search" name="q">\n                                              <div class="input-group-btn">\n                                                  <button class="btn" ><i class="fa fa-search"></i></button>\n                                              </div>\n                                          </div>\n                                    </div>\n                                    <!--/Search-->\n                                  </div>\n                                  <!--/Container of Search and Filter-->\n                                  <div class="clear"></div>    \n                                  <table id="permissionlist"  data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                      <thead>\n                                      <tr class="tbhead">\n                                        <th></th>\n                                        <th>Description</th>\n                                        <th>Scope</td>\n                                        <th class="align-center">Action</th>\n                                      </tr>\n                                      </thead>                                    \n                                      <tbody>\n                                      <tr>\n                                        <td><input type="checkbox"></td>\n                                        <td>HR Admin</td>\n                                        <td>Region 10 | Marketing Dept</td>\n                                        <td class="action" ><span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2"></a></span></td>\n                                      </tr>\n                                      <tr>\n                                        <td><input type="checkbox"></td>\n                                        <td>System Admin</td>\n                                        <td>I.T Dept | M.I.S Dept</td>\n                                        <td><span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2"></a></span></td>\n                                      </tr>\n                                      </tbody>\n                                  </table>  \n                                </div>\n                                <!--/Action Permission-->\n                                <!--Data Field Permission-->\n                                <div role="tabpanel" class="tab-pane" id="dfp">\n                                  <!--Data Field Permission-->\n                                  <div role="tabpanel" class="tab-pane" id="dfp">\n                                    <div class="container-fluid">\n                                    <div class="row">\n                                      <!--LEFT COLUMN-->\n                                      <div class="col-md-5">\n                                      <div id="dfp-filter" class="col-sm-5 pull-left">\n                                        <form role="search" '),___v1ew.push(can.view.txt(2,"form","style",this,function(){var a=[];return a.push('style="'),a.push('text-align:right"'),a.join("")})),___v1ew.push('>\n                                          <div class="input-group">\n                                            <select class="form-control">\n                                              <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                              <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                              <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                              <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                              <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                            </select>\n                                          </div>\n                                        </form>    \n                                      </div>      \n                                      <select class="rslist" name="availableRoles" multiple="multiple">\n                                        <option value="1"',can.view.pending({scope:this}),">"),___v1ew.push('HR Admin</option>\n                                        <option value="2"',can.view.pending({scope:this}),">"),___v1ew.push('System Admin</option>\n                                        <option value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Crisis Manager</option>\n                                        <option value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Marketing Manager</option>\n                                        <option value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Crisis Manager</option>\n                                      </select>     \n                                      </div>\n                                      <!--RIGHT COLUMN-->\n                                      <div class="col-md-7">\n                                        <div class="off-top10 input-group col-md-12 col-sm-8 col-xs-12">\n                                          <form class="form-horizontal">\n                                            \n                                            <div class="form-group col-md-12 col-sm-12 nopadLR">\n                                              <label class="nopadLR control-label col-md-8 col-sm-2 col-xs-6 align-right">Update Selected Fields</label>\n                                              <div class="col-md-6 col-sm-6 col-xs-6">\n                                                <select class="form-control input-group">\n                                                  <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                                  <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                                  <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                                  <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                                  <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                                </select>\n                                              </div>\n                                            </div>\n                                          </form>    \n                                        </div>        \n                                      \n                                        <table id="dataFieldPermissionlist" data-toggle="table" data-cache="false" data-height="299" class="clear table table-bordered table-hover">\n                                          <thead>\n                                          <tr class="tbhead">\n                                            <th></th>\n                                            <th>Data Field</th>\n                                            <th>Status</td>\n                                          </tr>\n                                          </thead>                                        \n                                          <tbody>\n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>Phonetype_id</td>\n                                            <td>Edit Self</td>\n                                          </tr>\n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>Phone Comment</td>\n                                            <td>View</td>\n                                          </tr>\n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>Phone_countrycode</td>\n                                            <td>No Access</td>\n                                          </tr>           \n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>phone_number</td>\n                                            <td>Edit Self</td>\n                                          </tr>           \n                                          </tbody>\n                                        </table>\n                                        <div class="col-md-12 col-sm-8 col-xs-12">\n                                          <form class="navbar-form" role="search" '),___v1ew.push(can.view.txt(2,"form","style",this,function(){var a=[];return a.push('style="'),a.push('text-align:left"'),a.join("")})),___v1ew.push('>\n                                            Add and delete rows permission\n                                            <div class="input-group input-group col-md-8">\n                                              <select class="form-control input-group">\n                                                <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('----</option>\n                                                <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('New Access</option>\n                                                <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('View</option>\n                                                <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Edit Self</option>\n                                                <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Edit Others</option>\n                                              </select>\n                                            </div>\n                                          </form>    \n                                        </div>\n                                      </div>\n                                    </div>\n                                    </div>\n                                  </div>                \n                                  <!--/Data Field Permission-->\n                                </div>\n                              </div>\n                          </div>\n                          <div class="opsportal-divider off-botm20"></div>  \n                          <div class="col-sm-12 col-md-12 col-xs-12 pull-right off-botm10">\n                            <div class="row">\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                </div>\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                      <!--SAVE AND SAVE RETURN-->\n                                      <div class="sns">\n                                        <div class="input-group-btn">\n                                          <button class="btn btn-primary float-right rbac-roles-addrole-create" ><i class="fa fa-save offset-5"></i>Create</button>\n                                          <button class="btn float-right rbac-roles-addrole-cancel" type="submit"><i class="fa fa-cancel offset-5"></i>Cancel</button>\n                                        </div>  \n                                      </div>\n                                      <!--SAVE AND SAVE RETURN-->  \n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <!--  ================= /END Add Roles  ================  -->\n                      <!--  ================= Edit Roles  ================  -->\n                      <div class="rbac-display rbac-role-editrole" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('display:none"'),a.join("")})),___v1ew.push('>\n                        <div class="opsportal-panel container">\n                          <ul id="crumbs">\n                              <li><a href="#" rbac-show="rbac-roles">Roles</a></li>\n                              <li><a href="#" class="disabled">Edit Role</a></li>\n                          </ul>                          \n                          <div class="col-md-12 off-top10">\n                              <form>\n                                <div class="form-group">\n                                <label for="exampleInputEmail1">Role Name</label>\n                                <input class="form-control" name="role_label" >\n                                </div>\n                                <div class="form-group">\n                                <label for="exampleInputPassword1">Description</label>\n                                <textarea class="form-control" rows="3" name="role_description" ',can.view.pending({scope:this}),">"),___v1ew.push('Everyone in the SW and Conference Fee 2014</textarea>\n                                </div>\n                              </form> \n                              <!--Tab-->  \n                              <div class="clear"></div> \n                              <ul class="nav nav-tabs" role="tablist" id="myTab">\n                                <li role="presentation" class="active">\n                                  <a data-target="#editap" aria-controls="home" role="tab" data-toggle="tab">Action Permission</a>\n                                </li>\n                                <li role="presentation">\n                                  <a data-target="#editdfp" aria-controls="profile" role="tab" data-toggle="tab">Data Field Permission</a>\n                                </li>\n                              </ul>\n                              <div class="tab-content">\n                                <!--Action Permission-->\n                                <div role="tabpanel" class="tab-pane active" id="editap">\n                                  <!--\n                                  <div class="col-sm-6 col-md-6 pull-right">\n                                    <form class="navbar-form" role="search" '),
___v1ew.push(can.view.txt(2,"form","style",this,function(){var a=[];return a.push('style="'),a.push('text-align:right"'),a.join("")})),___v1ew.push('>\n                                      <div class="input-group col-md-6">\n                                      <select class="form-control">\n                                        <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                        <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                        <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                        <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                        <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                      </select>\n                                      </div>\n                                    </form>    \n                                  </div>\n                                -->\n                                  <!--Container of Search and Filter-->\n                                  <div class="">\n                                    <!--Search-->\n                                    <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                                          <div class="input-group">\n                                              <input type="text" class="form-control autocomplete-filter rbac-role-edit-actionsearch" placeholder="Search" >\n                                              <div class="input-group-btn">\n                                                  <button class="btn" ><i class="fa fa-search"></i></button>\n                                              </div>\n                                          </div>\n                                    </div>\n                                    <!--/Search-->\n                                  </div>\n                                  <!--/Container of Search and Filter-->\n                                  <div class="clear"></div>    \n                                  <table id="roleEditPermissionlist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                      <thead>\n                                      <tr class="tbhead">\n                                        <th></th>\n                                        <th>Description</th>\n                                        <th>Scope</td>\n                                        <th class="align-center">Action</th>\n                                      </tr>\n                                      </thead>                                    \n                                      <tbody>\n                                      <tr>\n                                        <td><input type="checkbox" checked></td>\n                                        <td contenteditable="false">HR Admin</td>\n                                        <td contenteditable="false">Region 10 | Marketing Dept</td>\n                                        <td class="action">\n                                            <span data-toggle="tooltip" data-placement="left" title="Edit" class="toEdit"><a href="#" class="editbtn fa fa-edit fa-2 rbac-roles-editrole-action-edit" assignment-id="[[= row.id ]]"></a>\n                                            </span>\n                                            <span data-toggle="tooltip" data-placement="left" title="Save" class="toSave hidden"><a class="fa fa-save fa-2 offset-9 rbac-roles-editrole-action-save" assignment-id="[[= row.id ]]"></a></span>\n                                            <span data-toggle="tooltip" data-placement="left" title="Cancel" class="toSave hidden"><a class="fa fa-close fa-2 offset-9 rbac-roles-editrole-action-cancel" assignment-id="[[= row.id ]]"></a></span>\n                                        </td>\n                                      </tr>\n                                      <tr>\n                                        <td><input type="checkbox" checked></td>\n                                        <td contenteditable="false">System Admin</td>\n                                        <td contenteditable="false">I.T Dept | M.I.S Dept</td>\n                                        <td><a href="#" class="editbtn fa fa-edit fa-2"></a></td>\n                                      </tr>\n                                      </tbody>\n                                  </table>  \n                                </div>\n                                <!--/Action Permission-->\n                                <!--Data Field Permission-->\n                                <div role="tabpanel" class="tab-pane" id="editdfp">\n                                    <div class="container-fluid">\n                                    <div class="row">\n                                      <!--LEFT COLUMN-->\n                                      <div class="col-md-5">\n                                      <div id="dfp-filter" class="pull-left">\n                                        <form class="navbar-form" role="search" '),___v1ew.push(can.view.txt(2,"form","style",this,function(){var a=[];return a.push('style="'),a.push('text-align:right"'),a.join("")})),___v1ew.push('>\n                                        <div class="input-group">\n                                        <select class="form-control">\n                                          <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                          <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                          <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                          <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                          <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                        </select>\n                                        </div>\n                                        </form>    \n                                      </div>      \n                                      <select class="rslist" name="availableRoles" multiple="multiple">\n                                        <option value="1" selected',can.view.pending({scope:this}),">"),___v1ew.push('HR Admin</option>\n                                        <option value="2" selected',can.view.pending({scope:this}),">"),___v1ew.push('System Admin</option>\n                                        <option value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Crisis Manager</option>\n                                        <option value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Marketing Manager</option>\n                                        <option value="3"',can.view.pending({scope:this}),">"),___v1ew.push('Crisis Manager</option>\n                                      </select>     \n                                      </div>\n                                      <!--RIGHT COLUMN-->\n                                      <div class="col-md-7">\n                                      <div class="pull-right input-group col-md-8">\n                                        <form class="navbar-form" role="search" '),___v1ew.push(can.view.txt(2,"form","style",this,function(){var a=[];return a.push('style="'),a.push('text-align:right"'),a.join("")})),___v1ew.push('>\n                                        <label>Update Selected Fields</label>\n                                        <div class="input-group input-group col-md-7">\n                                        <select class="form-control input-group">\n                                          <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                          <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                          <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                          <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                          <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                        </select>\n                                        </div>\n                                        </form>    \n                                      </div>        \n                                      \n                                      <table id="permissionlist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                        <thead>\n                                          <tr class="tbhead">\n                                            <th></th>\n                                            <th>Data Field</th>\n                                            <th>Status</td>\n                                          </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>Phonetype_id</td>\n                                          <td>Edit Self</td>\n                                        </tr>\n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>Phone Comment</td>\n                                          <td>View</td>\n                                        </tr>\n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>Phone_countrycode</td>\n                                          <td>No Access</td>\n                                        </tr>           \n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>phone_number</td>\n                                          <td>Edit Self</td>\n                                        </tr>           \n                                        </tbody>\n                                      </table>      \n                                      <div class="pull-left input-group col-md-5">\n                                        <form class="navbar-form" role="search" '),___v1ew.push(can.view.txt(2,"form","style",this,function(){var a=[];return a.push('style="'),a.push('text-align:left"'),a.join("")})),___v1ew.push('>\n                                        Add and delete rows permission\n                                        <div class="input-group input-group col-md-8">\n                                        <select class="form-control input-group">\n                                          <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('----</option>\n                                          <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('New Access</option>\n                                          <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('View</option>\n                                          <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Edit Self</option>\n                                          <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Edit Others</option>\n                                        </select>\n                                        </div>\n                                        </form>    \n                                      </div>\n                                      </div>\n                                    </div>\n                                    </div>\n                                </div>                \n                                <!--/Data Field Permission-->\n                              </div>\n                          </div>\n                          <div class="opsportal-divider off-botm20"></div>  \n                          <div class="col-sm-12 col-md-12 col-xs-12 pull-right off-botm10">\n                            <div class="row">\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                </div>\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                      <!--SAVE AND SAVE RETURN-->\n                                      <div class="sns">\n                                        <div class="input-group-btn">\n                                          <button class="btn btn-primary float-right rbac-roles-editrole-save" type="submit"><i class="fa fa-save offset-5"></i>Save</button>\n                                          <button class="btn float-right rbac-roles-editrole-cancel" ><i class="fa fa-cancel offset-5"></i>Cancel</button>\n                                        </div>  \n                                      </div>\n                                      <!--SAVE AND SAVE RETURN-->  \n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <!--  ================= /END Edit Roles  ================  -->\n                      \n                      <!--  ================= Scopes  ================  -->\n                      <div class="rbac-display rbac-scopes" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('display:none"'),a.join("")})),___v1ew.push('>\n                        <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                                <li><a href="#" class="disabled">Scope</a></li>\n                            </ul>\n                            <div class="opsportal-panel-heading container">\n                                <div class="col-xs-6 col-sm-6 col-md-6 pull-left">\n                                    <!--Search and Filter-->\n                                    <div class="row">\n                                      <!--Filter-->\n                                      <div class="col-xs-12 col-sm-12 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="">\n                                              <select class="form-control">\n                                                  <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                                  <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                                  <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                                  <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                                  <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                      <!--/Filter-->\n                                    </div>\n                                    <!--/Search and Filter-->  \n                                </div>\n                                <div class="col-xs-6 col-sm-6 col-md-6 pull-right">\n                                      <!--Add Button-->\n                                      <div class=" col-xs-12 col-sm-3 col-md-2 addbtn">\n                                            <div class="input-group-btn">\n                                              <a class="col-xs-12 col-sm-12 btn float-right" rbac-show="rbac-addscopes" href="#add-scopes"><i class="fa fa-plus"></i> Add</a>\n                                            </div>\n                                      </div> \n                                      <!--/Add Button-->\n                                </div>          \n                            </div>\n                            <br />\n                            <div class="col-md-12">  \n                            <table id="scopelist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                <thead>\n                                  <tr class="tbhead">\n                                    <th>Scope Name</th>\n                                    <th>Description</th>\n                                    <th class="align-center">Action</th>\n                                  </tr>\n                                </thead>                                \n                                <tbody>\n                                  <tr>\n                                    <td>Region SW</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>Region NE</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>Region SR</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>        \n                                  <tr>\n                                    <td>Region BJ</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr> \n                                  <tr>\n                                    <td>Region MC</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                </tbody>\n                            </table>\n                            </div>\n                            <!--Pagination-->   \n                            <div class="col-md-12 padtop10">\n                                <div class="row">\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                      <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                        <span class="caret"></span>\n                                      </button>\n                                      <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                                <div class="row">\n                                  <div class="col-md-12 align-center off-botm20 off-top10">\n                                      <ul class="pagination nav" '),___v1ew.push(can.view.txt(2,"ul","style",this,function(){var a=[];return a.push('style="'),a.push('vertical-align:bottom"'),a.join("")})),___v1ew.push('>\n                                        <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                        <li><a href="#">1</a></li>\n                                        <li><a href="#">2</a></li>\n                                        <li><a href="#">3</a></li>\n                                        <li><a href="#">4</a></li>\n                                        <li><a href="#">5</a></li>\n                                        <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                            </div>\n                            <!--/Pagination--> \n                        </div>\n                      </div>\n                      <!--  ================= /END Scopes  ================  -->\n                      <!--  ================= Add Scopes  ================  -->\n                      <div class="rbac-display rbac-addscopes" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('display:none"'),a.join("")})),___v1ew.push('>\n                        <div class="opsportal-panel container" >\n                            <ul id="crumbs">\n                                <li><a href="#" rbac-show="rbac-scopes">Scopes</a></li>\n                                <li><a href="#" class="disabled">Add Scopes</a></li>\n                            </ul>                          \n                          <div class="col-md-12 padtop20">\n                            <div '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('margin-bottom:30px;"'),a.join("")})),___v1ew.push('>\n                            <form>\n                              <div class="form-group">\n                              <label for="exampleInputEmail1">Scope Name:</label>\n                              <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter Role Names">\n                              </div>\n                              <div class="form-group">\n                              <label for="exampleInputPassword1">Description:</label>\n                              <textarea class="form-control" rows="3"',can.view.pending({scope:this}),">"),___v1ew.push('</textarea>\n                              </div>\n                              <div class="form-group">\n                              <label for="exampleInputEmail1">Condition:</label>\n                              <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter Role Names">\n                              </div>    \n                            </form>\n                            </div>\n                            <!--add and filter-->\n                            <div class="row off-botm10">\n                              <div class="col-md-6 col-sm-6 col-xs-6"><p>Click <i class="fa fa-plus" '),___v1ew.push(can.view.txt(2,"i","style",this,function(){var a=[];return a.push('style="'),a.push('text-decoration:underline;color:#337AB7"'),a.join("")})),___v1ew.push('></i> below to add the Rule Set to the Scope Condition. Use "and" or "or" and parenthesis between Rule Sets to create the Scope Condition</p></div>\n                              <!--filter--> \n                              <div class="col-md-6 col-sm-6 col-xs-6">\n                                <div class="col-sm-9 col-md-10 col-xs-6">\n                                  <form class="navbar-form align-right " role="search">\n                                    <div class="input-group col-md-6 col-xs-12">\n                                      <select class="form-control">\n                                        <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                        <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                        <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                        <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                        <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                      </select>\n                                    </div>\n                                  </form>    \n                                </div>\n                                \n                                <!--Add Button-->         \n                                <div class="col-sm-3 col-md-2 col-xs-3 addbtn">\n                                    <div class="input-group-btn">\n                                      <a class="btn" type="submit" href="#add-scopes"><i class="fa fa-plus"></i> Add</a>\n                                    </div>\n                                </div>\n                                <!--Add Button-->     \n                              </div>\n                              <!--/filter-->  \n                            </div>\n                            <!--/add and filter-->\n                            <!--TABLE DATA-->\n                            <table id="addscopelist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                <thead>\n                                  <tr class="tbhead">\n                                    <th>Add</th>\n                                    <th>Rule Set Name</th>\n                                    <th>Rule Set Decription</th>\n                                    <th class="align-center">Action</th>\n                                  </tr>\n                                </thead>                                \n                                <tbody>                                \n                                <tr>\n                                  <td><a href="#add-rule" class="fa fa-plus" data-toggle="modal" data-target=".add-rule-set"></a></td>\n                                  <td>Region SW</td>\n                                  <td>All active staff in SW Region</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                  <td><a href="#add-rule" class="fa fa-plus" data-toggle="modal" data-target=".add-rule-set"></td>\n                                  <td>Conference Fee 2014</td>\n                                  <td>Everyone who has paid the conference fee for 2014</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                  <td><a href="#add-role" class="fa fa-plus" data-toggle="modal" data-target=".add-rule-set"></td>\n                                  <td>Woman SW</td>\n                                  <td>all female staff in SW Region</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            <!--/TABLE DATA-->\n                            <div '),
___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('clear:both"'),a.join("")})),___v1ew.push('></div>    \n                          </div>\n                          <!--Pagination-->   \n                          <div class="col-md-12 padtop10">\n                            <div class="row">\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                      <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                        <span class="caret"></span>\n                                      </button>\n                                      <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                      </ul>\n                                  </div>\n                            </div>\n                            <div class="row">\n                                  <div class="col-md-12 align-center off-botm20 off-top10">\n                                      <ul class="pagination nav" '),___v1ew.push(can.view.txt(2,"ul","style",this,function(){var a=[];return a.push('style="'),a.push('vertical-align:bottom"'),a.join("")})),___v1ew.push('>\n                                        <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                        <li><a href="#">1</a></li>\n                                        <li><a href="#">2</a></li>\n                                        <li><a href="#">3</a></li>\n                                        <li><a href="#">4</a></li>\n                                        <li><a href="#">5</a></li>\n                                        <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                      </ul>\n                                  </div>\n                            </div>\n                          </div>\n                          <!--/Pagination-->\n                          <div class="opsportal-divider off-botm20"></div>      \n                          <div class="input-group-btn">\n                              <button class="offset-10 off-botm20 btn float-right" type="submit"><i class="fa fa-save offset-5"></i>Save</button>\n                          </div>\n                        </div>\n                        <!--Modal for Add Rule Set-->\n                        <div class="modalcenter modal fade add-rule-set" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                          <div class="modal-dialog modal-lg">\n                            <div class="modal-content">\n                              <div '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var a=[];return a.push('style="'),a.push('margin-bottom:30px;overflow:hidden"'),a.join("")})),___v1ew.push('>\n                              <form>\n                                <div class="form-group">\n                                <label for="exampleInputEmail1">Rule Set Name</label>\n                                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter Rule Set Names" value="">\n                                </div>\n                                <div class="form-group">\n                                <label for="exampleInputPassword1">Description</label>\n                                <textarea class="form-control" rows="3"',can.view.pending({scope:this}),">"),___v1ew.push('</textarea>\n                                </div>\n                              </form>\n                              </div>\n                              <!---->\n                              <div class="fcv-field">\n                                <!--matches-->\n                                <div class="row">\n                                  <div class="col-sm-12 col-md-12">\n                                    <form class="navbar-form align-right " role="search">\n                                      <label class="offset-5">Matches</label>\n                                      <div class="input-group col-md-3">\n                                      <select class="form-control">\n                                        <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                        <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                        <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                        <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                        <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                      </select>\n                                      </div>\n                                    </form>    \n                                  </div>          \n                                </div>\n                                <!--/matches-->\n                                <div class="opsportal-divider off-botm10 "></div>   \n                                <!--labels-->\n                                <div class="row">\n                                  <div class="col-md-4"><label>Field</label></div>\n                                  <div class="col-md-3"><label>Condition</label></div>\n                                  <div class="col-md-3"><label>Value</label></div>\n                                  <div class="col-md-2"></div>\n                                </div>\n                                <!--Entry-->\n                                <div class="row">\n                                  <!--Field-->\n                                  <div class="col-md-4">\n                                    <ul>\n                                      <li></li>\n                                    </ul>\n                                    <div class="input-group col-md-10">\n                                      <select class="form-control">\n                                        <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                        <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                        <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                        <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                        <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                       </select>\n                                    </div>\n                                  </div>\n                                  <!--/Field-->\n                                  <!--Condition-->\n                                  <div class="col-md-3">\n                                    <ul>\n                                      <li></li>\n                                    </ul>\n                                    <div class="input-group col-md-10">\n                                      <select class="form-control">\n                                        <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                        <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                        <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                        <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                        <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                       </select>\n                                    </div>          \n                                  </div>\n                                  <!--/Condition-->\n                                  <!--Value-->\n                                  <div class="col-md-3">\n                                    \n                                    <ul>\n                                      <li></li>\n                                    </ul>\n                                    <div class="input-group col-md-10">\n                                      <select class="form-control">\n                                        <option value="one"',can.view.pending({scope:this}),">"),___v1ew.push('-- Filter --</option>\n                                        <option value="two"',can.view.pending({scope:this}),">"),___v1ew.push('Two</option>\n                                        <option value="three"',can.view.pending({scope:this}),">"),___v1ew.push('Three</option>\n                                        <option value="four"',can.view.pending({scope:this}),">"),___v1ew.push('Four</option>\n                                        <option value="five"',can.view.pending({scope:this}),">"),___v1ew.push('Five</option>\n                                       </select>\n                                    </div>          \n                                  </div>\n                                  <!--/Value-->\n                                  <div class="col-md-2">\n                                    <ul>\n                                      <li></li>\n                                    </ul>         \n                                    <button type="button" class="btn fa fa-plus" data-dismiss="modal"></button>\n                                  </div>\n                                </div>\n                              </div>\n                              <!--/-->\n                              <!--Save-->\n                              <div class="modal-footer">\n                                <button type="button" class="btn" data-dismiss="modal">save</button>\n                              </div>\n                              <!--/Save-->\n                            </div>\n                          \n                          </div>\n                        </div>    \n                        <!--/Modal for Add-->\n                      </div>\n                      <!--  ================= /END Add Scopes  ================  -->\n                  </div>\n                </div>\n'),___v1ew.join("")}}))});
/*opstools/RBAC/controllers/RBAC*/
define("opstools/RBAC/controllers/RBAC",["appdev/appdev","OpsPortal/classes/OpsTool","opstools/RBAC/models/SiteUser","opstools/RBAC/models/PermissionAction","opstools/RBAC/models/PermissionRole","opstools/RBAC/models/PermissionScope","opstools/RBAC/controllers/Users","opstools/RBAC/controllers/UserAssignmentAdd","opstools/RBAC/controllers/UserPermissionList","opstools/RBAC/controllers/Roles","opstools/RBAC/controllers/RoleAdd","opstools/RBAC/controllers/RoleEdit","opstools/RBAC/views/RBAC/RBAC.ejs!can/view/ejs/system"],function(){AD.ui.loading.resources(12)},function(){AD.ui.loading.completed(12),AD.Control.OpsTool.extend("RBAC",{CONST:{ASSIGNMENTADD:"Assignment.Add",USERPERMISSIONLIST:"User.PermissionList",EDITPERMISSION:"Permission.Edit",ROLEADD:"Role.Add",ROLEADDED:"Role.Added",ROLEDELETED:"Role.Deleted",ROLEEDIT:"Role.Edit",DONE:"Done",CANCEL:"Cancel"},init:function(s,o){o=AD.defaults({templateDOM:"/opstools/RBAC/views/RBAC/RBAC.ejs"},o),this.options=o,this._super(s,o),this.portals={},this.data={},this.data.users=[],this.data.permissions=[],this.data.roles=[],this.data.scopes=[],this.data.hasBeenShown=!1,this.data.lastPortalShown="Users",this.initDOM(),this.initEvents(),this.loadData(),this.portalShow("users")},initDOM:function(){var s=this;this.element.html(can.view(this.options.templateDOM,{}));var o={"opstools.RBAC.Users":{el:".rbac-users",opt:{eventAssignmentAdd:this.CONST.ASSIGNMENTADD,eventPermissionList:this.CONST.USERPERMISSIONLIST}},"opstools.RBAC.UserAssignmentAdd":{el:".rbac-addassignments",opt:{eventDone:this.CONST.DONE}},"opstools.RBAC.UserPermissionList":{el:".rbac-permissionlist",opt:{eventAssignmentAdd:this.CONST.ASSIGNMENTADD,eventDone:this.CONST.DONE}},"opstools.RBAC.Roles":{el:".rbac-roles",opt:{eventRoleAdd:this.CONST.ROLEADD,eventRoleEdit:this.CONST.ROLEEDIT,eventRoleDeleted:this.CONST.ROLEDELETED}},"opstools.RBAC.RoleAdd":{el:".rbac-role-addroles",opt:{eventRoleAdded:this.CONST.ROLEADDED,eventCancel:this.CONST.CANCEL}},"opstools.RBAC.RoleEdit":{el:".rbac-role-editrole",opt:{eventDone:this.CONST.DONE,eventCancel:this.CONST.CANCEL}}},t=function(o,t,e,i){var n=AD.Control.get(t);s.portals[o]=new n(e,i)};for(var e in o){var i=e.split("."),n=i.pop();t(n,e,o[e].el,o[e].opt)}},initEvents:function(){var s=this;this.portals.Users.element.on(this.CONST.ASSIGNMENTADD,function(o,t){console.log(" ... User Assignment Add : ",t),s.portals.UserAssignmentAdd.loadUser(t),s.portals.UserAssignmentAdd.__from="Users",s.portalShow("UserAssignmentAdd")}),this.portals.Users.element.on(this.CONST.USERPERMISSIONLIST,function(o,t){console.log(" ... User Permissions for : ",t),s.portals.UserPermissionList.loadUser(t),s.portalShow("UserPermissionList")}),this.portals.UserAssignmentAdd.element.on(this.CONST.DONE,function(o,t){if(console.log(" ... User Assignment Add Return "),t){var e=AD.Model.get("opstools.RBAC.Permission");e.findOne({id:t.id}).fail(function(s){}).then(function(o){s.data.permissions.push(o)})}s.portalShow(s.portals.UserAssignmentAdd.__from)}),this.portals.UserPermissionList.element.on(this.CONST.ASSIGNMENTADD,function(o,t){console.log(" ... User Assignment Add : ",t),s.portals.UserAssignmentAdd.loadUser(t),s.portals.UserAssignmentAdd.__from="UserPermissionList",s.portalShow("UserAssignmentAdd")}),this.portals.UserPermissionList.element.on(this.CONST.DONE,function(o,t){s.portalShow("Users")}),this.portals.Roles.element.on(this.CONST.ROLEADD,function(o,t){s.portalShow("RoleAdd")}),this.portals.Roles.element.on(this.CONST.ROLEEDIT,function(o,t){s.portals.RoleEdit.loadRole(t),s.portalShow("RoleEdit")}),this.portals.Roles.element.on(this.CONST.ROLEDELETED,function(o,t){s.data.users.forEach(function(s){var o=[];s.permission.forEach(function(s){(s.role==t.id||s.role.id==t.id)&&o.push(s)}),o.forEach(function(o){var t=s.permission.indexOf(o);s.permission.splice(t,1)})})}),this.portals.RoleAdd.element.on(this.CONST.CANCEL,function(o){s.portalShow("Roles")}),this.portals.RoleAdd.element.on(this.CONST.ROLEADDED,function(o,t){s.data.roles.push(t),s.portalShow("Roles")}),this.portals.RoleEdit.element.on(this.CONST.CANCEL,function(o){s.portalShow("Roles")}),this.portals.RoleEdit.element.on(this.CONST.DONE,function(o,t){s.portalShow("Roles")})},loadUsers:function(){var s=this;console.log("... loading Users");var o=AD.Model.get("opstools.RBAC.SiteUser");o.findAll().fail(function(s){}).then(function(o){s.data.users=o,s.portals.Users.loadUsers(o)})},loadData:function(){var s=this;this.loadUsers();var o=AD.Model.get("opstools.RBAC.PermissionAction");o.findAll().fail(function(s){}).then(function(o){o.forEach(function(s){s.translate()}),s.portals.RoleAdd.loadActions(o),s.portals.RoleEdit.loadActions(o),s.data.actions=o});var t=AD.Model.get("opstools.RBAC.PermissionRole");t.findAll().fail(function(s){}).then(function(o){o.forEach(function(s){s.translate()}),s.portals.Users.loadRoles(o),s.portals.UserAssignmentAdd.loadRoles(o),s.portals.UserPermissionList.loadRoles(o),s.portals.Roles.loadRoles(o),s.data.roles=o});var e=AD.Model.get("opstools.RBAC.PermissionScope");e.findAll().fail(function(s){}).then(function(o){s.portals.Users.loadScopes(o),s.portals.UserAssignmentAdd.loadScopes(o),s.portals.UserPermissionList.loadScopes(o),s.data.scopes=o});var i=AD.Model.get("opstools.RBAC.Permission");i.findAll().fail(function(s){}).then(function(o){s.portals.Users.loadPermissions(o),s.portals.UserPermissionList.loadPermissions(o),s.data.permissions=o})},portalShow:function(s){for(var o in this.portals)o.toLowerCase()==s.toLowerCase()?(this.portals[o].show(),this.data.lastPortalShown=o):this.portals[o].hide()},resize:function(){this._super(),this.element.is(":visible")&&(this.data.hasBeenShown||(this.portalShow(this.data.lastPortalShown),this.data.hasBeenShown=!0));var s=this.portals[this.data.lastPortalShown];s.resize&&s.resize()},".rbac-menu click":function(s,o){var t=s.attr("portal");this.portalShow(t),o.preventDefault()}})});
/*opstools/RBAC/RBAC*/
define("opstools/RBAC/RBAC",["opstools/RBAC/controllers/RBAC"],function(){steal("site/labels/opstools-RBAC.js",function(){})});
/*[global-shim-end]*/
!function(){window._define=window.define,window.define=window.define.orig}();