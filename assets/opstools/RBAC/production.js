steal.has("stealconfig.js","OpsPortal/classes/OpsTool.js","opstools/RBAC/models/base/PermissionRole.js","opstools/RBAC/models/PermissionRole.js","opstools/RBAC/models/base/PermissionScope.js","opstools/RBAC/models/PermissionScope.js","opstools/RBAC/models/base/Permission.js","opstools/RBAC/models/Permission.js","opstools/RBAC/models/base/SiteUser.js","opstools/RBAC/models/SiteUser.js","opstools/RBAC/models/base/PermissionAction.js","opstools/RBAC/models/PermissionAction.js","opstools/RBAC/controllers/Users.js",
"opstools/RBAC/controllers/UserAssignmentAdd.js","opstools/RBAC/controllers/UserPermissionList.js","opstools/RBAC/controllers/Roles.js","opstools/RBAC/controllers/RoleAdd.js","opstools/RBAC/controllers/RoleEdit.js","opstools/RBAC/views/RBAC/RBAC.ejs","opstools/RBAC/controllers/RBAC.js","/site/labels/opstools-RBAC.js","opstools/RBAC/RBAC.js");steal({id:"appdev/production.js",waits:!0,has:"appdev/loading.css can/util/can.js can/util/attr/attr.js can/event/event.js can/util/array/each.js can/util/inserted/inserted.js can/util/jquery/jquery.js can/util/util.js can/util/bind/bind.js can/map/bubble.js can/util/string/string.js can/construct/construct.js can/util/batch/batch.js can/map/map.js can/list/list.js can/util/string/deparam/deparam.js can/route/route.js can/control/control.js can/control/route/route.js can/model/model.js can/view/view.js can/compute/compute.js can/view/scope/scope.js can/view/elements.js can/view/callbacks/callbacks.js can/view/scanner.js can/view/node_lists/node_lists.js can/view/parser/parser.js can/view/live/live.js can/view/render.js can/view/bindings/bindings.js can/view/mustache/mustache.js can/observe/observe.js can/component/component.js can/can.js can/view/ejs/ejs.js can/construct/super/super.js appdev/ad.js js/OpenAjax.js appdev/comm/hub.js appdev/util/uuid.js js/async.js appdev/util/async.js appdev/util/string.js appdev/config/config.js appdev/util/uiScrollbarSize.js appdev/config/data.js appdev/sal/web-jquery.js appdev/comm/socket.js appdev/model/model.js appdev/labels/lang.js appdev/labels/label.js appdev/widgets/ad_ui_reauth/ad_ui_reauth.css appdev/widgets/ad_icon_busy/ad_icon_busy.css appdev/widgets/ad_icon_busy/ad_icon_busy.js appdev/widgets/ad_ui_reauth/reauth_local.ejs appdev/widgets/ad_ui_reauth/reauth_cas.ejs appdev/widgets/ad_ui_reauth/ad_ui_reauth.js appdev/auth/reauth.js appdev/comm/service.js appdev/UIController.js appdev/control/control.js appdev/appdev.js".split(" ")});
steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery"}},paths:{jquery:"js/jquery.min.js","jquery-ui.js":"js/jquery-ui.min.js","bootstrap.js":"js/bootstrap/js/bootstrap.js","bootstrap.css":"js/bootstrap/css/bootstrap.min.css","bootstrap-datetimepicker.js":"js/bootstrap/js/bootstrap-datetimepicker.min.js","bootstrap-datetimepicker.css":"styles/bootstrap-datetimepicker.min.css","font-awesome.css":"styles/font-awesome.css","GenericList.js":"js/GenericList.js","dropzone.js":"js/dropzone/dropzone.min.js","dropzone.css":"js/dropzone/dropzone.min.css",
"bootstrap-table.js":"js/bootstraptable/bootstrap-table.js","bootstrap-table.css":"js/bootstraptable/bootstrap-table.css","bootstrapValidator.js":"js/bootstrapValidator.min.js","bootstrapValidator.css":"styles/bootstrapValidator.min.css","bootbox.js":"js/bootbox.min.js","FilteredBootstrapTable.js":"OpsPortal/controllers/FilteredBootstrapTable.js","OpsButtonBusy.js":"OpsPortal/classes/OpsButtonBusy.js","selectivity.js":"js/selectivity/selectivity-full.min.js","selectivity.css":"js/selectivity/selectivity-full.min.css",
"typeahead.js":"js/typeahead.jquery.min.js","moment.js":"js/moment.min.js"},shim:{jquery:{exports:"jQuery",packaged:!1,ignore:!0},"js/dependencies/sails.io.js":{packaged:!1,ignore:!0},"site/labels/appdev.js":{packaged:!1,ignore:!0},"jquery-ui.js":{packaged:!1},"bootstrap.js":{packaged:!1},"bootstrap-datetimepicker.js":{packaged:!1},"bootstrap-datetimepicker.css":{packaged:!1},"font-awesome.css":{packaged:!1},"js/jquery.sidr.min.js":{packaged:!1},"dropzone.js":{packaged:!1},"dropzone.css":{packaged:!1},
"bootstrap-table.js":{packaged:!1},"bootstrap-table.css":{packaged:!1},"bootstrapValidator.js":{packaged:!1},"bootstrapValidator.css":{packaged:!1},"bootbox.js":{packaged:!1},"opsportal/requirements.js":{ignore:!0},"opsportal/config":{ignore:!0},"site/labels/OpsPortal.js":{packaged:!1,ignore:!0},"site/labels/opstool-RBAC.js":{packaged:!1,ignore:!0},"selectivity.js":{packaged:!1},"selectivity.css":{packaged:!1},"site/labels/opstool-FCFActivities.js":{packaged:!1,ignore:!0},"typeahead.js":{packaged:!1},
"site/login-done":{packaged:!1},"moment.js":{packaged:!1}},amd:!1});steal.executed("stealconfig.js");
steal("appdev",function(){"undefined"==typeof AD.classes.opsportal&&(AD.classes.opsportal={});AD.classes.opsportal.OpsTool=can.Control.extend({init:function(a,c){this.options=AD.defaults({resize_notification:"opstool.resize"},c);this.shouldUpdateUI=true},needsUpdate:function(){this.shouldUpdateUI=true},resize:function(a){if(this.shouldUpdateUI){AD.comm.hub.publish(this.options.resize_notification,a);this.shouldUpdateUI=false}}});"undefined"==typeof AD.Control.OpsTool&&(AD.Control.OpsTool={extend:function(a,
c,d){if(typeof AD.controllers.opstools=="undefined")AD.controllers.opstools={};var a=a.split("."),b=AD.controllers.opstools;a.forEach(function(a){typeof b[a]=="undefined"&&(b[a]={});b=b[a]});b.Tool=AD.classes.opsportal.OpsTool.extend(c,d)}})});steal.executed("OpsPortal/classes/OpsTool.js");
steal("appdev").then(function(){AD.Model.Base.extend("opstools.RBAC.PermissionRole",{findAll:"GET /appdev-core/permissionrole",findOne:"GET /appdev-core/permissionrole/{id}",create:"POST /appdev-core/permissionrole",update:"PUT /appdev-core/permissionrole/{id}",destroy:"DELETE /appdev-core/permissionrole/{id}",describe:function(){return{role_label:"string",role_description:"text"}},associations:["actions","permissions"],multilingualFields:["role_label","role_description"],validations:{role_label:["notEmpty"],
role_description:["notEmpty"]},fieldId:"id",fieldLabel:"role_label"},{})});steal.executed("opstools/RBAC/models/base/PermissionRole.js");steal("appdev","opstools/RBAC/models/base/PermissionRole.js").then(function(){AD.Model.extend("opstools.RBAC.PermissionRole",{},{})});steal.executed("opstools/RBAC/models/PermissionRole.js");
steal("appdev").then(function(){AD.Model.Base.extend("opstools.RBAC.PermissionScope",{findAll:"GET /appdev-core/permissionscope",findOne:"GET /appdev-core/permissionscope/{id}",create:"POST /appdev-core/permissionscope",update:"PUT /appdev-core/permissionscope/{id}",destroy:"DELETE /permissionscope/{id}",describe:function(){return{label:"string"}},fieldId:"id",fieldLabel:"label"},{})});steal.executed("opstools/RBAC/models/base/PermissionScope.js");
steal("appdev","opstools/RBAC/models/base/PermissionScope.js").then(function(){AD.Model.extend("opstools.RBAC.PermissionScope",{},{})});steal.executed("opstools/RBAC/models/PermissionScope.js");
steal("appdev","opstools/RBAC/models/PermissionRole.js","opstools/RBAC/models/PermissionScope.js").then(function(){var a=AD.Model.get("opstools.RBAC.PermissionRole"),c=AD.Model.get("opstools.RBAC.PermissionScope");AD.Model.Base.extend("opstools.RBAC.Permission",{findAll:"GET /appdev-core/permission",findOne:"GET /appdev-core/permission/{id}",create:"POST /appdev-core/permission",update:"PUT /appdev-core/permission/{id}",destroy:"DELETE /appdev-core/permission/{id}",define:{role:{Type:a},scope:{Type:c}},
describe:function(){return{user:"string",role:"string",scope:"string",enabled:"bool"}},fieldId:"id",fieldLabel:"user"},{})});steal.executed("opstools/RBAC/models/base/Permission.js");steal("appdev","opstools/RBAC/models/base/Permission.js").then(function(){AD.Model.extend("opstools.RBAC.Permission",{},{})});steal.executed("opstools/RBAC/models/Permission.js");
steal("appdev","opstools/RBAC/models/Permission.js").then(function(){var a=AD.Model.get("opstools.RBAC.Permission");AD.Model.Base.extend("opstools.RBAC.SiteUser",{findAll:"GET /appdev-core/siteuser",findOne:"GET /appdev-core/siteuser/{id}",create:"POST /appdev-core/siteuser",update:"PUT /appdev-core/siteuser/{id}",destroy:"DELETE /appdev-core/siteuser/{id}",define:{permissions:{Type:a}},describe:function(){return{}},fieldId:"id",fieldLabel:"username"},{})});steal.executed("opstools/RBAC/models/base/SiteUser.js");
steal("appdev","opstools/RBAC/models/base/SiteUser.js").then(function(){AD.Model.extend("opstools.RBAC.SiteUser",{},{numAssignments:function(){return this.permission?this.permission.length:"?"}})});steal.executed("opstools/RBAC/models/SiteUser.js");
steal("appdev").then(function(){AD.Model.Base.extend("opstools.RBAC.PermissionAction",{findAll:"GET /appdev-core/permissionaction",findOne:"GET /appdev-core/permissionaction/{id}",create:"POST /appdev-core/permissionaction",update:"PUT /appdev-core/permissionaction/{id}",destroy:"DELETE /appdev-core/permissionaction/{id}",describe:function(){return{action_key:"string",action_description:"text"}},multilingualFields:["action_description"],validations:{action_key:["notEmpty"],action_description:["notEmpty"]},
fieldId:"id",fieldLabel:"action_key"},{})});steal.executed("opstools/RBAC/models/base/PermissionAction.js");steal("appdev","opstools/RBAC/models/base/PermissionAction.js").then(function(){AD.Model.extend("opstools.RBAC.PermissionAction",{},{})});steal.executed("opstools/RBAC/models/PermissionAction.js");
steal("appdev","opstools/RBAC/models/SiteUser.js","opstools/RBAC/models/Permission.js","opstools/RBAC/models/PermissionRole.js","opstools/RBAC/models/PermissionScope.js",function(){AD.Control.extend("opstools.RBAC.Users",{init:function(a,c){this.options=c=AD.defaults({eventAssignmentAdd:"assign.add",eventPermissionList:"perm.list"},c);this._super(a,c);this.dom={};this.data={};this.data.permissions=[];this.data.roles=[];this.data.scopes=[];this.initDOM();this.loadData()},initDOM:function(){var a=this,
c=this.domToTemplate(this.element.find("#userList>tbody"));can.view.ejs("RBAC_User_UserList",c);this.dom.listUsers=this.element.find("#userList");this.dom.listUsersTbody=this.dom.listUsers.find("tbody");this.dom.listAssignments=this.element.find(".rbac-user-table-assignments");this.dom.listAssignmentsTbody=this.dom.listAssignments.find("tbody");c=this.domToTemplate(this.dom.listAssignmentsTbody);can.view.ejs("RBAC_User_AssignmentList",c);this.quickviewClear();this.Filter=new (AD.Control.get("OpsPortal.FilteredBootstrapTable"))(this.element,
{tagFilter:".autocomplete-filter",tagBootstrapTable:"#userList",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"# Assignments",formatter:".numAssignments"},{title:"Username",field:"username"},{title:"Options",formatter:".options"},{title:"Status",formatter:".status"}]},rowClicked:function(a){a&&console.log("... clicked user:",a)},rowDblClicked:function(c){a.element.trigger(a.options.eventPermissionList,c)},termSelected:function(c){a.element.trigger(a.options.eventPermissionList,
c)},dataToTerm:function(a){return a?a.username:""}})},loadData:function(){},loadPermissions:function(a){this.data.permissions=a},loadRoles:function(a){this.data.roles=a},loadScopes:function(a){this.data.scopes=a},loadUsers:function(a){this.data.users=a;this.refresh()},refresh:function(){this.Filter.ready();this.Filter.load(this.data.users)},resize:function(){this.Filter.resetView()},show:function(){this._super();this.Filter.resetView()},quickviewClear:function(){this.dom.listAssignmentsTbody.html("")},
quickviewShow:function(a){this.quickviewClear();this.dom.listAssignmentsTbody.append(can.view("RBAC_User_AssignmentList",{list:a,listPermissions:this.data.permissions,listRoles:this.data.roles,listScopes:this.data.scopes}))},userForID:function(a){for(var c=0;c<this.data.users.length;c++)if(this.data.users[c].id==a)return this.data.users[c];return null},".rbac-user-perm-quickview click":function(a){this.quickviewShow(this.userForID(parseInt(a.attr("user-id"))).permission)},".rbac-user-perm-add click":function(a,
c){this.element.trigger(this.options.eventAssignmentAdd,this.userForID(parseInt(a.attr("user-id"))));c.preventDefault()},".ad-item-add click":function(a,c){c.preventDefault()}})});steal.executed("opstools/RBAC/controllers/Users.js");
steal("appdev","opstools/RBAC/models/Permission.js",function(){AD.Control.extend("opstools.RBAC.UserAssignmentAdd",{init:function(a,c){this.options=c=AD.defaults({eventDone:"added"},c);this._super(a,c);this.dom={};this.data={};this.data.user=null;this.data.roles=[];this.data.scopes=[];this.data.hashPermissions={};this.data.availableRoles=[];this.initDOM()},initDOM:function(){this.dom.userID=this.element.find(".rbac-addassignments-userID");this.dom.roleList=this.element.find(".rbac-addassignments-roleList");
var a=this.domToTemplate(this.dom.roleList);can.view.ejs("RBAC_UserAssignmentAdd_RoleList",a);this.dom.roleList.html(" ");this.dom.scopeList=this.element.find(".rbac-addassignments-scopeList");a=this.domToTemplate(this.dom.scopeList);can.view.ejs("RBAC_UserAssignmentAdd_ScopeList",a);this.dom.scopeList.html(" ");this.dom.buttonSave=this.element.find(".rbac-addassignments-save");this.buttonSaveDisable();this.form=new AD.op.Form(this.element.find(".rbac-addassignments-form"));this.form.addField("role",
"integer",{notEmpty:{}});this.form.addField("scope","array",{notEmpty:{}});this.buttonSave=new AD.op.ButtonBusy(this.element.find(".rbac-addassignments-save"))},buttonSaveEnable:function(){this.dom.buttonSave.removeAttr("disabled");this.dom.buttonSave.removeClass("disabled")},buttonSaveDisable:function(){this.dom.buttonSave.attr("disabled","disabled");this.dom.buttonSave.addClass("disabled")},buttonSaveValidate:function(){0<this.data.availableRoles.length&&(this.form.isValid()?this.buttonSaveEnable():
this.buttonSaveDisable())},loadUser:function(a){var c=this;this.dom.userID.text(a.username);this.data.user=a;this.data.hashPermissions={};this.data.user.permission&&this.data.user.permission.forEach(function(a){c.data.hashPermissions[a.role.id||a.role]=a});this.loadRoles(this.data.roles);this.scopesClear();this.form.reset();this.buttonSaveDisable()},loadRoles:function(a){var c=this;this.data.roles=a;this.dom.roleList.html(" ");var d=[];a.forEach(function(a){c.data.hashPermissions[a.id]||d.push(a)});
this.data.availableRoles=d;this.dom.roleList.append(can.view("RBAC_UserAssignmentAdd_RoleList",{roles:d}))},loadScopes:function(a){this.data.scopes=a;this.dom.scopeList.html(" ");this.dom.scopeList.append(can.view("RBAC_UserAssignmentAdd_ScopeList",{scopes:a}));this.form.attach()},scopesClear:function(){this.element.find(":checkbox").prop("checked",!1)},'[name="role"] click':function(){this.buttonSaveValidate()},'[name="scope"] click':function(){this.buttonSaveValidate()},".rbac-addassignments-cancel click":function(a,
c){this.element.trigger(this.options.eventDone);c.preventDefault()},".rbac-addassignments-save click":function(a,c){var d=this,b=this.form.values();b.user=this.data.user.id;b.enabled=!0;this.buttonSave.busy();(new (AD.Model.get("opstools.RBAC.Permission"))(b)).save().fail(function(a){d.form.errorHandle(a)||console.error("... unknown error! :",a)}).then(function(a){for(var b=0;b<a.scope.length;b++)a.scope[b]=parseInt(a.scope[b]);d.data.user.permission.push(a);d.buttonSave.ready();d.element.trigger(d.options.eventDone,
a)});c.preventDefault()}})});steal.executed("opstools/RBAC/controllers/UserAssignmentAdd.js");
steal("appdev",function(){AD.Control.extend("opstools.RBAC.UserPermissionList",{init:function(a,c){this.options=c=AD.defaults({eventAssignmentAdd:"assignment.add",eventDone:"im.done"},c);this._super(a,c);this.data={};this.data.user=null;this.data.roles=null;this.currentlyEditing=this.hashScopes=this.hashRoles=this.data.scopes=null;this.dom={};this.dom.username=null;this.dom.scopeList=null;this.dom.selectOption=null;this.dom.buttonApply=null;this.initDOM();this.validateApply()},initDOM:function(){var a=
this;this.dom.username=this.element.find(".rbac-permissionlist-username");this.dom.scopeList=this.element.find(".rbac-permissionlist-scopes");var c=this.domToTemplate(this.dom.scopeList);can.view.ejs("RBAC_PermissionList_ScopeList",c);this.dom.scopeList.html(" ");this.Filter=new (AD.Control.get("OpsPortal.FilteredBootstrapTable"))(this.element,{tagFilter:".autocomplete-filter",tagBootstrapTable:"#permissionlist",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"",
checkbox:!0},{title:"Role",field:"role_name"},{title:"Scope",field:"scope_list"},{title:"Action",formatter:".actions"},{title:"Status",formatter:".status"}]},rowChecked:function(){a.validateApply()},rowUnChecked:function(){a.validateApply()},rowDblClicked:function(c){c=a.element.find('.rbac-permissionlist-edit[perm-id="'+c.id+'"]');c.length&&c.click()},dataToTerm:function(a){return a?a.role_name:""}});this.dom.modalEditor=this.element.find(".rbac-permission-edit");this.form=new AD.op.Form(this.dom.modalEditor);
this.form.addField("scope","array",{notEmpty:{}});this.buttonSave=new AD.op.ButtonBusy(this.element.find(".rbac-permission-save"));this.dom.selectOption=this.element.find(".rbac-permission-selectOption");this.dom.buttonApply=new AD.op.ButtonBusy(this.element.find(".rbac-permission-apply"))},iconBusy:function(a){a.addClass(" fa-spinner fa-pulse")},iconReady:function(a){a.removeClass(" fa-spinner fa-pulse")},loadUser:function(a){this.data.user=a},loadRoles:function(a){var c=this;this.data.roles=a;this.hashRoles=
{};a.forEach(function(a){c.hashRoles[a.id]=a});this.refresh();this.data.roles.bind("change",function(){c.hashRoles={};c.data.roles.forEach(function(a){c.hashRoles[a.id]=a});c.refresh()})},loadScopes:function(a){var c=this;this.data.scopes=a;this.hashScopes={};a.forEach(function(a){c.hashScopes[a.id]=a});this.refresh();this.dom.scopeList.html(can.view("RBAC_PermissionList_ScopeList",{scopes:this.data.scopes}));this.form.attach()},loadPermissions:function(a){var c=this;this.data.permissions=a;this.hashPermissions=
{};a.forEach(function(a){c.hashPermissions[a.id]=a});this.refresh();this.data.permissions.bind("change",function(){c.hashPermissions={};c.data.permissions.forEach(function(a){c.hashPermissions[a.id]=a});c.refresh()})},refresh:function(){var a=this;if(this.data.user&&this.data.roles&&this.data.scopes){this.dom.username.html(this.data.user.attr("username"));var c=[];this.data.user.permission.forEach(function(d){if(d=a.hashPermissions[d.id]){var b={};b.id=d.id;var e=d.role.id||d.role;b.role_name=a.hashRoles[e]?
a.hashRoles[e].role_label:" *** role not found ***";var f=[];d.scope.forEach(function(b){b=b.id||b;a.hashScopes[b]&&f.push(a.hashScopes[b].getLabel())});b.scope_list=f.join(" | ");b.enabled=d.enabled;c.push(b)}});this.Filter.load(c)}},resize:function(){this.Filter.resetView()},show:function(){this._super();this.refresh();this.Filter.resetView()},validateApply:function(){this.Filter.values().length&&"choose"!=this.dom.selectOption.val()?this.dom.buttonApply.enable():this.dom.buttonApply.disable()},
".rbac-permissionlist-add click":function(a,c){this.element.trigger(this.options.eventAssignmentAdd,this.data.user);c.preventDefault()},".rbac-permissionlist-edit click":function(a){var c=this;this.currentlyEditing=a=this.entryForID(this.data.permissions,a.attr("perm-id"));this.form.clear();a.scope.forEach(function(a){c.dom.scopeList.find('input[value="'+a.id+'"]').prop("checked",!0)})},".rbac-permissionlist-delete click":function(a,c){var d=this,b=a.attr("perm-id"),e=this.entryForID(this.data.permissions,
b),f=this.data.permissions.indexOf(e),g=this.indexForID(this.data.user.permission,b);this.iconBusy(a);AD.op.Dialog.Confirm({fnYes:function(){e.destroy().fail(function(a){console.error(" *** error deleting permission:",e,a)}).then(function(){d.data.permissions.splice(f,1);d.data.user.permission.splice(g,1);d.iconReady(a);d.refresh()})},fnNo:function(){d.iconReady(a)}});c.preventDefault()},".rbac-permission-cancel click":function(a,c){this.dom.modalEditor.modal("hide");c.preventDefault()},".rbac-permission-save click":function(){var a=
this;if(this.currentlyEditing){if(this.form.isValid()){var c=this.form.values(),d=this.currentlyEditing,b=[];d.scope.forEach(function(a){a&&-1==c.scope.indexOf(a.id)&&b.push(a)});b.forEach(function(a){a=d.scope.indexOf(a);d.scope.splice(a,1)});c.scope.forEach(function(b){a.entryForID(d.scope,b)||d.scope.push(b)});this.buttonSave.busy();d.save().fail(function(b){a.form.errorHandle(b)||console.error("... unknown error! :",b)}).then(function(){a.buttonSave.ready();a.dom.modalEditor.modal("hide")})}}else this.dom.modalEditor.modal("hide"),
console.warn("??? how did we show this modal with no currentlyEditing permission being set?")},".rbac-permission-selectOption change":function(){this.validateApply()},".rbac-permission-apply click":function(){var a=this,c=this.Filter.values();if(c.length){var d=!1;"enable"==this.dom.selectOption.val()&&(d=!0);this.dom.buttonApply.busy();var b=[];c.forEach(function(c){c=a.entryForID(a.data.permissions,c.id);c.attr("enabled",d);b.push(c.save())});$.when.apply($,b).fail(function(a){console.error("*** error saving permission:",
a)}).then(function(){a.dom.buttonApply.ready();a.Filter.checkEntries([]);a.dom.selectOption.val("choose");a.validateApply()})}},".rbac-permission-users click":function(){this.element.trigger(this.options.eventDone)}})});steal.executed("opstools/RBAC/controllers/UserPermissionList.js");
steal("appdev","opstools/RBAC/models/PermissionRole.js",function(){AD.Control.extend("opstools.RBAC.Roles",{init:function(a,c){this.options=c=AD.defaults({eventRoleAdd:"role.add.clicked",eventRoleEdit:"role.edit.clicked",eventRoleDeleted:"role.deleted"},c);this._super(a,c);this.data={};this.data.roles=[];this.initDOM()},initDOM:function(){var a=this;this.Filter=new (AD.Control.get("OpsPortal.FilteredBootstrapTable"))(this.element,{tagFilter:".autocomplete-filter",tagBootstrapTable:"#rolelist",scrollToSelect:!0,
cssSelected:"orange",tableOptions:{pagination:!0,columns:[{title:"Role Name",field:"role_label",sortable:!0},{title:"Role Description",field:"role_description"},{title:"Action",formatter:".actions"}]},rowClicked:function(a){a&&console.log("... clicked role:",a)},rowDblClicked:function(c){c=a.element.find('.rbac-role-list-edit[role-id="'+c.id+'"]');c.length&&c.click()},termSelected:function(a){a&&console.log("... search selected role:",a)},dataToTerm:function(a){return a?a.role_label:""}})},iconBusy:function(a){a.addClass(" fa-spinner fa-pulse")},
iconReady:function(a){a.removeClass(" fa-spinner fa-pulse")},listRoleNames:function(){for(var a=[],c=this.data.roles.length-1;0<=c;c--)a.push(this.data.roles[c].role_label);return a},loadRoles:function(a){this.data.roles=a;this.refresh()},refresh:function(){this.Filter.load(this.data.roles);this.Filter.ready()},resize:function(){this.Filter.resetView()},roleForID:function(a){var c=null;this.data.roles.forEach(function(d){d.id==a&&(c=d)});return c},show:function(){this._super();this.refresh();this.Filter.resetView()},
".rbac-role-addButton click":function(a,c){this.element.trigger(this.options.eventRoleAdd);c.preventDefault()},".rbac-role-list-edit click":function(a,c){this.element.trigger(this.options.eventRoleEdit,this.roleForID(a.attr("role-id")));c.preventDefault()},".rbac-role-list-clone click":function(a){var c=this;this.iconBusy(a);var d=this.roleForID(a.attr("role-id")),b=this.data.roles.indexOf(d),e=this.listRoleNames(),f=AD.Model.clone(d);for(f.role_label+=" (cloned) ";-1!=e.indexOf(f.role_label);)f.role_label+=
".";console.log("... cloned role data: ",f);var g=AD.Model.get("opstools.RBAC.PermissionRole");g.create(f).fail(function(b){console.error("... error creating cloned entry:",b);c.iconReady(a)}).then(function(e){g.findOne({id:e.id}).fail(function(b){console.error("... error looking up full cloned entry:",b);c.iconReady(a)}).then(function(e){console.log("... new cloned Role:",e);e.translate();c.data.roles.splice(b,1,d,e);c.Filter.selectRow(e);c.iconReady(a)})})},".rbac-role-list-delete click":function(a,
c){var d=this,b=this.entryForID(this.data.roles,a.attr("role-id")),e=this.data.roles.indexOf(b);this.iconBusy(a);AD.op.Dialog.Confirm({fnYes:function(){b.destroy().fail(function(b){console.error("*** error deleting role:",b);d.iconReady(a)}).then(function(){d.data.roles.splice(e,1);d.iconReady(a);d.element.trigger(d.options.eventRoleDeleted,b)})},fnNo:function(){d.iconReady(a)}});c.preventDefault()},".ad-item-add click":function(a,c){c.preventDefault()}})});steal.executed("opstools/RBAC/controllers/Roles.js");
steal("appdev",function(){AD.Control.extend("opstools.RBAC.RoleAdd",{init:function(a,c){this.options=c=AD.defaults({eventCancel:"cancel",eventRoleAdded:"role.added"},c);this._super(a,c);this.data={};this.data.actions=[];this.dataSource=this.options.dataSource;this.initDOM()},initDOM:function(){this.Filter=new (AD.Control.get("OpsPortal.FilteredBootstrapTable"))(this.element,{tagFilter:".rbac-role-add-actionsearch",tagBootstrapTable:"#permissionlist",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,
columns:[{title:"",checkbox:!0},{title:"Key",field:"action_key"},{title:"Description",field:"action_description"},{title:"Action",formatter:".action"}]},rowClicked:function(a){a&&console.log("... clicked action:",a)},rowDblClicked:function(a){a&&console.log("... dbl.clicked action:",a)},termSelected:function(a){a&&console.log("... search selected action:",a)},dataToTerm:function(a){return a?a.action_key:""}});this.form=new AD.op.Form(this.element);this.form.bind(AD.Model.get("opstools.RBAC.PermissionRole"));
this.form.addField("actions","array",{});this.form.attach();this.buttonSave=new AD.op.ButtonBusy(this.element.find(".rbac-roles-addrole-create"))},loadActions:function(a){this.data.actions=a;this.Filter.load(a)},show:function(){this._super();this.form.clear(!0);this.Filter.resetView();this.buttonSave.ready();this.Filter.checkEntries([])},".rbac-roles-addrole-cancel click":function(a,c){this.element.trigger(this.options.eventCancel);c.preventDefault()},".rbac-roles-addrole-create click":function(a,
c){var d=this;if(this.form.isValid()){this.buttonSave.busy();var b=this.form.values(),e=this.Filter.values(),f={};f.translations=[{language_code:AD.lang.currentLanguage,role_label:b.role_label,role_description:b.role_description}];f.actions=[];e.forEach(function(a){f.actions.push(a.id)});var g=AD.Model.get("opstools.RBAC.PermissionRole");g.create(f).fail(function(a){d.form.errorHandle(a);d.buttonSave.ready()}).then(function(a){g.findOne({id:a.id}).then(function(a){a.translate();console.log("*** new Role:",
a);d.buttonSave.ready();d.element.trigger(d.options.eventRoleAdded,a)})})}c.preventDefault()}})});steal.executed("opstools/RBAC/controllers/RoleAdd.js");
steal("appdev",function(){AD.Control.extend("opstools.RBAC.RoleEdit",{init:function(a,c){this.options=c=AD.defaults({eventDone:"no.done.given",eventCancel:"no.cancel.given"},c);this._super(a,c);this.data={};this.data.role=null;this.initDOM()},initDOM:function(){var a=this;this.Filter=new (AD.Control.get("OpsPortal.FilteredBootstrapTable"))(this.element,{tagFilter:".rbac-role-edit-actionsearch",tagBootstrapTable:"#roleEditPermissionlist",scrollToSelect:!0,cssSelected:"orange",tableOptions:{pagination:!0,
columns:[{title:"",checkbox:!0},{title:"Key",field:"action_key"},{title:"Description",field:"action_description","class":"rbac-role-edit-action-description"},{title:"Action",formatter:".action"}]},rowDblClicked:function(c){c=a.element.find('.rbac-roles-editrole-action-edit[assignment-id="'+c.id+'"]');c.length&&c.click()},dataToTerm:function(a){return a?a.action_key:""}});this.form=new AD.op.Form(this.element);this.form.bind(AD.Model.get("opstools.RBAC.PermissionRole"));this.form.attach();this.buttonSave=
new AD.op.ButtonBusy(this.element.find(".rbac-roles-editrole-save"))},actionForID:function(a){var c=null;this.data.actions.forEach(function(d){d.id==a&&(c=d)});return c},iconBusy:function(a){a.addClass(" fa-spinner fa-pulse")},iconReady:function(a){a.removeClass(" fa-spinner fa-pulse")},loadActions:function(a){this.data.actions=a;this.Filter.load(a)},loadRole:function(a){this.data.role=a;this.form.values(a.attr());this.Filter.checkEntries(a.actions)},show:function(){this._super();this.Filter.resetView()},
".rbac-roles-editrole-action-edit click":function(a,c){var d=a.closest("tr");d.find(".rbac-role-edit-action-description").attr("contentEditable",!0);d.find(".toEdit").hide();d.find(".toSave").show().removeClass("hidden");c.preventDefault()},".rbac-roles-editrole-action-cancel click":function(a,c){var d=this.actionForID(parseInt(a.attr("assignment-id"))),b=a.closest("tr"),e=b.find(".rbac-role-edit-action-description");e.attr("contentEditable",!1);e.html(d.attr("action_description"));b.find(".toSave").hide();
b.find(".toEdit").show();c.preventDefault()},".rbac-roles-editrole-action-save click":function(a){var c=this,d=this.actionForID(parseInt(a.attr("assignment-id")));this.iconBusy(a);var b=a.closest("tr"),e=b.find(".rbac-role-edit-action-description");d.attr("action_description",e.html());d.save().fail(function(){c.iconReady(a)}).then(function(){e.attr("contentEditable",!1);c.iconReady(a);b.find(".toSave").hide();b.find(".toEdit").show()})},".rbac-roles-editrole-cancel click":function(a,c){this.element.trigger(this.options.eventCancel);
c.preventDefault()},".rbac-roles-editrole-save click":function(a,c){var d=this;if(this.form.isValid()){this.buttonSave.busy();var b=this.form.values(),e=this.Filter.values(),f=this.data.role;f.attr(b);f.attr("actions",e);f.save().fail(function(a){d.form.errorHandle(a)}).then(function(a){console.log("... edit role: newRole:",a);d.buttonSave.ready();d.element.trigger(d.options.eventDone,a)})}c.preventDefault()}})});steal.executed("opstools/RBAC/controllers/RoleEdit.js");
steal("can/view","can/view/ejs",function(a){return a.view.preloadStringRenderer("opstools_RBAC_views_RBAC_RBAC_ejs",a.EJS(function(c,d){with(d)with(c){var b=[];b.push('\n\t\t\t\t<\!--LEFT SIDE BAR--\>\n                <div id="opsportal-left-bar">\n                  <div id="leftbar-container">\n                    <div id="opsportal-left-title">\n                          <h4>Permission</h4>\n                    </div>\n                    <div id="menu_wrapper">\n                      <ul class="art-hmenu">  \n                        <li><a href="" class="rbac-menu" portal="users" rbac-show="rbac-users" ><i class="fa fa-users" ></i> Users</a></li>\n                        <li><a href="" class="rbac-menu" portal="roles" rbac-show="rbac-roles"><i class="fa fa-graduation-cap"></i> Roles</a></li>\n                        <li><a href="" class="rbac-menu" portal="scopes" rbac-show="rbac-scopes"><i class="fa fa-sitemap"></i>Scopes</a></li>   \n                      </ul>\n                    </div>                    \n                  </div>\n                </div>\n                <\!--/LEFT SIDE BAR--\>\n                <div id="opsportal-content-area">\n                  <div id="opsportal-widgets-area">\n                      <\!--  ================= Users ================  --\>\n                      <div class="rbac-display rbac-users" >\n                        <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                              <li><a href="#" class="disabled">Users</a></li>\n                            </ul>\n                            <div class="opsportal-panel-heading container">\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-left">\n                                    <\!--Search and Filter--\>\n                                    <div class="">\n                                      <\!--Filter--\>\n                                      <\!--\n                                      <div class="col-xs-6 col-sm-6 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="">\n                                              <select class="form-control">\n                                                  <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                                  <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                                  <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                                  <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                                  <option value="five"',
a.view.pending({scope:this}),">");b.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                  \t  --\>\n                                      <\!--/Filter--\>\n                                      <\!--Search--\>\n                                      <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                         \n                                              <div class="input-group">\n                                                <input type="text" class="form-control autocomplete-filter" placeholder="Search for User">\n                                                <span class="input-group-addon"><i class="fa fa-search"></i></span>\n                                             </div> \n                               \n                                      </div>\n                                      <\!--/Search--\>\n                                    </div>\n                                    <\!--/Search and Filter--\>  \n                                </div>\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-right">\n                                </div>          \n                            </div>\n                            <div class="col-md-12">  \n                              <table id="userList" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                  <thead>\n                                    <tr class="tbhead">\n                                      <th data-field="username" class="align-center"># Assignment</th>\n                                      <th data-field="username" >User ID</th>\n                                      <th class="align-center">Option</th>\n                                      <th class="align-center">Status</th>\n                                    </tr>\n                                  </thead> \n                                  <tbody> \n                                      <tr class="template">\n                                        <td class="numAssignments" >[[= row.numAssignments() ]]</td>\n                                        <td><a href="" rbac-show="rbac-permissionlist" ');
b.push(a.view.txt(2,"a","style",this,function(){var a=[];a.push('style="');a.push('display:block;"');return a.join("")}));b.push('>[[= user.attr(\'username\') ]]</a></td>\n                                        <td class="options" >\n                                          <span data-toggle="tooltip" data-placement="left" title="Quick View"><a href="" class="rbac-user-perm-quickview fa fa-eye fa-2 offset-9" data-toggle="modal" data-target=".view-assignment"  user-id="[[= row.id ]]" ></a></span>\n                                          <span data-toggle="tooltip" data-placement="left" title="Add Assignment to this user"><a href="" rbac-show="rbac-addassignments" class="fa fa-plus fa-2 rbac-user-perm-add" user-id="[[= row.id ]]" ></a></span>\n                                        </td>\n                                        <td class="status" ><\!-- \n                                            var user = row;\n                                            var status = \'stats-red\';\n                                            if (user.permission.length > 0) {\n                                              status = \'stats-green\';\n                                            }\n                                          --\>\n                                          <div class="img-thumbnail [[= status ]]"></div></td>\n                                      </tr>\n                                      <tr class="mockup" >\n                                        <td>2</td>\n                                        <td><a href="#permission-list" rbac-show="rbac-permissionlist" ');
b.push(a.view.txt(2,"a","style",this,function(){var a=[];a.push('style="');a.push('display:block;"');return a.join("")}));b.push('>Rammel Olasiman</a></td>\n                                        <td>\n                                          <span data-toggle="tooltip" data-placement="left" title="Quick View"><a href="" class="fa fa-eye fa-2 offset-9" data-toggle="modal" data-target=".view-assignment"></a></span>\n                                          <span data-toggle="tooltip" data-placement="left" title="Add Assignment to this user"><a href="#add-assignment" rbac-show="rbac-addassignments" class="fa fa-plus fa-2"></a></span>\n                                        </td>\n                                        <td><div class="img-thumbnail stats-green"></div></td>\n                                      </tr>\n                                      <tr class="mockup" >\n                                        <td>3</td>\n                                        <td><a href="#permission-list" rbac-show="rbac-permissionlist" ');
b.push(a.view.txt(2,"a","style",this,function(){var a=[];a.push('style="');a.push('display:block;"');return a.join("")}));b.push('>Lucci Baldez</a></td>\n                                        <td>\n                                          <span data-toggle="tooltip" data-placement="left" title="Quick View"><a href="" class="fa fa-eye fa-2 offset-9" data-toggle="modal" data-target=".view-assignment"></a></span>\n                                          <span data-toggle="tooltip" data-placement="left" title="Add Assignment to this user"><a href="#add-assignment" rbac-show="rbac-addassignments" class="fa fa-plus fa-2"></a></span>\n                                        </td>\n                                        <td><div class="img-thumbnail stats-green"></div></td>\n                                      </tr>\n                                      </tbody>\n                              </table>\n                            </div>\n                             <\!--Pagination--\>\n                             <\!-- \n                            <div class="col-md-12 padtop10">\n                              <div class="row">\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                    <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                      <span class="caret"></span>\n                                    </button>\n                                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                              <div class="row">\n                                <div class="col-md-12 align-center off-botm20 off-top10">\n                                    <ul class="pagination nav" ');
b.push(a.view.txt(2,"ul","style",this,function(){var a=[];a.push('style="');a.push('vertical-align:bottom"');return a.join("")}));b.push('>\n                                      <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                      <li><a href="#">1</a></li>\n                                      <li><a href="#">2</a></li>\n                                      <li><a href="#">3</a></li>\n                                      <li><a href="#">4</a></li>\n                                      <li><a href="#">5</a></li>\n                                      <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                            </div>\n                            --\>\n                            <\!--/Pagination--\>                         \n                        </div>\n                        <\!--Modal for view assignment in user--\>\n                        <div class="modalcenter modal fade view-assignment" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                          <div class="modal-dialog modal-lg">\n                            <div class="modal-content">\n\t                            <table class="rbac-user-table-assignments table table-bordered table-hover box-shadow">\n\t                                <thead>\n\t                                  <tr class="tbhead">\n\t                                    <th>Role</th>\n\t                                    <th>Scope</a></th>\n\t                                    <th>Status</th>\n\t                                  </tr>\n\t                                </thead>\n\t                                <tbody>\n                                    <\!-- if (list.length > 0) {\n                                      list.forEach(function(perm){ \n                                        var currRole = "no role found";\n                                        var listScopeIDs = [];\n                                        listRoles.forEach(function(role){\n                                            if ((role.id == perm.role)\n                                                || (role.id == perm.role.id)) {\n                                                currRole = role.role_label;\n                                            }\n                                        })\n                                        // now use the proper permission entry to gather all the scopes.\n                                        listPermissions.forEach(function(p){\n                                            if (p.id == perm.id) {\n                                                p.scope.forEach(function(scope){\n                                                    listScopeIDs.push(scope.id);\n                                                })\n                                            }\n                                        })\n                                        var listScopeNames = [];\n                                        listScopes.forEach(function(scope){\n                                            if (listScopeIDs.indexOf(scope.id) != -1) {\n                                                listScopeNames.push(scope.label)\n                                            }\n                                        })\n                                    --\>\n\t\t                                <tr>\n\t\t                                  <td>[[= currRole ]]</td>\n\t\t                                  <td>[[= listScopeNames.join(\' | \') ]]</td>\n\t\t                                  <td>Enabled</td>\n\t\t                                </tr>\n                                    <\!--  })\n                                    } else {\n                                    --\>\n                                    <tr>\n                                      <td colspan="3"> No Assignments </td>\n                                    </tr>\n                                    <\!-- }  --\>\n\t\t                                <tr class="mockup" >\n\t\t                                  <td>System Admin</td>\n\t\t                                  <td>I.T Dept. | M.I.Ss Dept.</td>\n\t\t                                  <td>Disabled</td>\n\t\t                                </tr>\n\t                                </tbody>\n\t                            </table>\n                              \t<div class="modal-footer">\n\t                              <button type="button" class="btn" data-dismiss="modal">Close</button>\n\t                            </div>  \n                            </div>\n                          \n                          </div>\n                        </div>    \n                        <\!--/Modal for view assignment in user--\>\n                      </div>  \n                      <\!--  ================= /End Users ================  --\>\n                      <\!--  ================= Add Assignments ================  --\>\n                      <div class="rbac-display rbac-addassignments"  ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('display:none;"');return a.join("")}));b.push('>\n                          <h5 id="user" class="align-left"><i class="fa fa-user offset-5 user-icon"></i><span class="rbac-addassignments-userID">Linel Sedillo</span></h5>\n                          <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                                <li><a href="#" rbac-show="rbac-users">Users</a></li>\n                                <li><a href="#" rbac-show="rbac-permissionlist">Permission List</a></li>\n                                <li><a href="#" class="disabled">Add Assignment</a></li>\n                            </ul>                                                      \n                            <div class="row off-botm10 padtop20">\n                              <div class="col-md-12 rbac-addassignments-form">  \n                                    <\!--Role--\>\n                                    <div class="col-sm-6 col-md-6">\n                                      <h3>Role</h3>\n                                      <p>Select Role from the list</p>\n                                      <div class="form-group">\n                                        <select class="rslist rbac-addassignments-roleList" name="role" multiple="multiple">\n                                          <\!-- roles.forEach(function(role){ --\> \n                                          <option value="[[= role.id ]]"',
a.view.pending({scope:this}),">");b.push('[[= role.role_label ]]</option>\n                                          <\!-- }) --\>\n                                          <option class="mockup" value="2"',a.view.pending({scope:this}),">");b.push('System Admin</option>\n                                          <option class="mockup" value="3"',a.view.pending({scope:this}),">");b.push('Crisis Manager</option>\n                                          <option class="mockup" value="3"',a.view.pending({scope:this}),
">");b.push('Marketing Manager</option>\n                                          <option class="mockup" value="3"',a.view.pending({scope:this}),">");b.push('Crisis Manager</option>\n                                          <option class="mockup" value="3"',a.view.pending({scope:this}),">");b.push('Sales Manager</option>\n                                          <option class="mockup" value="3"',a.view.pending({scope:this}),">");b.push('Lorem Manager</option>\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <\!--Scope--\>\n                                    <div class="col-sm-6 col-md-6 form-group">\n                                      <h3>Scope</h3>\n                                      <p>To Edit Scope to this user, select Scope from the list</p>\n                                      <div class="form-group rbac-addassignments-scopeList">\n                                        <\!-- scopes.forEach(function(scope){ --\>\n                                        <div class="checkbox">\n                                          <label><input type="checkbox" name="scope" value="[[= scope.id ]]"> [[= scope.attr(\'label\') ]]</input></label>\n                                        </div>\n                                        <\!-- }) --\>\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region NE</span></input><br class="mockup">\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region SR</span></input><br class="mockup">\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region 10</span></input><br class="mockup">\n                                        <input class="mockup" type="checkbox"><span class="mockup">Region 10</span></input><br class="mockup">\n                                      </div>        \n                                    </div>\n                              </div>      \n                            </div> \n                            <div ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('clear:both;"');return a.join("")}));b.push('></div>\n                            \n                            <div class="col-sm-4 col-md-4 pull-right">\n                                  <div class="input-group-btn">\n                                      <button class="off-botm20 btn float-right btn-primary rbac-addassignments-save" ><i class="fa fa-save offset-5"></i>Save</button>\n                                      <button class="off-botm20 btn btn-default float-right rbac-addassignments-cancel" ><i class="fa fa-save offset-5"></i>Cancel</button>\n                                  </div>    \n                            </div>\n                          </div>\n                      </div>\n                      <\!--  ================= /End Add Assignments ================  --\>\n                      <\!--  ================= Permission List ================  --\>\n                      <div class="rbac-display rbac-permissionlist"  ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('display:none;"');return a.join("")}));b.push('>\n                        <h5 id="user" class="align-left"><i class="fa fa-user offset-5 user-icon"></i><span class="rbac-permissionlist-username">userName here</span></h5>\n                        <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                                <li><a class="rbac-permission-users" rbac-show="rbac-users">Users</a></li>\n                                <li><a class="disabled">Permission List</a></li>\n                            </ul>                          \n                            <div class="opsportal-panel-heading container">\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-left">\n                                    <\!--Container of Search and Filter--\>\n                                    <div class="">\n                                      <\!--Filter--\>\n                                      <\!--\n                                      <div class="col-xs-12 col-sm-6 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="">\n                                              <select class="form-control">\n                                                  <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                                  <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                                  <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                                  <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                                  <option value="five"',
a.view.pending({scope:this}),">");b.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                      --\>\n                                      <\!--/Filter--\>\n                                      <\!--Search--\>\n                                      <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                                          <div class="form-group">\n                                              <div class="input-group">\n                                                <input type="text" class="form-control autocomplete-filter typeahead" placeholder="Search for role">\n                                                <span class="input-group-addon"><i class="fa fa-search"></i></span>\n                                             </div> \n                                          </div>\n                                      </div>\n                                      <\!--/Search--\>\n                                    </div>\n                                    <\!--/Container of Search and Filter--\>\n                                </div>\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-right">\n                                    <\!--Add Button--\>\n                                    <div class="col-xs-12 col-sm-3 col-md-2 addbtn">\n                                          <div class="input-group-btn">\n                                            <a class="col-xs-12 col-sm-12 btn btn-primary  rbac-permissionlist-add" ><i class="fa fa-plus"></i> Add</a>\n                                          </div>\n                                    </div> \n                                    <\!--/Add Button--\>\n                                </div>          \n                            </div>\n                            <div class="col-md-12">\n                              <table id="permissionlist" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                  <thead>\n                                    <tr class="tbhead">\n                                      <th></th>\n                                      <th>Role</th>\n                                      <th>Scope</td>\n                                      <th class="align-center">Action</th>\n                                      <th class="align-center">Status</th>\n                                    </tr>\n                                  </thead>\n                   \n                                  <tbody> \n                                    <tr>\n                                      <td><input type="checkbox"></td>\n                                      <td>HR Admin</td>\n                                      <td>Region 10 | Marketing Dept</td>\n                                      <td class="actions">\n                                        <span data-toggle="tooltip" data-placement="left" title="Edit"><a class="fa fa-edit fa-2 offset-9 rbac-permissionlist-edit" perm-id="[[= row.id ]]" data-toggle="modal" data-target=".rbac-permission-edit" ></a></span>\n                                        <span data-toggle="tooltip" data-placement="left" title="Delete"><a perm-id="[[= row.id ]]" class="fa fa-close fa-2 rbac-permissionlist-delete"></a></span>\n                                      </td>\n                                      <td class="status"><\!-- \n                                        var status = \'enabled\';\n                                        if (!row.enabled) {\n                                          status = \'disabled\';\n                                        }  \n                                      --\> [[= status ]] </td>\n                                    </tr>\n                                    <tr>\n                                      <td><input type="checkbox"></td>\n                                      <td>System Admin</td>\n                                      <td>I.T Dept | M.I.S Dept</td>\n                                      <td>\n                                        <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="#edit-assignment" class="fa fa-edit fa-2 offset-9"  data-toggle="modal" data-target=".add-assignment"></a></span>\n                                        <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                      </td>\n                                      <td>Disabled</td>\n                                    </tr>\n                                  </tbody>\n                              </table>\n                            </div>\n                             <\!--Pagination--\>\n                             <\!--\n                            <div class="col-md-12 padtop10">\n                              <div class="row">\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                    <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                      <span class="caret"></span>\n                                    </button>\n                                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                        <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                              <div class="row">\n                                <div class="col-md-12 align-center off-botm20 off-top10">\n                                    <ul class="pagination nav" ');
b.push(a.view.txt(2,"ul","style",this,function(){var a=[];a.push('style="');a.push('vertical-align:bottom"');return a.join("")}));b.push('>\n                                      <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                      <li><a href="#">1</a></li>\n                                      <li><a href="#">2</a></li>\n                                      <li><a href="#">3</a></li>\n                                      <li><a href="#">4</a></li>\n                                      <li><a href="#">5</a></li>\n                                      <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                    </ul>\n                                </div>\n                              </div>\n                            </div>\n                            --\>\n                            <\!--/Pagination--\>\n                            <div class="opsportal-divider"></div>\n                            <\!--Enable and Disable Action--\>\n                            <div class="col-md-12 off-botm10">\n                                <div class="col-sm-7 col-md-7 pull-left">\n                                    <form class="navbar-form">\n                                      <div class="input-group col-md-12">\n                                      <div class="row">  \n                                        <div class="col-xs-6 col-md-4 col-sm-6">\n                                        <select class="form-control rbac-permission-selectOption">\n                                          <option value="choose"',
a.view.pending({scope:this}),">");b.push('-- Enable or Disable --</option>\n                                          <option value="enable"',a.view.pending({scope:this}),">");b.push('Enable</option>\n                                          <option value="disable"',a.view.pending({scope:this}),">");b.push('Disable</option>\n                                        </select>\n                                        </div>\n                                        <div class="col-xs-6 col-sm-6 col-md-6">\n                                            <div class="input-group-btn">\n                                              <button class="btn btn-primary rbac-permission-apply" ><i class="fa fa-edit"></i>Apply</button>\n                                            </div>\n                                        </div>\n                                      </div>\n                                      </div>\n                                    </form>\n                                \n                                    </div>\n                            </div>                            \n                            <\!--/Enable and Disable Action--\>\n                        </div> \n                        <\!--Modal Edit for Assignment--\>\n                        <div class="modal fade rbac-permission-edit" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                          <div class="modal-dialog modal-lg">\n                            <div class="modal-content">\n                              <div class="row">\n                                <\!--Scope--\>\n                                <div class="col-sm-12 col-md-12 off-botm20">\n                                <h3>Scope</h3>\n                                <p>Select Scope from the list</p>\n                                <div class="form-group rbac-permissionlist-scopes">\n                                  <\!-- scopes.forEach(function(scope) { --\> \n                                  <div class="checkbox">\n                                    <label><input type="checkbox" name="scope" value="[[= scope.id ]]"> [[= scope.attr(\'label\') ]]</input></label>\n                                  </div>\n                                  <\!-- }) --\>\n                                  <span class="mockup"><input type="checkbox" checked>Region NE</input><br></span>\n                                  <span class="mockup"><input type="checkbox" checked>Region SR</input><br></span>\n                                  <span class="mockup"><input type="checkbox" checked>Region 10</input><br></span>\n                                  <span class="mockup"><input type="checkbox" checked>Region 11</input><br></span>\n                                  \n                                </div>        \n                              </div>\n                              \n                              <div class="col-sm-4 col-md-4 pull-right">\n                                <div class="input-group-btn">\n                                  <button class="off-botm20 btn float-right btn-primary rbac-permission-save" ><i class="fa fa-save offset-5"></i>Save</button>\n                                  <button class="off-botm20 btn btn-default float-right rbac-permission-cancel" ><i class="fa fa-save offset-5"></i>Cancel</button>\n                                </div>\n                              </div>\n                            </div>\n                            </div>  \n                          </div>\n                        </div>    \n                        <\!--/Modal Add/Edit for Assignment--\>            \n                      </div>\n                      \n                      <\!--  ================= /End Permission List ================  --\>\n                      <\!--  ================= Roles  ================  --\>\n                      <div class="rbac-display rbac-roles" ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('display:none"');return a.join("")}));b.push('>\n                          <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                              <li><a href="#" class="disabled">Roles</a></li>\n                            </ul>  \n                            <div class="opsportal-panel-heading container">                            \n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-left">\n                                    <\!--Container of Search and Filter--\>\n                                    <div class="">\n                                      <\!--Filter--\>\n                                      <\!-- \n                                      <div class="col-xs-6 col-sm-6 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="offset-10">\n                                              <select class="form-control">\n                                                  <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                                  <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                                  <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                                  <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                                  <option value="five"',
a.view.pending({scope:this}),">");b.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                      --\>\n                                      <\!--/Filter--\>\n                                      <\!--Search--\>\n                                      <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                               \n                                            <div class="input-group">\n                                                <input type="text" class="form-control autocomplete-filter" placeholder="Search" name="q">\n                                                <div class="input-group-btn">\n                                                    <button class="btn" type="submit"><i class="fa fa-search"></i></button>\n                                                </div>\n                                            </div>\n                                \n                                      </div>\n                                      <\!--/Search--\>\n                                    </div>\n                                    <\!--/Container of Search and Filter--\>\n                                </div>\n                                <div class="col-xs-12 col-sm-12 col-md-6 pull-right">\n                                    <\!--Add Button--\>\n                                    <div class="col-xs-12 col-sm-3 col-md-2 addbtn">\n                                          <div class="input-group-btn">\n                                            <a class="col-xs-12 col-sm-12 btn rbac-role-addButton" rbac-show="rbac-role-addroles" href=""><i class="fa fa-plus"></i> Add</a>\n                                          </div>\n                                    </div> \n                                    <\!--/Add Button--\>\n                                </div>          \n                            </div>\n                                 \n                            <div class="col-md-12">                                \n                              <table id="rolelist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                  <thead>\n                                    <tr class="tbhead">\n                                      <th>Role Name</th>\n                                      <th>Role Description</th>\n                                      <th class="align-center">Action</th> \n                                    </tr>\n                                  </thead>                              \n                                  <tbody>  \n                                  <tr>\n                                    <td>HR Admin</td>\n                                    <td>Edit Information | Add Employee | Approve Edit Info</td>\n                                    <td class="actions" >\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" rbac-show="rbac-editroles" class="fa fa-edit fa-2 offset-9 rbac-role-list-edit" role-id="[[= row.id ]]"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9 rbac-role-list-clone" role-id="[[= row.id ]]"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2 rbac-role-list-delete" role-id="[[= row.id ]]"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>System Admin</td>\n                                    <td>Manage Servers | Manage Database</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="#edit-roles" rbac-show="rbac-editroles" class="fa fa-edit fa-2 offset-9" ></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>Crisis Manager</td>\n                                    <td>View Accident Reports | View Statistic Report</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="#edit-roles" rbac-show="rbac-editroles" class="fa fa-edit fa-2 offset-9" ></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>    \n                                  </tbody>\n                              </table>\n                            </div>     \n                          \n                            <\!--Pagination--\>   \n                            <\!--\n                              <div class="col-md-12 padtop10">\n                                <div class="row">\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                      <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                        <span class="caret"></span>\n                                      </button>\n                                      <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                                <div class="row">\n                                  <div class="col-md-12 align-center off-botm20 off-top10">\n                                      <ul class="pagination nav" ');
b.push(a.view.txt(2,"ul","style",this,function(){var a=[];a.push('style="');a.push('vertical-align:bottom"');return a.join("")}));b.push('>\n                                        <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                        <li><a href="#">1</a></li>\n                                        <li><a href="#">2</a></li>\n                                        <li><a href="#">3</a></li>\n                                        <li><a href="#">4</a></li>\n                                        <li><a href="#">5</a></li>\n                                        <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                              </div>\n                            --\>\n                            <\!--/Pagination--\>  \n                          </div>\n                      </div>\n                      <\!--  ================= /END Roles  ================  --\>\n                      \n                      <\!--  ================= /Add Roles  ================  --\>\n                      <div class="rbac-display rbac-role-addroles" ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('display:none"');return a.join("")}));b.push('>\n                        <div class="opsportal-panel container">\n                        <ul id="crumbs">\n                            <li><a href="#" rbac-show="rbac-roles">Roles</a></li>\n                            <li><a href="#" class="disabled">Add Role</a></li>\n                        </ul>\n                          <div class="col-md-12 padtop20 off-top10">\n                              <form>\n                                <div class="form-group">\n                                <label for="role_label">Role Name</label>\n                                <input type="text" class="form-control" name="role_label" placeholder="Enter Role Name">\n                                </div>\n                                <div class="form-group">\n                                <label for="role_description">Description</label>\n                                <textarea class="form-control" rows="3" name="role_description"',
a.view.pending({scope:this}),">");b.push('</textarea>\n                                </div>\n                              </form> \n                              <\!--Tab--\>  \n                              <div class="clear"></div> \n                              <ul class="nav nav-tabs" role="tablist" id="myTab">\n                                <li role="presentation" class="active">\n                                  <a data-target="#ap" aria-controls="home" role="tab" data-toggle="tab">Action Permission</a>\n                                </li>\n                                <li role="presentation">\n                                  <a data-target="#dfp" aria-controls="profile" role="tab" data-toggle="tab">Data Field Permission</a>\n                                </li>\n                              </ul>\n                              <div class="tab-content">\n                                <\!--Action Permission--\>\n                                <div role="tabpanel" class="tab-pane active" id="ap">\n                                  <\!-- \n                                  <div class="col-sm-6 col-md-6 pull-right">\n                                    <form class="navbar-form" role="search" ');
b.push(a.view.txt(2,"form","style",this,function(){var a=[];a.push('style="');a.push('text-align:right"');return a.join("")}));b.push('>\n                                      <div class="input-group col-md-6">\n                                      <select class="form-control">\n                                        <option value="one"',a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                        <option value="two"',a.view.pending({scope:this}),">");
b.push('Two</option>\n                                        <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                        <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                        <option value="five"',a.view.pending({scope:this}),">");b.push('Five</option>\n                                      </select>\n                                      </div>\n                                    </form>    \n                                  </div>\n                                  --\>\n                                  <\!--Container of Search and Filter--\>\n                                  <div class="">\n                                    <\!--Search--\>\n                                    <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                                          <div class="input-group">\n                                              <input type="text" class="form-control autocomplete-filter rbac-role-add-actionsearch" placeholder="Search" name="q">\n                                              <div class="input-group-btn">\n                                                  <button class="btn" ><i class="fa fa-search"></i></button>\n                                              </div>\n                                          </div>\n                                    </div>\n                                    <\!--/Search--\>\n                                  </div>\n                                  <\!--/Container of Search and Filter--\>\n                                  <div class="clear"></div>    \n                                  <table id="permissionlist"  data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                      <thead>\n                                      <tr class="tbhead">\n                                        <th></th>\n                                        <th>Description</th>\n                                        <th>Scope</td>\n                                        <th class="align-center">Action</th>\n                                      </tr>\n                                      </thead>                                    \n                                      <tbody>\n                                      <tr>\n                                        <td><input type="checkbox"></td>\n                                        <td>HR Admin</td>\n                                        <td>Region 10 | Marketing Dept</td>\n                                        <td class="action" ><span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2"></a></span></td>\n                                      </tr>\n                                      <tr>\n                                        <td><input type="checkbox"></td>\n                                        <td>System Admin</td>\n                                        <td>I.T Dept | M.I.S Dept</td>\n                                        <td><span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2"></a></span></td>\n                                      </tr>\n                                      </tbody>\n                                  </table>  \n                                </div>\n                                <\!--/Action Permission--\>\n                                <\!--Data Field Permission--\>\n                                <div role="tabpanel" class="tab-pane" id="dfp">\n                                  <\!--Data Field Permission--\>\n                                  <div role="tabpanel" class="tab-pane" id="dfp">\n                                    <div class="container-fluid">\n                                    <div class="row">\n                                      <\!--LEFT COLUMN--\>\n                                      <div class="col-md-5">\n                                      <div id="dfp-filter" class="col-sm-5 pull-left">\n                                        <form role="search" ');
b.push(a.view.txt(2,"form","style",this,function(){var a=[];a.push('style="');a.push('text-align:right"');return a.join("")}));b.push('>\n                                          <div class="input-group">\n                                            <select class="form-control">\n                                              <option value="one"',a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                              <option value="two"',a.view.pending({scope:this}),
">");b.push('Two</option>\n                                              <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                              <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                              <option value="five"',a.view.pending({scope:this}),">");b.push('Five</option>\n                                            </select>\n                                          </div>\n                                        </form>    \n                                      </div>      \n                                      <select class="rslist" name="availableRoles" multiple="multiple">\n                                        <option value="1"',
a.view.pending({scope:this}),">");b.push('HR Admin</option>\n                                        <option value="2"',a.view.pending({scope:this}),">");b.push('System Admin</option>\n                                        <option value="3"',a.view.pending({scope:this}),">");b.push('Crisis Manager</option>\n                                        <option value="3"',a.view.pending({scope:this}),">");b.push('Marketing Manager</option>\n                                        <option value="3"',a.view.pending({scope:this}),
">");b.push('Crisis Manager</option>\n                                      </select>     \n                                      </div>\n                                      <\!--RIGHT COLUMN--\>\n                                      <div class="col-md-7">\n                                        <div class="off-top10 input-group col-md-12 col-sm-8 col-xs-12">\n                                          <form class="form-horizontal">\n                                            \n                                            <div class="form-group col-md-12 col-sm-12 nopadLR">\n                                              <label class="nopadLR control-label col-md-8 col-sm-2 col-xs-6 align-right">Update Selected Fields</label>\n                                              <div class="col-md-6 col-sm-6 col-xs-6">\n                                                <select class="form-control input-group">\n                                                  <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                                  <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                                  <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                                  <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                                  <option value="five"',
a.view.pending({scope:this}),">");b.push('Five</option>\n                                                </select>\n                                              </div>\n                                            </div>\n                                          </form>    \n                                        </div>        \n                                      \n                                        <table id="dataFieldPermissionlist" data-toggle="table" data-cache="false" data-height="299" class="clear table table-bordered table-hover">\n                                          <thead>\n                                          <tr class="tbhead">\n                                            <th></th>\n                                            <th>Data Field</th>\n                                            <th>Status</td>\n                                          </tr>\n                                          </thead>                                        \n                                          <tbody>\n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>Phonetype_id</td>\n                                            <td>Edit Self</td>\n                                          </tr>\n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>Phone Comment</td>\n                                            <td>View</td>\n                                          </tr>\n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>Phone_countrycode</td>\n                                            <td>No Access</td>\n                                          </tr>           \n                                          <tr>\n                                            <td><input type="checkbox"></td>\n                                            <td>phone_number</td>\n                                            <td>Edit Self</td>\n                                          </tr>           \n                                          </tbody>\n                                        </table>\n                                        <div class="col-md-12 col-sm-8 col-xs-12">\n                                          <form class="navbar-form" role="search" ');
b.push(a.view.txt(2,"form","style",this,function(){var a=[];a.push('style="');a.push('text-align:left"');return a.join("")}));b.push('>\n                                            Add and delete rows permission\n                                            <div class="input-group input-group col-md-8">\n                                              <select class="form-control input-group">\n                                                <option value="one"',a.view.pending({scope:this}),">");b.push('----</option>\n                                                <option value="two"',
a.view.pending({scope:this}),">");b.push('New Access</option>\n                                                <option value="three"',a.view.pending({scope:this}),">");b.push('View</option>\n                                                <option value="four"',a.view.pending({scope:this}),">");b.push('Edit Self</option>\n                                                <option value="five"',a.view.pending({scope:this}),">");b.push('Edit Others</option>\n                                              </select>\n                                            </div>\n                                          </form>    \n                                        </div>\n                                      </div>\n                                    </div>\n                                    </div>\n                                  </div>                \n                                  <\!--/Data Field Permission--\>\n                                </div>\n                              </div>\n                          </div>\n                          <div class="opsportal-divider off-botm20"></div>  \n                          <div class="col-sm-12 col-md-12 col-xs-12 pull-right off-botm10">\n                            <div class="row">\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                </div>\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                      <\!--SAVE AND SAVE RETURN--\>\n                                      <div class="sns">\n                                        <div class="input-group-btn">\n                                          <button class="btn btn-primary float-right rbac-roles-addrole-create" ><i class="fa fa-save offset-5"></i>Create</button>\n                                          <button class="btn float-right rbac-roles-addrole-cancel" type="submit"><i class="fa fa-cancel offset-5"></i>Cancel</button>\n                                        </div>  \n                                      </div>\n                                      <\!--SAVE AND SAVE RETURN--\>  \n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <\!--  ================= /END Add Roles  ================  --\>\n                      <\!--  ================= Edit Roles  ================  --\>\n                      <div class="rbac-display rbac-role-editrole" ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('display:none"');return a.join("")}));b.push('>\n                        <div class="opsportal-panel container">\n                          <ul id="crumbs">\n                              <li><a href="#" rbac-show="rbac-roles">Roles</a></li>\n                              <li><a href="#" class="disabled">Edit Role</a></li>\n                          </ul>                          \n                          <div class="col-md-12 off-top10">\n                              <form>\n                                <div class="form-group">\n                                <label for="exampleInputEmail1">Role Name</label>\n                                <input class="form-control" name="role_label" >\n                                </div>\n                                <div class="form-group">\n                                <label for="exampleInputPassword1">Description</label>\n                                <textarea class="form-control" rows="3" name="role_description" ',
a.view.pending({scope:this}),">");b.push('Everyone in the SW and Conference Fee 2014</textarea>\n                                </div>\n                              </form> \n                              <\!--Tab--\>  \n                              <div class="clear"></div> \n                              <ul class="nav nav-tabs" role="tablist" id="myTab">\n                                <li role="presentation" class="active">\n                                  <a data-target="#editap" aria-controls="home" role="tab" data-toggle="tab">Action Permission</a>\n                                </li>\n                                <li role="presentation">\n                                  <a data-target="#editdfp" aria-controls="profile" role="tab" data-toggle="tab">Data Field Permission</a>\n                                </li>\n                              </ul>\n                              <div class="tab-content">\n                                <\!--Action Permission--\>\n                                <div role="tabpanel" class="tab-pane active" id="editap">\n                                  <\!--\n                                  <div class="col-sm-6 col-md-6 pull-right">\n                                    <form class="navbar-form" role="search" ');
b.push(a.view.txt(2,"form","style",this,function(){var a=[];a.push('style="');a.push('text-align:right"');return a.join("")}));b.push('>\n                                      <div class="input-group col-md-6">\n                                      <select class="form-control">\n                                        <option value="one"',a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                        <option value="two"',a.view.pending({scope:this}),">");
b.push('Two</option>\n                                        <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                        <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                        <option value="five"',a.view.pending({scope:this}),">");b.push('Five</option>\n                                      </select>\n                                      </div>\n                                    </form>    \n                                  </div>\n                                --\>\n                                  <\!--Container of Search and Filter--\>\n                                  <div class="">\n                                    <\!--Search--\>\n                                    <div class="searchbar col-xs-6 col-sm-6 col-md-6">\n                                          <div class="input-group">\n                                              <input type="text" class="form-control autocomplete-filter rbac-role-edit-actionsearch" placeholder="Search" >\n                                              <div class="input-group-btn">\n                                                  <button class="btn" ><i class="fa fa-search"></i></button>\n                                              </div>\n                                          </div>\n                                    </div>\n                                    <\!--/Search--\>\n                                  </div>\n                                  <\!--/Container of Search and Filter--\>\n                                  <div class="clear"></div>    \n                                  <table id="roleEditPermissionlist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                      <thead>\n                                      <tr class="tbhead">\n                                        <th></th>\n                                        <th>Description</th>\n                                        <th>Scope</td>\n                                        <th class="align-center">Action</th>\n                                      </tr>\n                                      </thead>                                    \n                                      <tbody>\n                                      <tr>\n                                        <td><input type="checkbox" checked></td>\n                                        <td contenteditable="false">HR Admin</td>\n                                        <td contenteditable="false">Region 10 | Marketing Dept</td>\n                                        <td class="action">\n                                            <span data-toggle="tooltip" data-placement="left" title="Edit" class="toEdit"><a href="#" class="editbtn fa fa-edit fa-2 rbac-roles-editrole-action-edit" assignment-id="[[= row.id ]]"></a>\n                                            </span>\n                                            <span data-toggle="tooltip" data-placement="left" title="Save" class="toSave hidden"><a class="fa fa-save fa-2 offset-9 rbac-roles-editrole-action-save" assignment-id="[[= row.id ]]"></a></span>\n                                            <span data-toggle="tooltip" data-placement="left" title="Cancel" class="toSave hidden"><a class="fa fa-close fa-2 offset-9 rbac-roles-editrole-action-cancel" assignment-id="[[= row.id ]]"></a></span>\n                                        </td>\n                                      </tr>\n                                      <tr>\n                                        <td><input type="checkbox" checked></td>\n                                        <td contenteditable="false">System Admin</td>\n                                        <td contenteditable="false">I.T Dept | M.I.S Dept</td>\n                                        <td><a href="#" class="editbtn fa fa-edit fa-2"></a></td>\n                                      </tr>\n                                      </tbody>\n                                  </table>  \n                                </div>\n                                <\!--/Action Permission--\>\n                                <\!--Data Field Permission--\>\n                                <div role="tabpanel" class="tab-pane" id="editdfp">\n                                    <div class="container-fluid">\n                                    <div class="row">\n                                      <\!--LEFT COLUMN--\>\n                                      <div class="col-md-5">\n                                      <div id="dfp-filter" class="pull-left">\n                                        <form class="navbar-form" role="search" ');
b.push(a.view.txt(2,"form","style",this,function(){var a=[];a.push('style="');a.push('text-align:right"');return a.join("")}));b.push('>\n                                        <div class="input-group">\n                                        <select class="form-control">\n                                          <option value="one"',a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                          <option value="two"',a.view.pending({scope:this}),">");
b.push('Two</option>\n                                          <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                          <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                          <option value="five"',a.view.pending({scope:this}),">");b.push('Five</option>\n                                        </select>\n                                        </div>\n                                        </form>    \n                                      </div>      \n                                      <select class="rslist" name="availableRoles" multiple="multiple">\n                                        <option value="1" selected',
a.view.pending({scope:this}),">");b.push('HR Admin</option>\n                                        <option value="2" selected',a.view.pending({scope:this}),">");b.push('System Admin</option>\n                                        <option value="3"',a.view.pending({scope:this}),">");b.push('Crisis Manager</option>\n                                        <option value="3"',a.view.pending({scope:this}),">");b.push('Marketing Manager</option>\n                                        <option value="3"',
a.view.pending({scope:this}),">");b.push('Crisis Manager</option>\n                                      </select>     \n                                      </div>\n                                      <\!--RIGHT COLUMN--\>\n                                      <div class="col-md-7">\n                                      <div class="pull-right input-group col-md-8">\n                                        <form class="navbar-form" role="search" ');b.push(a.view.txt(2,"form","style",this,function(){var a=
[];a.push('style="');a.push('text-align:right"');return a.join("")}));b.push('>\n                                        <label>Update Selected Fields</label>\n                                        <div class="input-group input-group col-md-7">\n                                        <select class="form-control input-group">\n                                          <option value="one"',a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                          <option value="two"',
a.view.pending({scope:this}),">");b.push('Two</option>\n                                          <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                          <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                          <option value="five"',a.view.pending({scope:this}),">");b.push('Five</option>\n                                        </select>\n                                        </div>\n                                        </form>    \n                                      </div>        \n                                      \n                                      <table id="permissionlist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                        <thead>\n                                          <tr class="tbhead">\n                                            <th></th>\n                                            <th>Data Field</th>\n                                            <th>Status</td>\n                                          </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>Phonetype_id</td>\n                                          <td>Edit Self</td>\n                                        </tr>\n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>Phone Comment</td>\n                                          <td>View</td>\n                                        </tr>\n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>Phone_countrycode</td>\n                                          <td>No Access</td>\n                                        </tr>           \n                                        <tr>\n                                          <td><input type="checkbox" checked></td>\n                                          <td>phone_number</td>\n                                          <td>Edit Self</td>\n                                        </tr>           \n                                        </tbody>\n                                      </table>      \n                                      <div class="pull-left input-group col-md-5">\n                                        <form class="navbar-form" role="search" ');
b.push(a.view.txt(2,"form","style",this,function(){var a=[];a.push('style="');a.push('text-align:left"');return a.join("")}));b.push('>\n                                        Add and delete rows permission\n                                        <div class="input-group input-group col-md-8">\n                                        <select class="form-control input-group">\n                                          <option value="one"',a.view.pending({scope:this}),">");b.push('----</option>\n                                          <option value="two"',
a.view.pending({scope:this}),">");b.push('New Access</option>\n                                          <option value="three"',a.view.pending({scope:this}),">");b.push('View</option>\n                                          <option value="four"',a.view.pending({scope:this}),">");b.push('Edit Self</option>\n                                          <option value="five"',a.view.pending({scope:this}),">");b.push('Edit Others</option>\n                                        </select>\n                                        </div>\n                                        </form>    \n                                      </div>\n                                      </div>\n                                    </div>\n                                    </div>\n                                </div>                \n                                <\!--/Data Field Permission--\>\n                              </div>\n                          </div>\n                          <div class="opsportal-divider off-botm20"></div>  \n                          <div class="col-sm-12 col-md-12 col-xs-12 pull-right off-botm10">\n                            <div class="row">\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                </div>\n                                <div class="col-md-6 col-sm-6 col-xs-12">\n                                      <\!--SAVE AND SAVE RETURN--\>\n                                      <div class="sns">\n                                        <div class="input-group-btn">\n                                          <button class="btn btn-primary float-right rbac-roles-editrole-save" type="submit"><i class="fa fa-save offset-5"></i>Save</button>\n                                          <button class="btn float-right rbac-roles-editrole-cancel" ><i class="fa fa-cancel offset-5"></i>Cancel</button>\n                                        </div>  \n                                      </div>\n                                      <\!--SAVE AND SAVE RETURN--\>  \n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <\!--  ================= /END Edit Roles  ================  --\>\n                      \n                      <\!--  ================= Scopes  ================  --\>\n                      <div class="rbac-display rbac-scopes" ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('display:none"');return a.join("")}));b.push('>\n                        <div class="opsportal-panel container">\n                            <ul id="crumbs">\n                                <li><a href="#" class="disabled">Scope</a></li>\n                            </ul>\n                            <div class="opsportal-panel-heading container">\n                                <div class="col-xs-6 col-sm-6 col-md-6 pull-left">\n                                    <\!--Search and Filter--\>\n                                    <div class="row">\n                                      <\!--Filter--\>\n                                      <div class="col-xs-12 col-sm-12 col-md-6">\n                                          <form class="normalform" role="search">\n                                            <div class="">\n                                              <select class="form-control">\n                                                  <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                                  <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                                  <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                                  <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                                  <option value="five"',
a.view.pending({scope:this}),">");b.push('Five</option>\n                                              </select>\n                                            </div>\n                                          </form>                                      \n                                      </div>\n                                      <\!--/Filter--\>\n                                    </div>\n                                    <\!--/Search and Filter--\>  \n                                </div>\n                                <div class="col-xs-6 col-sm-6 col-md-6 pull-right">\n                                      <\!--Add Button--\>\n                                      <div class=" col-xs-12 col-sm-3 col-md-2 addbtn">\n                                            <div class="input-group-btn">\n                                              <a class="col-xs-12 col-sm-12 btn float-right" rbac-show="rbac-addscopes" href="#add-scopes"><i class="fa fa-plus"></i> Add</a>\n                                            </div>\n                                      </div> \n                                      <\!--/Add Button--\>\n                                </div>          \n                            </div>\n                            <br />\n                            <div class="col-md-12">  \n                            <table id="scopelist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                <thead>\n                                  <tr class="tbhead">\n                                    <th>Scope Name</th>\n                                    <th>Description</th>\n                                    <th class="align-center">Action</th>\n                                  </tr>\n                                </thead>                                \n                                <tbody>\n                                  <tr>\n                                    <td>Region SW</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>Region NE</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                  <tr>\n                                    <td>Region SR</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>        \n                                  <tr>\n                                    <td>Region BJ</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr> \n                                  <tr>\n                                    <td>Region MC</td>\n                                    <td>Description of this Lorem Ipsum</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                  </tr>\n                                </tbody>\n                            </table>\n                            </div>\n                            <\!--Pagination--\>   \n                            <div class="col-md-12 padtop10">\n                                <div class="row">\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                      <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                        <span class="caret"></span>\n                                      </button>\n                                      <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                                <div class="row">\n                                  <div class="col-md-12 align-center off-botm20 off-top10">\n                                      <ul class="pagination nav" ');
b.push(a.view.txt(2,"ul","style",this,function(){var a=[];a.push('style="');a.push('vertical-align:bottom"');return a.join("")}));b.push('>\n                                        <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                        <li><a href="#">1</a></li>\n                                        <li><a href="#">2</a></li>\n                                        <li><a href="#">3</a></li>\n                                        <li><a href="#">4</a></li>\n                                        <li><a href="#">5</a></li>\n                                        <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                      </ul>\n                                  </div>\n                                </div>\n                            </div>\n                            <\!--/Pagination--\> \n                        </div>\n                      </div>\n                      <\!--  ================= /END Scopes  ================  --\>\n                      <\!--  ================= Add Scopes  ================  --\>\n                      <div class="rbac-display rbac-addscopes" ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('display:none"');return a.join("")}));b.push('>\n                        <div class="opsportal-panel container" >\n                            <ul id="crumbs">\n                                <li><a href="#" rbac-show="rbac-scopes">Scopes</a></li>\n                                <li><a href="#" class="disabled">Add Scopes</a></li>\n                            </ul>                          \n                          <div class="col-md-12 padtop20">\n                            <div ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('margin-bottom:30px;"');return a.join("")}));b.push('>\n                            <form>\n                              <div class="form-group">\n                              <label for="exampleInputEmail1">Scope Name:</label>\n                              <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter Role Names">\n                              </div>\n                              <div class="form-group">\n                              <label for="exampleInputPassword1">Description:</label>\n                              <textarea class="form-control" rows="3"',
a.view.pending({scope:this}),">");b.push('</textarea>\n                              </div>\n                              <div class="form-group">\n                              <label for="exampleInputEmail1">Condition:</label>\n                              <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter Role Names">\n                              </div>    \n                            </form>\n                            </div>\n                            <\!--add and filter--\>\n                            <div class="row off-botm10">\n                              <div class="col-md-6 col-sm-6 col-xs-6"><p>Click <i class="fa fa-plus" ');
b.push(a.view.txt(2,"i","style",this,function(){var a=[];a.push('style="');a.push('text-decoration:underline;color:#337AB7"');return a.join("")}));b.push('></i> below to add the Rule Set to the Scope Condition. Use "and" or "or" and parenthesis between Rule Sets to create the Scope Condition</p></div>\n                              <\!--filter--\> \n                              <div class="col-md-6 col-sm-6 col-xs-6">\n                                <div class="col-sm-9 col-md-10 col-xs-6">\n                                  <form class="navbar-form align-right " role="search">\n                                    <div class="input-group col-md-6 col-xs-12">\n                                      <select class="form-control">\n                                        <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                        <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                        <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                        <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                        <option value="five"',a.view.pending({scope:this}),
">");b.push('Five</option>\n                                      </select>\n                                    </div>\n                                  </form>    \n                                </div>\n                                \n                                <\!--Add Button--\>         \n                                <div class="col-sm-3 col-md-2 col-xs-3 addbtn">\n                                    <div class="input-group-btn">\n                                      <a class="btn" type="submit" href="#add-scopes"><i class="fa fa-plus"></i> Add</a>\n                                    </div>\n                                </div>\n                                <\!--Add Button--\>     \n                              </div>\n                              <\!--/filter--\>  \n                            </div>\n                            <\!--/add and filter--\>\n                            <\!--TABLE DATA--\>\n                            <table id="addscopelist" data-toggle="table" data-cache="false" data-height="299" class="table table-bordered table-hover">\n                                <thead>\n                                  <tr class="tbhead">\n                                    <th>Add</th>\n                                    <th>Rule Set Name</th>\n                                    <th>Rule Set Decription</th>\n                                    <th class="align-center">Action</th>\n                                  </tr>\n                                </thead>                                \n                                <tbody>                                \n                                <tr>\n                                  <td><a href="#add-rule" class="fa fa-plus" data-toggle="modal" data-target=".add-rule-set"></a></td>\n                                  <td>Region SW</td>\n                                  <td>All active staff in SW Region</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                  <td><a href="#add-rule" class="fa fa-plus" data-toggle="modal" data-target=".add-rule-set"></td>\n                                  <td>Conference Fee 2014</td>\n                                  <td>Everyone who has paid the conference fee for 2014</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                  <td><a href="#add-role" class="fa fa-plus" data-toggle="modal" data-target=".add-rule-set"></td>\n                                  <td>Woman SW</td>\n                                  <td>all female staff in SW Region</td>\n                                    <td>\n                                      <span data-toggle="tooltip" data-placement="left" title="Edit"><a href="" class="fa fa-edit fa-2 offset-9" data-toggle="modal" data-target=".edit-rule-set"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Clone"><a href="#" data-toggle="modal" data-target=".clone-confirm" class="clone fa fa-copy fa-2 offset-9"></a></span>\n                                      <span data-toggle="tooltip" data-placement="left" title="Delete"><a href="#delete-assignment" data-toggle="modal" data-target=".delete-confirm" class="fa fa-close fa-2"></a></span>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            <\!--/TABLE DATA--\>\n                            <div ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('clear:both"');return a.join("")}));b.push('></div>    \n                          </div>\n                          <\!--Pagination--\>   \n                          <div class="col-md-12 padtop10">\n                            <div class="row">\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-left">Display 244 result(s)</div>\n                                  <div class="col-xs-6 col-sm-6 col-md-6 align-right">\n                                      <button id="dLabel" class="" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Display 50\n                                        <span class="caret"></span>\n                                      </button>\n                                      <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="20">20</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="50">50</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="100">100</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="300">300</a></li>\n                                          <li><a href="javascript:void(0);" class="pagination-items-page" data-items="1000">1000</a></li>\n                                      </ul>\n                                  </div>\n                            </div>\n                            <div class="row">\n                                  <div class="col-md-12 align-center off-botm20 off-top10">\n                                      <ul class="pagination nav" ');
b.push(a.view.txt(2,"ul","style",this,function(){var a=[];a.push('style="');a.push('vertical-align:bottom"');return a.join("")}));b.push('>\n                                        <li><a href="#"><span aria-hidden="true">&laquo;</span><span class=""></span></a></li>\n                                        <li><a href="#">1</a></li>\n                                        <li><a href="#">2</a></li>\n                                        <li><a href="#">3</a></li>\n                                        <li><a href="#">4</a></li>\n                                        <li><a href="#">5</a></li>\n                                        <li><a href="#"><span aria-hidden="true">&raquo;</span><span class=""></span></a></li>\n                                      </ul>\n                                  </div>\n                            </div>\n                          </div>\n                          <\!--/Pagination--\>\n                          <div class="opsportal-divider off-botm20"></div>      \n                          <div class="input-group-btn">\n                              <button class="offset-10 off-botm20 btn float-right" type="submit"><i class="fa fa-save offset-5"></i>Save</button>\n                          </div>\n                        </div>\n                        <\!--Modal for Add Rule Set--\>\n                        <div class="modalcenter modal fade add-rule-set" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                          <div class="modal-dialog modal-lg">\n                            <div class="modal-content">\n                              <div ');
b.push(a.view.txt(2,"div","style",this,function(){var a=[];a.push('style="');a.push('margin-bottom:30px;overflow:hidden"');return a.join("")}));b.push('>\n                              <form>\n                                <div class="form-group">\n                                <label for="exampleInputEmail1">Rule Set Name</label>\n                                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter Rule Set Names" value="">\n                                </div>\n                                <div class="form-group">\n                                <label for="exampleInputPassword1">Description</label>\n                                <textarea class="form-control" rows="3"',
a.view.pending({scope:this}),">");b.push('</textarea>\n                                </div>\n                              </form>\n                              </div>\n                              <\!----\>\n                              <div class="fcv-field">\n                                <\!--matches--\>\n                                <div class="row">\n                                  <div class="col-sm-12 col-md-12">\n                                    <form class="navbar-form align-right " role="search">\n                                      <label class="offset-5">Matches</label>\n                                      <div class="input-group col-md-3">\n                                      <select class="form-control">\n                                        <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                        <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                        <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                        <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                        <option value="five"',a.view.pending({scope:this}),
">");b.push('Five</option>\n                                      </select>\n                                      </div>\n                                    </form>    \n                                  </div>          \n                                </div>\n                                <\!--/matches--\>\n                                <div class="opsportal-divider off-botm10 "></div>   \n                                <\!--labels--\>\n                                <div class="row">\n                                  <div class="col-md-4"><label>Field</label></div>\n                                  <div class="col-md-3"><label>Condition</label></div>\n                                  <div class="col-md-3"><label>Value</label></div>\n                                  <div class="col-md-2"></div>\n                                </div>\n                                <\!--Entry--\>\n                                <div class="row">\n                                  <\!--Field--\>\n                                  <div class="col-md-4">\n                                    <ul>\n                                      <li></li>\n                                    </ul>\n                                    <div class="input-group col-md-10">\n                                      <select class="form-control">\n                                        <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                        <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                        <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                        <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                        <option value="five"',a.view.pending({scope:this}),
">");b.push('Five</option>\n                                       </select>\n                                    </div>\n                                  </div>\n                                  <\!--/Field--\>\n                                  <\!--Condition--\>\n                                  <div class="col-md-3">\n                                    <ul>\n                                      <li></li>\n                                    </ul>\n                                    <div class="input-group col-md-10">\n                                      <select class="form-control">\n                                        <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                        <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                        <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                        <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                        <option value="five"',a.view.pending({scope:this}),
">");b.push('Five</option>\n                                       </select>\n                                    </div>          \n                                  </div>\n                                  <\!--/Condition--\>\n                                  <\!--Value--\>\n                                  <div class="col-md-3">\n                                    \n                                    <ul>\n                                      <li></li>\n                                    </ul>\n                                    <div class="input-group col-md-10">\n                                      <select class="form-control">\n                                        <option value="one"',
a.view.pending({scope:this}),">");b.push('-- Filter --</option>\n                                        <option value="two"',a.view.pending({scope:this}),">");b.push('Two</option>\n                                        <option value="three"',a.view.pending({scope:this}),">");b.push('Three</option>\n                                        <option value="four"',a.view.pending({scope:this}),">");b.push('Four</option>\n                                        <option value="five"',a.view.pending({scope:this}),
">");b.push('Five</option>\n                                       </select>\n                                    </div>          \n                                  </div>\n                                  <\!--/Value--\>\n                                  <div class="col-md-2">\n                                    <ul>\n                                      <li></li>\n                                    </ul>         \n                                    <button type="button" class="btn fa fa-plus" data-dismiss="modal"></button>\n                                  </div>\n                                </div>\n                              </div>\n                              <\!--/--\>\n                              <\!--Save--\>\n                              <div class="modal-footer">\n                                <button type="button" class="btn" data-dismiss="modal">save</button>\n                              </div>\n                              <\!--/Save--\>\n                            </div>\n                          \n                          </div>\n                        </div>    \n                        <\!--/Modal for Add--\>\n                      </div>\n                      <\!--  ================= /END Add Scopes  ================  --\>\n                  </div>\n                </div>\n');
return b.join("")}}))});steal.executed("opstools/RBAC/views/RBAC/RBAC.ejs");
steal("appdev",function(){AD.ui.loading.resources(12)},"OpsPortal/classes/OpsTool.js","opstools/RBAC/models/SiteUser.js","opstools/RBAC/models/PermissionAction.js","opstools/RBAC/models/PermissionRole.js","opstools/RBAC/models/PermissionScope.js","opstools/RBAC/controllers/Users.js","opstools/RBAC/controllers/UserAssignmentAdd.js","opstools/RBAC/controllers/UserPermissionList.js","opstools/RBAC/controllers/Roles.js","opstools/RBAC/controllers/RoleAdd.js","opstools/RBAC/controllers/RoleEdit.js","//opstools/RBAC/views/RBAC/RBAC.ejs",
function(){AD.ui.loading.completed(12);AD.Control.OpsTool.extend("RBAC",{CONST:{ASSIGNMENTADD:"Assignment.Add",USERPERMISSIONLIST:"User.PermissionList",EDITPERMISSION:"Permission.Edit",ROLEADD:"Role.Add",ROLEADDED:"Role.Added",ROLEDELETED:"Role.Deleted",ROLEEDIT:"Role.Edit",DONE:"Done",CANCEL:"Cancel"},init:function(a,c){this.options=c=AD.defaults({templateDOM:"//opstools/RBAC/views/RBAC/RBAC.ejs"},c);this._super(a,c);this.portals={};this.data={};this.data.users=[];this.data.permissions=[];this.data.roles=
[];this.data.scopes=[];this.data.hasBeenShown=!1;this.data.lastPortalShown="Users";this.initDOM();this.initEvents();this.loadData();this.portalShow("users")},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}));var a={"opstools.RBAC.Users":{el:".rbac-users",opt:{eventAssignmentAdd:this.CONST.ASSIGNMENTADD,eventPermissionList:this.CONST.USERPERMISSIONLIST}},"opstools.RBAC.UserAssignmentAdd":{el:".rbac-addassignments",opt:{eventDone:this.CONST.DONE}},"opstools.RBAC.UserPermissionList":{el:".rbac-permissionlist",
opt:{eventAssignmentAdd:this.CONST.ASSIGNMENTADD,eventDone:this.CONST.DONE}},"opstools.RBAC.Roles":{el:".rbac-roles",opt:{eventRoleAdd:this.CONST.ROLEADD,eventRoleEdit:this.CONST.ROLEEDIT,eventRoleDeleted:this.CONST.ROLEDELETED}},"opstools.RBAC.RoleAdd":{el:".rbac-role-addroles",opt:{eventRoleAdded:this.CONST.ROLEADDED,eventCancel:this.CONST.CANCEL}},"opstools.RBAC.RoleEdit":{el:".rbac-role-editrole",opt:{eventDone:this.CONST.DONE,eventCancel:this.CONST.CANCEL}}},c;for(c in a){var d=c.split(".").pop(),
b=a[c].el,e=a[c].opt,f=AD.Control.get(c);this.portals[d]=new f(b,e)}},initEvents:function(){var a=this;this.portals.Users.element.on(this.CONST.ASSIGNMENTADD,function(c,d){console.log(" ... User Assignment Add : ",d);a.portals.UserAssignmentAdd.loadUser(d);a.portals.UserAssignmentAdd.__from="Users";a.portalShow("UserAssignmentAdd")});this.portals.Users.element.on(this.CONST.USERPERMISSIONLIST,function(c,d){console.log(" ... User Permissions for : ",d);a.portals.UserPermissionList.loadUser(d);a.portalShow("UserPermissionList")});
this.portals.UserAssignmentAdd.element.on(this.CONST.DONE,function(c,d){console.log(" ... User Assignment Add Return ");d&&AD.Model.get("opstools.RBAC.Permission").findOne({id:d.id}).fail(function(){}).then(function(b){a.data.permissions.push(b)});a.portalShow(a.portals.UserAssignmentAdd.__from)});this.portals.UserPermissionList.element.on(this.CONST.ASSIGNMENTADD,function(c,d){console.log(" ... User Assignment Add : ",d);a.portals.UserAssignmentAdd.loadUser(d);a.portals.UserAssignmentAdd.__from=
"UserPermissionList";a.portalShow("UserAssignmentAdd")});this.portals.UserPermissionList.element.on(this.CONST.DONE,function(){a.portalShow("Users")});this.portals.Roles.element.on(this.CONST.ROLEADD,function(){a.portalShow("RoleAdd")});this.portals.Roles.element.on(this.CONST.ROLEEDIT,function(c,d){a.portals.RoleEdit.loadRole(d);a.portalShow("RoleEdit")});this.portals.Roles.element.on(this.CONST.ROLEDELETED,function(c,d){a.data.users.forEach(function(a){var c=[];a.permission.forEach(function(a){(a.role==
d.id||a.role.id==d.id)&&c.push(a)});c.forEach(function(c){c=a.permission.indexOf(c);a.permission.splice(c,1)})})});this.portals.RoleAdd.element.on(this.CONST.CANCEL,function(){a.portalShow("Roles")});this.portals.RoleAdd.element.on(this.CONST.ROLEADDED,function(c,d){a.data.roles.push(d);a.portalShow("Roles")});this.portals.RoleEdit.element.on(this.CONST.CANCEL,function(){a.portalShow("Roles")});this.portals.RoleEdit.element.on(this.CONST.DONE,function(){a.portalShow("Roles")})},loadUsers:function(){var a=
this;console.log("... loading Users");AD.Model.get("opstools.RBAC.SiteUser").findAll().fail(function(){}).then(function(c){a.data.users=c;a.portals.Users.loadUsers(c)})},loadData:function(){var a=this;this.loadUsers();AD.Model.get("opstools.RBAC.PermissionAction").findAll().fail(function(){}).then(function(c){c.forEach(function(a){a.translate()});a.portals.RoleAdd.loadActions(c);a.portals.RoleEdit.loadActions(c);a.data.actions=c});AD.Model.get("opstools.RBAC.PermissionRole").findAll().fail(function(){}).then(function(c){c.forEach(function(a){a.translate()});
a.portals.Users.loadRoles(c);a.portals.UserAssignmentAdd.loadRoles(c);a.portals.UserPermissionList.loadRoles(c);a.portals.Roles.loadRoles(c);a.data.roles=c});AD.Model.get("opstools.RBAC.PermissionScope").findAll().fail(function(){}).then(function(c){a.portals.Users.loadScopes(c);a.portals.UserAssignmentAdd.loadScopes(c);a.portals.UserPermissionList.loadScopes(c);a.data.scopes=c});AD.Model.get("opstools.RBAC.Permission").findAll().fail(function(){}).then(function(c){a.portals.Users.loadPermissions(c);
a.portals.UserPermissionList.loadPermissions(c);a.data.permissions=c})},portalShow:function(a){for(var c in this.portals)c.toLowerCase()==a.toLowerCase()?(this.portals[c].show(),this.data.lastPortalShown=c):this.portals[c].hide()},resize:function(){this._super();this.element.is(":visible")&&!this.data.hasBeenShown&&(this.portalShow(this.data.lastPortalShown),this.data.hasBeenShown=!0);var a=this.portals[this.data.lastPortalShown];a.resize&&a.resize()},".rbac-menu click":function(a,c){this.portalShow(a.attr("portal"));
c.preventDefault()}})});steal.executed("opstools/RBAC/controllers/RBAC.js");steal.executed("/site/labels/opstools-RBAC.js");steal("opstools/RBAC/controllers/RBAC.js","/site/labels/opstools-RBAC.js").then(function(){});steal.executed("opstools/RBAC/RBAC.js");steal.popPending();
