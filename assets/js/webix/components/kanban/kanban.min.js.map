{"version":3,"file":"kanban.min.js","sources":["../sources/header.js","../sources/helpers/image.js","../sources/common.js","../sources/list.js","../sources/dataview.js","../sources/uploader.js","../sources/kanban.js","../sources/locale.js","../sources/locales/en.js","../sources/editor.js","../sources/userlist.js","../sources/menu.js","../sources/comments.js"],"sourcesContent":["webix.protoUI({\n\tname:\"kanbanheader\",\n\t$kanban:true,\n\t$skin:function(){\n\t\tthis.defaults.height = webix.skin.$active.barHeight;\n\t},\n\tdefaults:{\n\t\ticon:\"webix_kanban_icon kbi-plus-circle\",\n\t\tborderless:true,\n\t\ttemplate:function(obj){\n\t\t\treturn \"<div class='webix_kanban_header' style='height:100%; line-height:\"+obj.height+\"px'>\"+\n\t\t\t\t\"<span class='webix_kanban_add_icon webix_icon \"+obj.icon+\"'></span><span class='webix_strong'>\"+obj.label+\"</span></div>\";\n\t\t}\n\t},\n\ton_click:{\n\t\twebix_kanban_add_icon:function(){\n\t\t\tlet obj = { text:\"\" };\n\t\t\tlet kanban = this.getKanban();\n\t\t\tlet list = kanban.queryView({id:this.config.link});\n\n\t\t\tif (list && this.callEvent(\"onBeforeCardAdd\",[obj, list])){\n\t\t\t\tkanban.setListStatus(obj, list);\n\t\t\t\tkanban.add(obj);\n\t\t\t}\n\t\t}\n\t},\n\tgetKanban(){\n\t\treturn webix.$$(this.config.master);\n\t},\n}, webix.ui.label);","const images = { jpg:true, jpeg:true, png:true, gif:true };\n\nconst icons = { ppt:\"-powerpoint\", pptx:\"-powerpoint\", pptm:\"-powerpoint\", pps:\"-powerpoint\", ppsx:\"-powerpoint\", ppsm:\"-powerpoint\",\n\tdoc:\"-word\", docx:\"-word\", docm:\"-word\", xls:\"-excel\", xlsx:\"-excel\", xlsm:\"-excel\", xlsb:\"-excel\", pdf:\"-pdf\",\n\twav:\"-audio\", aif:\"-audio\", mp3:\"-audio\", mid:\"-audio\", mpg:\"-video\", mov:\"-video\", wmv:\"-video\", avi:\"-video\", mp4:\"-video\",\n\tzip:\"-archive\", jar:\"-archive\", rar:\"-archive\", gz:\"-archive\", jpg:\"-image\", jpeg:\"-image\", png:\"-image\", gif:\"-image\"\n};\n\nexport function isImage(key){\n\treturn images[key.toString().toLowerCase()];\n}\n\nexport function getIconName(key){\n\treturn icons[key.toString().toLowerCase()] || \"\";\n}","import {isImage} from \"./helpers/image\";\n\nexport var type = {\n\theight:\"auto\",\n\ticons:[\n\t\t{ id:\"attachments\", icon:\"webix_kanban_icon kbi-file\", show:function(obj) { return obj.attachments? obj.attachments.length: false; }, template:\"#attachments.length#\"},\n\t\t{ id:\"comments\", icon:\"webix_kanban_icon kbi-comment\" , show:function(obj,kanban) { return !!kanban.config.comments; },\n\t\t\ttemplate:function(obj) { return obj.comments?(obj.comments.length||\"\"):\"\"; }\n\t\t},\n\t\t{ id:\"editor\", icon:\"webix_kanban_icon kbi-pencil\", show:function(obj,kanban) { return !kanban.config.cardActions;} },\n\t\t{ id:\"menu\", icon:\"webix_kanban_icon kbi-cogs\", show:function(obj,kanban) { return !!kanban.config.cardActions;} }\n\t],\n\ttemplateTags: function(obj,common,kanban){\n\t\tlet res = [];\n\t\tif(obj.tags){\n\t\t\tlet tags = kanban._tags;\n\t\t\tfor (let i = 0; i < obj.tags.length; i++){\n\t\t\t\tlet tag = obj.tags[i];\n\t\t\t\tif (tags.exists(tag))\n\t\t\t\t\ttag = tags.getItem(tag).value;\n\t\t\t\tres.push(\"<span class='webix_kanban_tag'>\"+tag+\"</span>\");\n\t\t\t}\n\t\t}\n\t\treturn \"<div  class='webix_kanban_tags'>\" +(res.length?res.join(\"\"):\"&nbsp;\")+\"</div>\";\n\t},\n\ttemplateIcons: function(obj,common,kanban){\n\t\tvar icons = [];\n\t\tvar icon = null;\n\t\tvar html = \"\";\n\t\tfor (var i = 0; i < common.icons.length; i++){\n\t\t\ticon = common.icons[i];\n\t\t\tif(!icon.show || icon.show(obj,kanban)){\n\t\t\t\thtml = \"<span webix_icon_id='\"+(icon.id||icon.icon||icon)+\"' class='webix_kanban_footer_icon' title='\"+(icon.tooltip||\"\")+\"'>\";\n\t\t\t\thtml += \"<span class='\"+(icon.icon||icon)+\" webix_icon'></span>\";\n\n\t\t\t\tif(icon.template){\n\t\t\t\t\thtml += \"<span class='webix_kanban_icon_text'>\"+webix.template(icon.template)(obj)+\"</span>\";\n\t\t\t\t}\n\t\t\t\thtml += \"</span>\";\n\t\t\t\ticons.push(html);\n\t\t\t}\n\t\t}\n\t\treturn \"<div  class='webix_kanban_footer_icons'>\" + icons.join(\" \") + \"</div>\";\n\t},\n\ttemplateAvatar: function(obj,common,kanban){\n\t\tlet users = kanban._users;\n\t\tlet user = (obj.user_id && users.exists(obj.user_id)) ? users.getItem(obj.user_id) : {};\n\t\tif (user.image)\n\t\t\treturn \"<img class='webix_kanban_avatar' src='\"+user.image+\"' title='\"+(user.value||\"\")+\"'>\";\n\t\treturn \"<span class='webix_icon webix_kanban_icon kbi-account' title='\"+(user.value||\"\")+\"'></span>\";\n\t},\n\ttemplateBody: function(obj){\n\t\treturn obj.text;\n\t},\n\ttemplateAttachments: function(obj){\n\t\tlet html = \"\";\n\t\tif(webix.isArray(obj.attachments)){\n\t\t\tfor (let i in obj.attachments){\n\t\t\t\tlet v = obj.attachments[i];\n\t\t\t\tlet type = (typeof v.link === \"string\" && v.link) ? v.link.split(\".\").pop() : \"\";\n\t\t\t\tif (isImage(type)){\n\t\t\t\t\thtml += \"<img class='webix_kanban_attachment' src='\"+v.link+\"'/>\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn html;\n\t},\n\ttemplateFooter: function(obj,common,kanban){\n\t\tvar tags = common.templateTags(obj,common,kanban);\n\t\treturn (tags?tags:\"&nbsp;\") + common.templateIcons(obj,common,kanban);\n\t},\n\ttemplateStart:webix.template(\"<div webix_l_id='#id#' class='{common.classname()} webix_kanban_list_item' style='width:{common.width}px; height:{common.height}px;'>\"),\n\ttemplate:function(obj, common){\n\t\tlet kanban = webix.$$(common.master);\n\n\t\tvar color = kanban._colors.exists(obj.color) ? kanban._colors.getItem(obj.color).color : obj.color;\n\t\tvar avatar = \"<div class='webix_kanban_user_avatar' webix_icon_id='$avatar'>\"+common.templateAvatar(obj,common,kanban)+\"</div>\";\n\t\tvar body = \"<div class='webix_kanban_body'>\"+common.templateBody(obj,common,kanban)+avatar+\"</div>\";\n\t\tvar attachments = kanban.config.attachments ? common.templateAttachments(obj,common,kanban) : \"\";\n\t\tvar footer = \"<div class='webix_kanban_footer'>\"+common.templateFooter(obj,common,kanban)+ \"</div>\";\n\t\treturn \"<div class='webix_kanban_list_content'\"+(color ? \" style='border-left-color:\"+color+\"'\" : \"\")+\">\"+attachments+body+footer+\"</div>\";\n\t}\n};\n\nwebix.KanbanView = {\n\t$kanban:true,\n\ton_context:{},\n\t$skin:function(){\n\t\t// prevent default list's item skin height\n\t},\n\tgetKanban(){\n\t\treturn webix.$$(this.config.master);\n\t},\n\t_kanban_event(s, t, i){\n\t\tthis.attachEvent(s,function(...rest){\n\t\t\trest[i] = this;\n\t\t\treturn  this.getKanban().callEvent(t, rest);\n\t\t});\n\t},\n\t_fixOrder(){\n\t\tthis.data.each((a,i) => a.$index = i+1);\n\t},\n\tmove(sid,tindex,tobj, details){\n\t\t// normally only one item is dragged\n\t\t// still, it possible to enable multi-selection through API\n\t\tif (webix.isArray(sid)){\n\t\t\treturn webix.DataMove.move.call(this, sid,tindex,tobj, details);\n\t\t}\n\n\t\tconst statusChange = (tobj !== this);\n\t\tconst kanban = this.getKanban();\n\t\tconst item = kanban.getItem(sid);\n\n\t\tif (statusChange){\n\t\t\tif (!kanban.callEvent(\"onBeforeStatusChange\", [sid,tobj.config.status,tobj]))\n\t\t\t\treturn;\n\n\t\t\tkanban.setListStatus(item, tobj);\n\t\t\tkanban.updateItem(sid);\n\t\t}\n\n\t\titem.$index = tindex-0.1;\n\t\tthis._fixOrder();\n\t\ttobj._fixOrder();\n\t\twebix.DataMove.move.call(tobj, sid, tindex);\n\n\t\t// trigger data saving\n\t\tvar dp = webix.dp.$$(kanban.config.id);\n\t\tif (dp){\n\t\t\tconst update = webix.copy(item);\n\t\t\tupdate.webix_move_index = tindex;\n\t\t\tupdate.webix_move_id = tobj.data.order[tindex+1];\n\t\t\t// we need to identify the target list on server side\n\t\t\t// when we have a complex status ( object or function )\n\t\t\t// use separate property\n\t\t\tupdate.webix_move_parent = tobj.config.serverStatus || tobj.config.status;\n\t\t\tdp.save(sid, \"update\", update);\n\t\t}\n\n\t\tif (statusChange)\n\t\t\tkanban.callEvent(\"onAfterStatusChange\", [sid,tobj.config.status,tobj]);\n\n\t\treturn sid;\n\t},\n\t_setHandlers(){\n\t\tthis.attachEvent(\"onAfterSelect\", function(){\n\t\t\tthis.eachOtherList(function(list){\n\t\t\t\tlist.unselect();\n\t\t\t});\n\t\t});\n\n\t\tthis._kanban_event(\"onBeforeSelect\", \"onListBeforeSelect\", 2);\n\t\tthis._kanban_event(\"onAfterSelect\", \"onListAfterSelect\", 1);\n\t\tthis._kanban_event(\"onBeforeContextMenu\", \"onListBeforeContextMenu\", 3);\n\t\tthis._kanban_event(\"onAfterContextMenu\", \"onListAfterContextMenu\", 3);\n\t\tthis._kanban_event(\"onItemClick\", \"onListItemClick\", 3);\n\t\tthis._kanban_event(\"onItemDblClick\", \"onListItemDblClick\", 3);\n\t\tthis._kanban_event(\"onBeforeDrag\", \"onListBeforeDrag\", 2);\n\t\tthis._kanban_event(\"onBeforeDrop\", \"onListBeforeDrop\", 2);\n\t\tthis._kanban_event(\"onAfterDrop\",\"onListAfterDrop\", 2);\n\t\tthis._kanban_event(\"onBeforeDragIn\", \"onListBeforeDragIn\", 2);\n\t\tthis._kanban_event(\"onDragOut\", \"onListDragOut\", 2);\n\n\t\tthis.on_click.webix_kanban_user_avatar = this._handle_icons;\n\t\tthis.on_click.webix_kanban_footer_icon = this._handle_icons;\n\t},\n\t_handle_icons(e,id,node){\n\t\tvar icon = node.getAttribute(\"webix_icon_id\");\n\t\tvar all = this.type.icons;\n\n\t\t//per-icon click handlers\n\t\tif (all){\n\t\t\tfor (var i=0; i<all.length; i++){\n\t\t\t\tif (typeof all[i] === \"object\" && (all[i].id || all[i].icon) === icon){\n\t\t\t\t\tif (all[i].click){\n\t\t\t\t\t\tall[i].click.call(this,id,e,node,this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (icon === \"$avatar\")\n\t\t\tthis.getKanban().callEvent(\"onAvatarClick\", [id, e, node, this]);\n\t\telse\n\t\t\tthis.getKanban().callEvent(\"onListIconClick\", [icon, id, e, node, this]);\n\n\t\treturn false;\n\t},\n\t$dragCreate: function(a,e){\n\t\tvar text = webix.DragControl.$drag(a,e);\n\t\tif (!text) return false;\n\t\tvar drag_container = document.createElement(\"DIV\");\n\t\tdrag_container.innerHTML=text;\n\t\tdrag_container.className=\"webix_drag_zone webix_kanban_drag_zone\";\n\t\tdocument.body.appendChild(drag_container);\n\t\treturn drag_container;\n\t},\n\t$dragPos: function(pos){\n\t\tpos.x = pos.x - 4;\n\t\tpos.y = pos.y - 4;\n\t},\n\teachOtherList:function(code){\n\t\tvar self = this.config.id;\n\t\tvar master = this.getKanban();\n\n\t\tmaster.eachList(function(view){\n\t\t\tif (view.config.id != self)\n\t\t\t\tcode.call(webix.$$(self), view);\n\t\t});\n\t},\n\tdefaults:{\n\t\tdrag:true,\n\t\tselect:true\n\t}\n};","import {type} from \"./common\";\n\nwebix.protoUI({\n\tname:\"kanbanlist\",\n\t$init(){\n\t\tthis.$view.className += \" webix_kanban_list\";\n\t\tthis.$ready.push(webix.bind(this._setHandlers,this));\n\t},\n\ttype: type\n}, webix.ui.list, webix.KanbanView);","import {type} from \"./common\";\n\nvar dtype = webix.copy(type);\ndtype.width = 200;\n\nwebix.protoUI({\n\tname:\"kanbandataview\",\n\t$init(){\n\t\tthis.$view.className += \" webix_kanban_list\";\n\t\tthis.$ready.push(webix.bind(this._setHandlers,this));\n\t},\n\tdefaults:{\n\t\tprerender:true,\n\t},\n\ttype:dtype\n}, webix.ui.dataview, webix.KanbanView);","import {isImage, getIconName} from \"./helpers/image\";\n\nwebix.protoUI({\n\tname:\"kanbanuploader\",\n\t$init(){\n\t\tthis.files.data.scheme({\n\t\t\t$init:(obj) =>{\n\t\t\t\tif (typeof obj.link === \"string\" && obj.link){\n\t\t\t\t\tobj.name = obj.name || obj.link.split(\"/\").pop();\n\t\t\t\t\tobj.type = obj.type || obj.name.split(\".\").pop();\n\t\t\t\t\tobj.status = obj.status || \"server\";\n\t\t\t\t}\n\t\t\t\tobj.sizetext = obj.sizetext || this._format_size(obj.size);\n\t\t\t}\n\t\t});\n\n\t\tthis.files.data.attachEvent(\"onStoreUpdated\", () => {\n\t\t\tlet view = webix.$$(this.config.link);\n\t\t\tlet html = \"<span class='webix_strong'>\" + (webix.i18n.kanban.dnd||\"\") + \"</span>\";\n\t\t\tif (!this.files.data.count())\n\t\t\t\tview.showOverlay(html);\n\t\t\telse view.hideOverlay();\n\t\t});\n\t},\n\tdefaults:{\n\t\ticon:\"webix_kanban_icon kbi-upload\",\n\t},\n\tgetValue(){\n\t\tlet data = [];\n\t\tthis.files.data.each(function(obj){\n\t\t\tif (obj.status === \"server\")\n\t\t\t\tdata.push( {id:obj.id, link:obj.link, size:obj.size} );\n\t\t});\n\t\treturn data;\n\t},\n\t_format_size(size){\n\t\tlet index = 0;\n\t\twhile (size > 1024){\n\t\t\tindex++;\n\t\t\tsize = size/1024;\n\t\t}\n\t\treturn Math.round(size*100)/100 + \" \" + webix.i18n.fileSize[index];\n\t}\n}, webix.ui.uploader);\n\nwebix.type(webix.ui.dataview, {\n\tname:\"uploader\",\n\theight:91,\n\twidth:161,\n\ttemplate:(obj, common) => {\n\t\treturn `<a${(obj.status === \"server\") ? ` href=\"${obj.link}\" download=\"${obj.name}\"` : \"\"}></a>\n\t\t\t\t${common.body(obj)}\n\t\t\t\t${common.title(obj,common)}\n\t\t\t\t${common.removeIcon(obj)}`;\n\t},\n\tbody:function(obj){\n\t\tif (obj.status === \"server\" && isImage(obj.type))\n\t\t\treturn `<div class=\"webix_kanban_uploader_body\"><img src=\"${obj.link}\"></div>`;\n\n\t\treturn `<div class='webix_kanban_uploader_body'>\n\t\t\t\t\t<span class='webix_icon webix_kanban_icon kbi-file${getIconName(obj.type)}'></span>\n\t\t\t\t</div>`;\n\t},\n\ttitle:function(obj,common){\n\t\treturn `<div class=\"webix_kanban_uploader_title\" title=\"${obj.name}\">\n\t\t\t\t\t${common.progress(obj)}\n\t\t\t\t\t<div class=\"webix_kanban_uploader_label\">${obj.name}</div>\n\t\t\t\t</div>`;\n\t},\n\tprogress:function(obj){\n\t\tswitch(obj.status){\n\t\t\tcase \"client\": return \"<span class='webix_kanban_uploader_progress'>\"+obj.sizetext+\"</span>\";\n\t\t\tcase \"transfer\": return \"<span class='webix_kanban_uploader_progress'>\"+obj.percent+\"%</span>\";\n\t\t\tcase \"server\": return \"<span class='webix_kanban_uploader_progress_server'>\"+obj.sizetext+\"</span>\";\n\t\t\tdefault: return \"<span class='webix_kanban_uploader_progress_error'>ERROR</span>\";\n\t\t}\n\t},\n\tremoveIcon:function(){\n\t\treturn \"<div class='webix_kanban_remove_upload'><span class='webix_icon wxi-close'></span></div>\";\n\t},\n\ton_click:{\n\t\t\"webix_kanban_remove_upload\":function(ev, id){\n\t\t\twebix.$$(this.config.uploader).files.remove(id);\n\t\t\treturn webix.html.preventEvent(ev);\n\t\t}\n\t}\n});","import \"./header\";\nimport \"./list\";\nimport \"./dataview\";\nimport \"./editor\";\nimport \"./userlist\";\nimport \"./menu\";\nimport \"./comments\";\n\nimport \"./locale\";\n\nfunction defaultSetter(a, sub){\n\tvar status = sub.config.status;\n\n\tif (typeof status === \"object\"){\n\t\tfor (var key in status)\n\t\t\ta[key] = status[key];\n\t} else if (typeof status === \"function\"){\n\t\tstatus.call(sub, a, true);\n\t} else {\n\t\ta.status = status;\n\t}\n}\nfunction defaultFilter(sub){\n\tvar status = sub.config.status;\n\n\tif (typeof status === \"object\")\n\t\treturn function(a){\n\t\t\tfor (var key in status){\n\t\t\t\tif (a[key] != status[key])\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\tif (typeof status === \"function\")\n\t\treturn function(a){ return status.call(sub, a); };\n\n\treturn function(a){ return a.status === status; };\n}\n\nwebix.protoUI({\n\tname:\"kanban\",\n\tdefaults:{\n\t\tdelimiter:\",\"\n\t},\n\t$skin:function(){\n\t\tthis.defaults.type = \"space\";\n\t},\n\t$init(config){\n\t\tthis.$view.className += \" webix_kanban\";\n\n\t\tthis.data.provideApi(this, true);\n\t\tthis.data.scheme({\n\t\t\t$change:(obj) =>{\n\t\t\t\tif (typeof obj.tags === \"string\")\n\t\t\t\t\tobj.tags = this._strToArr(obj.tags);\n\t\t\t}\n\t\t});\n\t\tthis._destroy_with_me = [];\n\n\t\tthis._statuses = new webix.DataCollection();\n\t\tthis._destroy_with_me.push(this._statuses);\n\n\t\tthis._tags = this._data_unification(config.tags);\n\t\tthis._users = this._data_unification(config.users);\n\t\tthis._colors = this._data_unification(config.colors);\n\t\tthis.$ready.push(function(){\n\t\t\tthis.reconstruct();\n\t\t\tthis._initEditor();\n\t\t\tthis._initUserList();\n\t\t\tthis._initMenu();\n\t\t\tthis._initComments();\n\t\t\tthis.data.attachEvent(\"onStoreUpdated\",\n\t\t\t\t(id, data, mode) => this._applyOrder(id, data, mode));\n\t\t\tthis.data.attachEvent(\"onIdChange\",\n\t\t\t\t(oldid, newid) => {\n\t\t\t\t\tthis.getOwnerList(oldid).data.changeId(oldid, newid);\n\t\t\t\t});\n\t\t\tthis.attachEvent(\"onDestruct\", () => {\n\t\t\t\tfor (let i = 0; i < this._destroy_with_me.length; i++)\n\t\t\t\t\tthis._destroy_with_me[i].destructor();\n\t\t\t});\n\t\t});\n\n\t\t//override default api of datastore\n\t\tthis.serialize = this._serialize;\n\t},\n\t_strToArr(value){\n\t\tif (value){\n\t\t\treturn value.split(this.config.delimiter);\n\t\t}\n\t\treturn [];\n\t},\n\tgetTags(){\n\t\treturn this._tags;\n\t},\n\tgetUsers(){\n\t\treturn this._users;\n\t},\n\tgetColors(){\n\t\treturn this._colors;\n\t},\n\tcardActions_setter(value){\n\t\tif (value === true) value = [\"edit\", \"copy\", \"remove\"];\n\t\tif (webix.isArray(value)){\n\t\t\treturn value.map((v) => {\n\t\t\t\treturn { id:v, value:webix.i18n.kanban.menu[v]||v };\n\t\t\t});\n\t\t}\n\t},\n\tshowEditor(obj){\n\t\tlet editor = this.getEditor();\n\t\tif (this.callEvent(\"onBeforeEditorShow\", [editor, obj]) && editor){\n\t\t\teditor.setValues(obj);\n\t\t\teditor.show();\n\t\t\tthis.callEvent(\"onAfterEditorShow\", [editor, obj]);\n\t\t}\n\t},\n\tcopy(id){\n\t\tif (this.callEvent(\"onBeforeCopy\", [id])){\n\t\t\tlet item = webix.copy(this.getItem(id));\n\t\t\tdelete item.id;\n\t\t\titem.text = webix.i18n.kanban.copy + \" \" + (item.text || \"\");\n\t\t\tlet sid = this.add(item);\n\t\t\tlet list = this.getOwnerList(sid);\n\t\t\tlist.move(sid, list.getIndexById(id)+1, list);\n\n\t\t\tthis.callEvent(\"onAfterCopy\", [id]);\n\t\t}\n\t},\n\t_removeCard(id){\n\t\tvar promise = webix.promise.defer();\n\n\t\tif (webix.i18n.kanban.confirm){\n\t\t\twebix.confirm({\n\t\t\t\ttext:webix.i18n.kanban.confirm,\n\t\t\t\tcallback:(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tthis.remove(id);\n\t\t\t\t\t\tpromise.resolve();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.remove(id);\n\t\t\tpromise.resolve();\n\t\t}\n\n\t\treturn promise;\n\t},\n\t_data_unification(value){\n\t\tif (value && value.getItem)\n\t\t\treturn value;\n\t\telse {\n\t\t\tlet data = new webix.DataCollection();\n\t\t\tthis._destroy_with_me.push(data);\n\t\t\tif(value && typeof value === \"string\")\n\t\t\t\tdata.load(value);\n\t\t\telse\n\t\t\t\tdata.parse(value||[]);\n\t\t\treturn data;\n\t\t}\n\t},\n\tgetEditor(){\n\t\treturn webix.$$(this._editor);\n\t},\n\tgetUserList(){\n\t\treturn webix.$$(this._userList);\n\t},\n\tgetMenu(){\n\t\treturn webix.$$(this._menu);\n\t},\n\tgetComments(){\n\t\treturn webix.$$(this._comments);\n\t},\n\t_initEditor(){\n\t\tif (this.config.editor){\n\t\t\tlet editor = webix.ui( {view:\"kanbaneditor\", master:this.config.id} );\n\n\t\t\tthis._editor = editor.config.id;\n\t\t\tthis._destroy_with_me.push(editor);\n\n\t\t\tthis.attachEvent(\"onListIconClick\", (icon, id) => {\n\t\t\t\tif (icon === \"editor\") this.showEditor(webix.copy( this.getItem(id) ));\n\t\t\t});\n\t\t\tthis.attachEvent(\"onListItemDblClick\", (id) => this.showEditor(webix.copy( this.getItem(id) )));\n\t\t}\n\t},\n\t_initUserList(){\n\t\tif (this.config.userList){\n\t\t\tlet userlist = typeof this.config.userList === \"object\"?this.config.userList:{};\n\t\t\twebix.extend(userlist, {view:\"kanbanuserlist\", masterId:this.config.id, data:this._users}, true);\n\t\t\tuserlist = webix.ui(userlist);\n\n\t\t\tthis._userList = userlist.config.id;\n\t\t\tthis._destroy_with_me.push(userlist);\n\t\t\t\n\t\t\tthis.attachEvent(\"onAvatarClick\", (id, e, node) => {\n\t\t\t\tlet userList = this.getUserList();\n\t\t\t\tuserList.setContext({id:id, user_id:this.getItem(id).user_id});\n\t\t\t\tuserList.show(node);\n\t\t\t});\n\t\t}\n\t},\n\t_initMenu(){\n\t\tif (this.config.cardActions){\n\t\t\tlet menu = webix.ui( {view:\"kanbanmenu\", data:this.config.cardActions, masterId:this.config.id} );\n\n\t\t\tthis._menu = menu.config.id;\n\t\t\tthis._destroy_with_me.push(menu);\n\n\t\t\tthis.attachEvent(\"onListIconClick\", (icon, id, e, node) => {\n\t\t\t\tif (icon === \"menu\"){\n\t\t\t\t\tlet menu = this.getMenu();\n\t\t\t\t\tmenu.setContext( {id:id} );\n\t\t\t\t\tmenu.show(node);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t_initComments(){\n\t\tif (this.config.comments){\n\t\t\tlet body = typeof this.config.comments === \"object\"?this.config.comments:{};\n\t\t\tbody = webix.extend({width:400, height:400}, body, true);\n\t\t\twebix.extend(body, { view:\"comments\", users:this._users }, true);\n\t\t\tlet comments = webix.ui( {view:\"kanbanchat\", body:body, masterId:this.config.id} );\n\n\t\t\tthis._comments = comments.config.id;\n\t\t\tthis._destroy_with_me.push(comments);\n\n\t\t\tthis.attachEvent(\"onListIconClick\", (icon, id, e, node) => {\n\t\t\t\tif (icon === \"comments\" && this.callEvent(\"onBeforeCommentsShow\", [id, e, node])){\n\t\t\t\t\tlet chat = this.getComments();\n\t\t\t\t\tlet pos = webix.html.offset(node);\n\t\t\t\t\tpos.y += pos.height;\n\t\t\t\t\t\n\t\t\t\t\tchat.hide();\n\t\t\t\t\tlet comments = chat.getBody();\n\t\t\t\t\tlet data = this.getItem(id).comments || [];\n\n\t\t\t\t\tcomments.parse( webix.copy(data) );\n\t\t\t\t\tchat.setContext( {id:id} );\n\t\t\t\t\tchat.show(pos);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t_serialize(){\n\t\tvar d = [];\n\t\tthis.eachList(function(l){ d = d.concat(l.serialize()); });\n\t\treturn d;\n\t},\n\t_applyOrder(id, data, mode){\n\t\tif (!id){\n\t\t\tthis._syncData();\n\t\t\treturn;\n\t\t}\n\n\t\tif (mode == \"add\"){\n\t\t\tthis._assignList(data);\n\t\t\tthis.getOwnerList(id).add(data);\n\t\t} else if (mode === \"delete\"){\n\t\t\tthis._sublists[data.$list].remove(id);\n\t\t} else if (mode === \"update\" || mode === \"paint\"){\n\t\t\tlet list = data.$list;\n\t\t\tthis._assignList(data);\n\t\t\tif (list === data.$list)\n\t\t\t\tthis.getOwnerList(id).updateItem(id, data);\n\t\t\telse {\n\t\t\t\tthis._sublists[list].remove(id);\n\t\t\t\tthis.getOwnerList(id).add(data);\n\t\t\t}\n\t\t}\n\t},\n\tsetListStatus(obj, list){\n\t\tfor (var i=0; i<this._sublists.length; i++){\n\t\t\tif (this._sublists[i] === list){\n\t\t\t\tdefaultSetter(obj, list);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\treconstruct(){\n\t\tthis._prepareLists();\n\t\tthis._syncData();\n\t},\n\t_prepareLists(){\n\t\tthis._sublists = [];\n\t\tthis._subfilters = [];\n\t\tlet statuses = [];\n\t\tlet views = this.queryView(a => a.$kanban, \"all\");\n\n\t\tfor (let i = 0; i < views.length; i++) {\n\t\t\tlet sub = views[i];\n\t\t\tif ( sub.config.view !== \"kanbanheader\")\n\t\t\t\tthis._sublists.push(sub);\n\t\t\telse sub.config.master = this.config.id;\n\t\t}\n\n\t\tfor (let i = 0; i < this._sublists.length; i++) {\n\t\t\tlet sub = this._sublists[i];\n\t\t\tthis._subfilters[i] = defaultFilter(sub);\n\n\t\t\tif (this.config.icons){\n\t\t\t\tsub.type.icons = sub.type.icons || this.config.icons;\n\t\t\t}\n\n\t\t\tlet value = sub.config.name || (typeof sub.config.status === \"string\" && sub.config.status ?\n\t\t\t\tsub.config.status[0].toUpperCase() + sub.config.status.slice(1) : sub.config.id);\n\t\t\tstatuses.push( {id:i.toString(), value:value} );\n\n\t\t\tsub.config.master = this.config.id;\n\t\t\tsub.type.master = this.config.id;\n\t\t}\n\n\t\tthis._statuses.clearAll();\n\t\tthis._statuses.parse(statuses);\n\t},\n\t_syncData(){\n\t\tvar i, sets = [];\n\t\tfor (i=0; i<this._sublists.length; i++) sets[i] = [];\n\n\t\tthis.data.each(function(item){\n\t\t\tlet j = this._assignList(item);\n\t\t\tif (j >= 0)\n\t\t\t\tsets[j].push(item);\n\t\t}, this);\n\n\t\tfor (i=0; i<this._sublists.length; i++){\n\t\t\tvar data = sets[i];\n\t\t\tif (data.length && data[0].$index)\n\t\t\t\tdata.sort( (a,b) => a.$index > b.$index ? 1 : -1 );\n\n\t\t\tthis._sublists[i].clearAll();\n\t\t\tthis._sublists[i].data.importData(data);\n\t\t}\n\t},\n\t_assignList(data){\n\t\tfor (var i = 0; i < this._sublists.length; i++) {\n\t\t\tif (this._subfilters[i](data)){\n\t\t\t\treturn data.$list = i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\tgetSelectedId(){\n\t\tvar selected = null;\n\t\tthis.eachList(function(list){ selected = list.getSelectedId() || selected; });\n\t\treturn selected;\n\t},\n\tselect(id){\n\t\tthis.getOwnerList(id).select(id);\n\t},\n\tgetOwnerList(id){\n\t\tvar item = this.getItem(id);\n\t\treturn item ? this._sublists[item.$list] : null;\n\t},\n\teachList(code){\n\t\tfor (var i=0; i<this._sublists.length; i++){\n\t\t\tcode.call(this, this._sublists[i], this._sublists[i].config.status);\n\t\t}\n\t}\n}, webix.DataLoader, webix.EventSystem, webix.ui.headerlayout );","import en from \"./locales/en\";\nwebix.i18n.kanban = en;","export default {\n\t\"copy\" : \"Copy\",\n\t\"dnd\" : \"Drop Files Here\",\n\t\"remove\" : \"Remove\",\n\t\"save\" : \"Save\",\n\t\"confirm\":\"The card will be deleted permanently, are you sure?\",\n\t\"editor\":{\n\t\t\"add\" : \"Add card\",\n\t\t\"assign\" : \"Assign to\",\n\t\t\"attachments\" : \"Attachments\",\n\t\t\"color\" : \"Color\",\n\t\t\"edit\" : \"Edit card\",\n\t\t\"status\" : \"Status\",\n\t\t\"tags\" : \"Tags\",\n\t\t\"text\" : \"Text\",\n\t\t\"upload\" : \"Upload\"\n\t},\n\t\"menu\":{\n\t\t\"copy\": \"Copy\",\n\t\t\"edit\": \"Edit\",\n\t\t\"remove\": \"Remove\"\n\t}\n};","import \"./uploader\";\n\nimport \"./locale\";\n\nwebix.protoUI({\n\tname:\"kanbaneditor\",\n\tdefaults:{\n\t\twidth:534,\n\t\tposition:\"center\",\n\t\tcss:\"webix_kanban_editor\",\n\t\tmodal:true,\n\t\tmove:true\n\t},\n\t$init(config){\n\t\tlet kanban = webix.$$(config.master);\n\n\t\tconfig.head = {\n\t\t\tview:\"toolbar\", paddingX:17, paddingY:8,\n\t\t\telements:[\n\t\t\t\t{ view:\"label\", label:webix.i18n.kanban.editor.add, localId:\"$kanban_header\"},\n\t\t\t\t{ view:\"icon\", icon:\"wxi-close\", click:() => this._close()}\n\t\t\t]\n\t\t};\n\n\t\tlet form = { view:\"form\", borderless:true, padding:0, elementsConfig:{ labelPosition:\"top\" } };\n\t\tform[\"elements\"] = webix.isArray(kanban.config.editor) ? kanban.config.editor : [\n\t\t\t{ view:\"textarea\", label:webix.i18n.kanban.editor.text, name:\"text\", height:90},\n\t\t\t{ view:\"multicombo\", label:webix.i18n.kanban.editor.tags, name:\"tags\", options:kanban._tags, $hide:true},\n\t\t\t{ margin:8,\n\t\t\t\tcols:[\n\t\t\t\t\t{ view:\"combo\", label:webix.i18n.kanban.editor.assign, name:\"user_id\", $hide:true, options:{\n\t\t\t\t\t\tbody:{ data:kanban._users, yCount:5 }\n\t\t\t\t\t}},\n\t\t\t\t\t{ view:\"richselect\", label:webix.i18n.kanban.editor.color,  name:\"color\", $hide:true, options:{\n\t\t\t\t\t\tbody:{\n\t\t\t\t\t\t\tyCount:5, data:kanban._colors, css:\"webix_kanban_colorpicker\",\n\t\t\t\t\t\t\ttemplate:\"<span class='webix_kanban_color_item' style='background-color: #color#'></span>#value#\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}},\n\t\t\t\t\t{ view:\"richselect\", label:webix.i18n.kanban.editor.status, name:\"$list\", options:{\n\t\t\t\t\t\tbody:{ data:kanban._statuses, yCount:5 }\n\t\t\t\t\t}}\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\t\tif (kanban.config.attachments)\n\t\t\tform.elements.push({ margin:0, rows:[\n\t\t\t\t{\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{ view:\"label\", label:webix.i18n.kanban.editor.attachments },\n\t\t\t\t\t\t{ view:\"kanbanuploader\", label:webix.i18n.kanban.editor.upload, upload:kanban.config.attachments,\n\t\t\t\t\t\t\tname:\"attachments\", autowidth:1, css:\"webix_kanban_uploader\", type:\"icon\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{ view:\"dataview\", localId:\"$kanban_dataview_uploader\", yCount:1, borderless:true,\n\t\t\t\t\ttype:\"uploader\", css:\"webix_kanban_dataview_uploader\",\n\t\t\t\t\ton:{\n\t\t\t\t\t\tonItemDblClick:(id, e, node) => {\n\t\t\t\t\t\t\tlet link = node.getElementsByTagName(\"a\")[0];\n\t\t\t\t\t\t\tlink.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]});\n\n\t\tconfig.body = { paddingX:17, paddingY:0, margin:16,\n\t\t\trows:[\n\t\t\t\tform,\n\t\t\t\t{\n\t\t\t\t\tcols:[\n\t\t\t\t\t\t{ view:\"button\", label:webix.i18n.kanban.remove, type:\"danger\", autowidth:true,\n\t\t\t\t\t\t\thidden:true, localId:\"$kanban_remove\",\n\t\t\t\t\t\t\tclick:() => {\n\t\t\t\t\t\t\t\tlet values = this.getValues();\n\t\t\t\t\t\t\t\tthis.getKanban()._removeCard(values.id).then(() => this._close());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ },\n\t\t\t\t\t\t{ view:\"button\", label:webix.i18n.kanban.save, type:\"form\", autowidth:true,\n\t\t\t\t\t\t\tclick:() => {\n\t\t\t\t\t\t\t\tlet values = this.getValues({hidden:false});\n\t\t\t\t\t\t\t\tlet kanban = this.getKanban();\n\n\t\t\t\t\t\t\t\tthis._fixStatus(values, kanban);\n\t\t\t\t\t\t\t\tif ( kanban.exists(values.id) ){\n\t\t\t\t\t\t\t\t\tvalues.$list = kanban.getItem(values.id).$list;\n\t\t\t\t\t\t\t\t\tkanban.updateItem(values.id, values);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse kanban.add(values);\n\t\t\t\t\t\t\t\tthis._close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{ height:1 }\n\t\t\t]\n\n\t\t};\n\n\t\tthis.$ready.push(this._afterInit);\n\t},\n\t_afterInit:function(){\n\t\tthis._form = this.queryView({view:\"form\"});\n\t\tthis._removeBtn = this.queryView({localId:\"$kanban_remove\"});\n\t\tthis._header = this.queryView({localId:\"$kanban_header\"});\n\n\t\tlet uploader = this.queryView({view:\"kanbanuploader\"});\n\t\tif (uploader){\n\t\t\tlet dataview = this.queryView({localId:\"$kanban_dataview_uploader\"});\n\t\t\tuploader.define( \"link\", dataview.config.id );\n\t\t\tuploader.addDropZone(dataview.$view);\n\t\t\twebix.extend(dataview, webix.OverlayBox);\n\t\t}\n\n\t\tlet views = this.queryView({$hide:true}, \"all\");\n\t\tif (views.length)\n\t\t\tthis.attachEvent(\"onShow\", () => {\n\t\t\t\tfor (let i=0; i<views.length; i++)\n\t\t\t\t\tif (views[i].getList().count())\n\t\t\t\t\t\tviews[i].show();\n\t\t\t\t\telse views[i].hide();\n\t\t\t});\n\t},\n\t_fixStatus(values, kanban){\n\t\tvalues.$list = Number(values.$list) || 0;\n\t\tif (kanban._sublists[values.$list])\n\t\t\tkanban.setListStatus(values, kanban._sublists[values.$list]);\n\t},\n\tgetForm(){\n\t\treturn this._form;\n\t},\n\tgetKanban(){\n\t\treturn webix.$$(this.config.master);\n\t},\n\tsetValues(values){\n\t\tif (typeof values !== \"object\" || !values)\n\t\t\tvalues = {};\n\t\tlet kanban = this.getKanban();\n\t\tlet listIndex = kanban._assignList(values);\n\t\tvalues.$list = values.$list || (listIndex !== -1 ? listIndex : 0);\n\n\t\tthis._prepareEditor(kanban, values.id);\n\t\tthis._form.setValues(values);\n\t},\n\tgetValues(details){\n\t\treturn this._form.getValues(details);\n\t},\n\t_prepareEditor(kanban, id){\n\t\tif (id && kanban.exists(id)){\n\t\t\tthis._removeBtn.show();\n\t\t\tthis._header.define(\"label\", webix.i18n.kanban.editor.edit);\n\t\t} else {\n\t\t\tthis._removeBtn.hide();\n\t\t\tthis._header.define(\"label\", webix.i18n.kanban.editor.add);\n\t\t}\n\t\tthis._header.refresh();\n\t},\n\t_close(){\n\t\tthis.hide();\n\t\tthis._form.clear();\n\t\tthis._prepareEditor();\n\t}\n}, webix.ui.window);","webix.protoUI({\n\tname:\"kanbanuserlist\",\n\tdefaults:{\n\t\twidth:300,\n\t\tlayout:\"y\",\n\t\tscroll:true,\n\t\tyCount:4,\n\t\tautoheight:false,\n\t\tselect:true,\n\t\ttemplate:function(obj){\n\t\t\tif (obj.image)\n\t\t\t\treturn \"<img class='webix_kanban_list_avatar' src='\"+obj.image+\"'>\"+obj.value;\n\n\t\t\treturn \"<span class='webix_icon webix_kanban_icon kbi-account webix_kanban_list_avatar'></span>\"+obj.value;\n\t\t}\n\t},\n\t$init(){\n\t\tthis.$ready.push(function(){\n\t\t\tthis.attachEvent(\"onShow\", () => {\n\t\t\t\tlet user_id = this.getContext().user_id;\n\n\t\t\t\tif ( user_id && this.exists(user_id) ){\n\t\t\t\t\tthis.select(user_id);\n\t\t\t\t\tthis.showItem(user_id);\n\t\t\t\t} else this.unselectAll();\n\t\t\t});\n\n\t\t\tthis.attachEvent(\"onMenuItemClick\", (id) => {\n\t\t\t\tlet kanban = this.getKanban();\n\t\t\t\tlet selectedTask = this.getContext().id;\n\n\t\t\t\tkanban.updateItem(selectedTask, {user_id:id});\n\t\t\t});\n\n\t\t\tthis.type.master = this.config.masterId;\n\t\t});\n\t},\n\tgetKanban(){\n\t\treturn webix.$$(this.config.masterId);\n\t}\n}, webix.ui.contextmenu);\n","webix.protoUI({\n\tname:\"kanbanmenu\",\n\t$init(){\n\t\tthis.$ready.push(function(){\n\t\t\tthis.attachEvent(\"onItemClick\", function(id){\n\t\t\t\tlet cid = this.getContext().id;\n\t\t\t\tlet kanban = this.getKanban();\n\n\t\t\t\tif ( kanban.callEvent(\"onBeforeCardAction\", [id, cid]) ){\n\t\t\t\t\tswitch(id){\n\t\t\t\t\t\tcase \"edit\":\n\t\t\t\t\t\t\tkanban.showEditor(webix.copy( kanban.getItem(cid) ));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"copy\":\n\t\t\t\t\t\t\tkanban.copy(cid);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"remove\":\n\t\t\t\t\t\t\tkanban._removeCard(cid);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tgetKanban(){\n\t\treturn webix.$$(this.config.masterId);\n\t}\n}, webix.ui.contextmenu);","webix.protoUI({\n\tname:\"kanbanchat\",\n\t$init(config){\n\t\tconfig.padding = 0;\n\n\t\tthis.$ready.push(function(){\n\t\t\tthis.attachEvent(\"onHide\", this._save);\n\t\t});\n\t},\n\t_save(){\n\t\tlet context = this.getContext();\n\t\tlet comments = this.getBody();\n\t\tlet kanban = this.getKanban();\n\n\t\tif (context && kanban.exists(context.id))\n\t\t\tkanban.updateItem(context.id, {comments:comments.serialize()});\n\n\t\tcomments.queryView({view:\"form\"}).clear();\n\t\tcomments.queryView({view:\"list\"}).clearAll();\n\t},\n\tgetKanban(){\n\t\treturn webix.$$(this.config.masterId);\n\t}\n}, webix.ui.context);\n"],"names":["webix","protoUI","name","$kanban","$skin","defaults","height","skin","$active","barHeight","icon","borderless","template","obj","label","on_click","webix_kanban_add_icon","text","kanban","this","getKanban","list","queryView","id","config","link","callEvent","setListStatus","add","$$","master","ui","images","jpg","jpeg","png","gif","icons","ppt","pptx","pptm","pps","ppsx","ppsm","doc","docx","docm","xls","xlsx","xlsm","xlsb","pdf","wav","aif","mp3","mid","mpg","mov","wmv","avi","mp4","zip","jar","rar","gz","isImage","key","toString","toLowerCase","type","show","attachments","length","comments","cardActions","templateTags","common","res","tags","_tags","i","tag","exists","getItem","value","push","join","templateIcons","html","tooltip","templateAvatar","users","_users","user","user_id","image","templateBody","templateAttachments","isArray","v","split","pop","templateFooter","templateStart","color","_colors","avatar","body","KanbanView","on_context","_kanban_event","s","t","attachEvent","rest","_fixOrder","data","each","a","$index","move","sid","tindex","tobj","details","DataMove","call","statusChange","item","status","updateItem","dp","update","copy","webix_move_index","webix_move_id","order","webix_move_parent","serverStatus","save","_setHandlers","eachOtherList","unselect","webix_kanban_user_avatar","_handle_icons","webix_kanban_footer_icon","e","node","getAttribute","all","_typeof","click","$dragCreate","DragControl","$drag","drag_container","document","createElement","innerHTML","className","appendChild","$dragPos","pos","x","y","code","self","eachList","view","drag","select","$init","$view","$ready","bind","dtype","width","prerender","dataview","files","scheme","sizetext","_this","_format_size","size","i18n","dnd","count","hideOverlay","showOverlay","getValue","index","Math","round","fileSize","uploader","title","removeIcon","progress","percent","ev","remove","preventEvent","defaultSetter","sub","defaultFilter","position","css","modal","head","paddingX","paddingY","elements","editor","localId","_close","form","padding","elementsConfig","labelPosition","options","$hide","margin","cols","assign","yCount","_statuses","rows","upload","autowidth","on","onItemDblClick","getElementsByTagName","hidden","values","getValues","_removeCard","then","_fixStatus","$list","_afterInit","_form","_removeBtn","_header","define","addDropZone","extend","OverlayBox","views","getList","hide","Number","_sublists","getForm","setValues","listIndex","_assignList","_prepareEditor","edit","refresh","clear","window","layout","scroll","autoheight","getContext","showItem","unselectAll","selectedTask","masterId","contextmenu","cid","showEditor","_save","context","getBody","serialize","clearAll","delimiter","provideApi","$change","_strToArr","_destroy_with_me","DataCollection","_data_unification","colors","reconstruct","_initEditor","_initUserList","_initMenu","_initComments","mode","_this2","_applyOrder","oldid","newid","getOwnerList","changeId","destructor","_serialize","getTags","getUsers","getColors","cardActions_setter","map","menu","getEditor","getIndexById","promise","defer","confirm","callback","result","_this3","resolve","load","parse","_editor","getUserList","_userList","getMenu","_menu","getComments","_comments","_this4","userList","userlist","_this5","setContext","_this6","_this7","chat","offset","d","l","concat","_syncData","_prepareLists","_subfilters","statuses","toUpperCase","slice","sets","j","sort","b","importData","getSelectedId","selected","DataLoader","EventSystem","headerlayout"],"mappings":"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"}